/* Copyright (c) 2017 comScore, Inc.
 * All rights reserved.
 * By using this software, you are agreeing to be bound by the
 * terms of these policies: http://www.comscore.com/About_comScore/Privacy_Policy
 */
window.ns_=window.ns_||{},function(a){var b=b||{};b.indexOf=function(a,b){var c=-1;return this.forEach(b,function(b,d){b==a&&(c=d)}),c},b.forEach=function(a,b,c){try{if("function"==typeof b)if(c="undefined"!=typeof c?c:null,"number"!=typeof a.length||"undefined"==typeof a[0]){var d="undefined"!=typeof a.__proto__;for(var e in a)a.hasOwnProperty(e)&&(!d||d&&"undefined"==typeof a.__proto__[e])&&"function"!=typeof a[e]&&b.call(c,a[e],e)}else for(var f=0,g=a.length;f<g;f++)b.call(c,a[f],f)}catch(h){}};var b=b||{};b.parseBoolean=function(a,b){return b=b||!1,a?"0"!=a:b},b.parseInteger=function(a,b){return null==a||isNaN(a)?b||0:parseInt(a)},b.parseLong=function(a,b){var c=Number(a);return null==a||isNaN(c)?b||0:c},b.toString=function(a){if("undefined"==typeof a)return"undefined";if("string"==typeof a)return a;if(a instanceof Array)return a.join(",");var b="";for(var c in a)a.hasOwnProperty(c)&&(b+=c+":"+a[c]+";");return b||a.toString()};var b=b||{};b.filter=function(a,b){var c={};for(var d in b)b.hasOwnProperty(d)&&a(b[d])&&(c[d]=b[d]);return c},b.extend=function(a){var b,c=arguments.length;a=a||{};for(var d=1;d<c;d++)if(b=arguments[d])for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);return a};var b=b||{};b.cloneObject=function(a){if(null==a||"object"!=typeof a)return a;var b=function(){function a(){}function b(b){return"object"==typeof b?(a.prototype=b,new a):b}function c(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b])}function d(){this.copiedObjects=[];var a=this;this.recursiveDeepCopy=function(b){return a.deepCopy(b)},this.depth=0}function e(a,b){var c=new d;return b&&(c.maxDepth=b),c.deepCopy(a)}function f(a){return"undefined"!=typeof window&&window&&window.Node?a instanceof Node:"undefined"!=typeof document&&a===document||"number"==typeof a.nodeType&&a.attributes&&a.childNodes&&a.cloneNode}var g=[];return c.prototype={constructor:c,canCopy:function(){return!1},create:function(a){},populate:function(a,b,c){}},d.prototype={constructor:d,maxDepth:256,cacheResult:function(a,b){this.copiedObjects.push([a,b])},getCachedResult:function(a){for(var b=this.copiedObjects,c=b.length,d=0;d<c;d++)if(b[d][0]===a)return b[d][1]},deepCopy:function(a){if(null===a)return null;if("object"!=typeof a)return a;var b=this.getCachedResult(a);if(b)return b;for(var c=0;c<g.length;c++){var d=g[c];if(d.canCopy(a))return this.applyDeepCopier(d,a)}throw new Error("Unable to clone the following object "+a)},applyDeepCopier:function(a,b){var c=a.create(b);if(this.cacheResult(b,c),this.depth++,this.depth>this.maxDepth)throw new Error("Maximum recursion depth exceeded.");return a.populate(this.recursiveDeepCopy,b,c),this.depth--,c}},e.DeepCopier=c,e.deepCopiers=g,e.register=function(a){a instanceof c||(a=new c(a)),g.unshift(a)},e.register({canCopy:function(){return!0},create:function(a){return a instanceof a.constructor?b(a.constructor.prototype):{}},populate:function(a,b,c){for(var d in b)b.hasOwnProperty(d)&&(c[d]=a(b[d]));return c}}),e.register({canCopy:function(a){return a instanceof Array},create:function(a){return new a.constructor},populate:function(a,b,c){for(var d=0;d<b.length;d++)c.push(a(b[d]));return c}}),e.register({canCopy:function(a){return a instanceof Date},create:function(a){return new Date(a)}}),e.register({canCopy:function(a){return f(a)},create:function(a){return"undefined"!=typeof document&&a===document?document:a.cloneNode(!1)},populate:function(a,b,c){if("undefined"!=typeof document&&b===document)return document;if(b.childNodes&&b.childNodes.length)for(var d=0;d<b.childNodes.length;d++){var e=a(b.childNodes[d]);c.appendChild(e)}}}),{deepCopy:e}}();return b.deepCopy(a)};var b=b||{};b.getNamespace=function(){return a.ns_||a},b.uid=function(){var a=1;return function(){return+new Date+"_"+a++}}(),b.isEmpty=function(a){return void 0===a||null===a||""===a||a instanceof Array&&0===a.length},b.isNotEmpty=function(a){return!this.isEmpty(a)},b.safeGet=function(a,b){return b=this.exists(b)?b:"",this.exists(a)?a:b},b.isTrue=function(a){return"undefined"!=typeof a&&("string"==typeof a?(a=a.toLowerCase(),"true"===a||"1"===a||"on"===a):!!a)},b.regionMatches=function(a,b,c,d,e){if(b<0||d<0||b+e>a.length||d+e>c.length)return!1;for(;--e>=0;){var f=a.charAt(b++),g=c.charAt(d++);if(f!=g)return!1}return!0},b.exists=function(a){return"undefined"!=typeof a&&null!=a},!function(){var a=[],c=!1,d=!0,e=1e3;b.onSystemClockJump=function(b,f){a.push(b),c||(c=!0,e=f||e,d=+new Date,setInterval(function(){var b=d+e,c=+new Date;d=c;var f=c-b;if(Math.abs(f)>e)for(var g=0;g<a.length;++g)a[g](f>0)},e))}}();var b=b||{};b.hasPageVisibilityAPISupport=function(){if("undefined"==typeof document)return!1;var a=!1;return"undefined"!=typeof document.hidden?a=!0:"undefined"!=typeof document.mozHidden?a=!0:"undefined"!=typeof document.msHidden?a=!0:"undefined"!=typeof document.webkitHidden&&(a=!0),function(){return a}}(),b.getPageVisibilityAPI=function(){if("undefined"==typeof document)return null;var a,b,c;"undefined"!=typeof document.hidden?(a="hidden",b="visibilitychange",c="visibilityState"):"undefined"!=typeof document.mozHidden?(a="mozHidden",b="mozvisibilitychange",c="mozVisibilityState"):"undefined"!=typeof document.msHidden?(a="msHidden",b="msvisibilitychange",c="msVisibilityState"):"undefined"!=typeof document.webkitHidden&&(a="webkitHidden",b="webkitvisibilitychange",c="webkitVisibilityState");var d={hidden:a,visibilityChange:b,state:c};return function(){return d}}(),b.isTabInBackground=function(){if("undefined"==typeof document)return null;var a=b.getPageVisibilityAPI();return function(){return document[a.hidden]}}(),b.getBrowserName=function(){if(!navigator)return"";var a,b,c=navigator.userAgent||"",d=navigator.appName||"";return(b=c.indexOf("Opera"))!=-1||(b=c.indexOf("OPR/"))!=-1?d="Opera":(b=c.indexOf("Android"))!=-1?d="Android":(b=c.indexOf("Chrome"))!=-1?d="Chrome":(b=c.indexOf("Safari"))!=-1?d="Safari":(b=c.indexOf("Firefox"))!=-1?d="Firefox":(b=c.indexOf("IEMobile"))!=-1?d="Internet Explorer Mobile":"Microsoft Internet Explorer"==d||"Netscape"==d?d="Internet Explorer":(a=c.lastIndexOf(" ")+1)<(b=c.lastIndexOf("/"))?(d=c.substring(a,b),d.toLowerCase()==d.toUpperCase()&&(d=navigator.appName)):d="unknown",d},b.getBrowserFullVersion=function(){if(!navigator)return"";var a,b,c,d,e=navigator.userAgent||"",f=navigator.appName||"",g=navigator.appVersion?""+parseFloat(navigator.appVersion):"";return(b=e.indexOf("Opera"))!=-1?(g=e.substring(b+6),(b=e.indexOf("Version"))!=-1&&(g=e.substring(b+8))):(b=e.indexOf("OPR/"))!=-1?g=e.substring(b+4):(b=e.indexOf("Android"))!=-1?g=e.substring(b+11):(b=e.indexOf("Chrome"))!=-1?g=e.substring(b+7):(b=e.indexOf("Safari"))!=-1?(g=e.substring(b+7),(b=e.indexOf("Version"))!=-1&&(g=e.substring(b+8))):(b=e.indexOf("Firefox"))!=-1?g=e.substring(b+8):"Microsoft Internet Explorer"==f?(d=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"),null!=d.exec(e)&&(g=parseFloat(RegExp.$1))):"Netscape"==f?(d=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),null!=d.exec(e)&&(g=parseFloat(RegExp.$1))):g=e.lastIndexOf(" ")+1<(b=e.lastIndexOf("/"))?e.substring(b+1):"unknown",g=g.toString(),(c=g.indexOf(";"))!=-1&&(g=g.substring(0,c)),(c=g.indexOf(" "))!=-1&&(g=g.substring(0,c)),(c=g.indexOf(")"))!=-1&&(g=g.substring(0,c)),a=parseInt(""+g,10),isNaN(a)&&(g=""+parseFloat(navigator.appVersion)),g},b.browserAcceptsLargeURLs=function(){return"undefined"==typeof window||(null!==window.ActiveXObject,!0)},b.isBrowser=function(){return"undefined"!=typeof window&&"undefined"!=typeof document},b.isWebSecure=function(){return"undefined"!=typeof document&&null!=document&&"s"===document.location.href.charAt(4)};var c=function(){var a=1e4;return function(b,c){function d(a){a=a||[];var c=[h,+new Date];return b&&c.push(b),a=Array.prototype.slice.call(a),c=c.concat(a)}function e(a){var b,d,e;if("boolean"==typeof c||!c)return!!c;if(e=a.join(" "),c instanceof Array&&c.length>0){for(b=0;b<c.length;++b)if(d=c[b],d instanceof RegExp&&d.test(e))return!0;return!1}if("object"==typeof c){var f=!1;if(c.hide instanceof Array)for(b=0;b<c.hide.length;++b)if(d=c.hide[b],d instanceof RegExp&&d.test(e)){f=!0;break}if(c.show instanceof Array)for(b=0;b<c.show.length;++b)if(d=c.show[b],d instanceof RegExp&&d.test(e))return!0;return!f&&!c.show}return!0}function f(b){var d=i.length;(d>a||c&&c.max&&d>c.max)&&(i=i.slice(-Math.floor(c.max/2)),i.push("Previous logs: "+d)),i.push(b)}var g=this,h="comScore",i=[];g.log=function(){var a=d(arguments);f(a),"undefined"!=typeof console&&"function"==typeof console.log&&e(a)&&console.log.apply(console,a)},g.warn=function(){var a=d(arguments);f(a),"undefined"!=typeof console&&"function"==typeof console.warn&&e(a)&&console.warn.apply(console,a)},g.error=function(){var a=d(arguments);f(a),"undefined"!=typeof console&&"function"==typeof console.error&&e(a)&&console.error.apply(console,a)},g.apiCall=function(a){for(var b=["API call to:",a],c=1;c<arguments.length;++c)b.push("arg"+c+":",arguments[c]);this.log.apply(this,b)},g.infoLog=function(){var a=["Trace log:"];a.push.apply(a,Array.prototype.slice.call(arguments)),this.log.apply(this,a)},g.deprecation=function(a,b){var c=["Deprecated API:",a,"is deprecated and will be eventually removed."];b&&c.push("Use",b,"instead."),this.warn.apply(this,c)},g.getLogHistory=function(){return i}}}();a.StreamingAnalytics=a.StreamingAnalytics||function(){var a=function(){var a="cs_";return function(){var c="undefined"!=typeof localStorage?localStorage:null;b.extend(this,{get:function(b){return c&&c.getItem(a+b)},set:function(b,d){c&&c.setItem(a+b,d)},has:function(b){return c&&c.getItem(a+b)},remove:function(b){c&&c.removeItem(a+b)},clear:function(){for(var b=0;c&&b<c.length;++b){var d=c.key(b);d.substr(0,a.length)===a&&c.removeItem(d)}}})}}(),d=function(a,b){if("undefined"==typeof Image)return void("function"==typeof setTimeout?b&&setTimeout(b,0):b&&b());var c=new Image;c.onload=function(){b&&b(200),c=null},c.onerror=function(){b&&b(),c=null},c.src=a},e=function(a,b,c){"function"==typeof setTimeout?c&&setTimeout(function(){c(200)},0):c&&c(200)},f=function(){return{dir:function(){return null},append:function(a,b,c){},write:function(a,b,c){},deleteFile:function(){return!1},read:function(){return null}}}(),g=function(){return{PLATFORM:"generic",httpGet:d,httpPost:e,Storage:a,IO:f,onDataFetch:function(a){a()},getCrossPublisherId:function(){return null},getAppName:function(){return h.UNKNOWN_VALUE},getAppVersion:function(){return h.UNKNOWN_VALUE},getVisitorId:function(){return+new Date+~~(1e3*Math.random())},getVisitorIdSuffix:function(){return"72"},getDeviceModel:function(){return h.UNKNOWN_VALUE},getPlatformVersion:function(){return h.UNKNOWN_VALUE},getPlatformName:function(){return"js"},getRuntimeName:function(){return h.UNKNOWN_VALUE},getRuntimeVersion:function(){return h.UNKNOWN_VALUE},getDisplayResolution:function(){return h.UNKNOWN_RESOLUTION},getApplicationResolution:function(){return h.UNKNOWN_RESOLUTION},getLanguage:function(){return h.UNKNOWN_VALUE},getPackageName:function(){return null},isConnectionAvailable:function(){return!0},isCompatible:function(){return!0},autoSelect:function(){},setPlatformAPI:function(){},isCrossPublisherIdChanged:function(){return!1},setTimeout:function(a,b){return setTimeout(a,b)},clearTimeout:function(a){return clearTimeout(a)},getDeviceArchitecture:function(){return h.UNKNOWN_VALUE},getConnectionType:function(){return h.UNKNOWN_VALUE},getDeviceJailBrokenFlag:function(){return h.UNKNOWN_VALUE},isConnectionSecure:function(){return!1},processMeasurementLabels:function(){}}}(),h={UNKNOWN_VALUE:"unknown",UNKNOWN_RESOLUTION:"0x0"};b.jsonObjectToStringDictionary=function(a){var b={};for(var c in a){var d=a[c];null===d||void 0===d?b[c]=d:b[c]=a[c]+""}return b},b.getKeys=function(a,b){var c,d=[];for(c in a)b&&!b.test(c)||!a.hasOwnProperty(c)||(d[d.length]=c);return d},b.fixEventTime=function(a){if(a.ns_ts)return parseInt(a.ns_ts);var b=+new Date;return a.ns_ts=b+"",b},b.isBrowser=function(){return"undefined"!=typeof window&&"undefined"!=typeof document},b.addNewPlaybackInterval=function(a,c,d,e){var f={};if(!(d>=c))return b.cloneObject(a);if(f.start=c,f.end=d,0==a.length)return a.push(f),b.cloneObject(a);var g;for(g=0;g<a.length;g++)if(f.start>=a[g].start&&f.end<=a[g].end)return b.cloneObject(a);var h,i=!1;for(h=0;h<a.length;h++)if(h+1===a.length&&f.start>=a[h].start||f.start>=a[h].start&&f.start<a[h+1].start){a.splice(h+1,0,f),i=!0;break}i||a.splice(0,0,f);var j=[a[0]];for(g=1;g<a.length;g++)j[j.length-1].end+e<a[g].start?j.push(a[g]):j[j.length-1].end<a[g].end&&(j[j.length-1].end=a[g].end);return b.cloneObject(j)},b.stateToString=function(a){var b=H.InternalStates;for(var c in b)if(b.hasOwnProperty(c)&&b[c]==a)return c};var i=function(){var a=["play","pause","pause-on-buffering","end","buffer","buffer-stop","keep-alive","hb","custom","load","start","skstart","adskip","cta","error","trans","drmfa","drmap","drmde","bitrt","playrt","volume","window","audio","video","subs","cdn"];return{PLAY:0,PAUSE:1,PAUSE_ON_BUFFERING:2,END:3,BUFFER:4,BUFFER_STOP:5,KEEPALIVE:6,HEARTBEAT:7,CUSTOM:8,LOAD:9,ENGAGE:10,SEEK_START:11,AD_SKIP:12,CTA:13,ERROR:14,TRANSFER:15,DRM_FAILED:16,DRM_APPROVED:17,DRM_DENIED:18,BIT_RATE:19,PLAYBACK_RATE:20,VOLUME:21,WINDOW_STATE:22,AUDIO:23,VIDEO:24,SUBS:25,CDN:26,toString:function(b){return a[b]}}}(),j=function(){return{IDLE:0,PLAYBACK_NOT_STARTED:1,PLAYING:2,PAUSED:3,BUFFERING_BEFORE_PLAYBACK:4,BUFFERING_DURING_PLAYBACK:5,BUFFERING_DURING_SEEKING:6,BUFFERING_DURING_PAUSE:7,SEEKING_BEFORE_PLAYBACK:8,SEEKING_DURING_PLAYBACK:9,SEEKING_DURING_BUFFERING:10,SEEKING_DURING_PAUSE:11,PAUSED_DURING_BUFFERING:12}}(),k=function(){var a=["c","s","r"];return{SINGLE_CLIP:0,SEGMENTED:1,REDUCED:2,toString:function(b){return a[b]}}}(),l={STREAMINGANALYTICS_VERSION:"6.1.0.170130",MODEL_VERSION:"5.8",LOG_NAMESPACE:"STA",DEFAULT_PLAYERNAME:"js_api",DEFAULT_HEARTBEAT_INTERVAL:[{playingtime:6e4,interval:1e4},{playingtime:null,interval:6e4}],DEFAULT_KEEP_ALIVE_INTERVAL:12e5,DEFAULT_PAUSED_ON_BUFFERING_INTERVAL:500,C1_VALUE:"19",C10_VALUE:"js",NS_AP_C12M_VALUE:"1",NS_NC_VALUE:"1",PAGE_NAME_LABEL:"name",RESTRICTED_URL_LENGTH_LIMIT:2048,URL_LENGTH_LIMIT:4096,THROTTLING_DELAY:500,INTERVAL_MERGE_TOLERANCE:500,SYSTEM_CLOCK_JUMP_DETECTION_DEFAULT_INTERVAL:1e3,SYSTEM_CLOCK_JUMP_DETECTION_MINIMUM_INTERVAL:500,DEFAULT_ASSET_PLAYBACK_RATE:100,STANDARD_METADATA_LABELS:["ns_st_st","ns_st_ci","ns_st_pr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_ty","ns_st_ct","ns_st_li","ns_st_ad","ns_st_bn","ns_st_tb","ns_st_an","ns_st_ta","ns_st_pu","c3","c4","c6"],LABELS_ORDER:["c1","c2","ca2","cb2","cc2","cd2","ns_site","ca_ns_site","cb_ns_site","cc_ns_site","cd_ns_site","ns_vsite","ca_ns_vsite","cb_ns_vsite","cc_ns_vsite","cd_ns_vsite","ns_alias","ca_ns_alias","cb_ns_alias","cc_ns_alias","cd_ns_alias","ns_ap_an","ca_ns_ap_an","cb_ns_ap_an","cc_ns_ap_an","cd_ns_ap_an","ns_ap_pn","ns_ap_pv","c12","ca12","cb12","cc12","cd12","ns_ak","ns_ap_hw","name","ns_ap_ni","ns_ap_ec","ns_ap_ev","ns_ap_device","ns_ap_id","ns_ap_csf","ns_ap_bi","ns_ap_pfm","ns_ap_pfv","ns_ap_ver","ca_ns_ap_ver","cb_ns_ap_ver","cc_ns_ap_ver","cd_ns_ap_ver","ns_ap_sv","ns_ap_cv","ns_ap_smv","ns_type","ca_ns_type","cb_ns_type","cc_ns_type","cd_ns_type","ns_radio","ns_nc","cs_partner","cs_xcid","cs_impid","ns_ap_ui","ca_ns_ap_ui","cb_ns_ap_ui","cc_ns_ap_ui","cd_ns_ap_ui","ns_ap_gs","ns_st_sv","ns_st_pv","ns_st_smv","ns_st_it","ns_st_id","ns_st_ec","ns_st_sp","ns_st_sc","ns_st_psq","ns_st_asq","ns_st_sq","ns_st_ppc","ns_st_apc","ns_st_spc","ns_st_cn","ns_st_ev","ns_st_po","ns_st_cl","ns_st_el","ns_st_sl","ns_st_pb","ns_st_hc","ns_st_mp","ca_ns_st_mp","cb_ns_st_mp","cc_ns_st_mp","cd_ns_st_mp","ns_st_mv","ca_ns_st_mv","cb_ns_st_mv","cc_ns_st_mv","cd_ns_st_mv","ns_st_pn","ns_st_tp","ns_st_ad","ns_st_li","ns_st_ci","ns_st_si","ns_st_pt","ns_st_dpt","ns_st_ipt","ns_st_et","ns_st_det","ns_st_upc","ns_st_dupc","ns_st_iupc","ns_st_upa","ns_st_dupa","ns_st_iupa","ns_st_lpc","ns_st_dlpc","ns_st_lpa","ns_st_dlpa","ns_st_pa","ns_st_ie","ns_ap_jb","ns_ap_et","ns_ap_res","ns_ap_sd","ns_ap_po","ns_ap_ot","ns_ap_c12m","cs_c12u","ca_cs_c12u","cb_cs_c12u","cc_cs_c12u","cd_cs_c12u","ns_ap_install","ns_ap_updated","ns_ap_lastrun","ns_ap_cs","ns_ap_runs","ns_ap_usage","ns_ap_fg","ns_ap_ft","ns_ap_dft","ns_ap_bt","ns_ap_dbt","ns_ap_dit","ns_ap_as","ns_ap_das","ns_ap_it","ns_ap_uc","ns_ap_aus","ns_ap_daus","ns_ap_us","ns_ap_dus","ns_ap_ut","ns_ap_oc","ns_ap_uxc","ns_ap_uxs","ns_ap_lang","ns_ap_ar","ns_ap_miss","ns_ts","ns_ap_cfg","ns_st_ca","ns_st_cp","ns_st_er","ca_ns_st_er","cb_ns_st_er","cc_ns_st_er","cd_ns_st_er","ns_st_pe","ns_st_ui","ca_ns_st_ui","cb_ns_st_ui","cc_ns_st_ui","cd_ns_st_ui","ns_st_bc","ns_st_dbc","ns_st_bt","ns_st_dbt","ns_st_bp","ns_st_lt","ns_st_skc","ns_st_dskc","ns_st_ska","ns_st_dska","ns_st_skd","ns_st_skt","ns_st_dskt","ns_st_pc","ns_st_dpc","ns_st_pp","ns_st_br","ns_st_pbr","ns_st_rt","ns_st_prt","ns_st_ub","ns_st_vo","ns_st_pvo","ns_st_ws","ns_st_pws","ns_st_ki","ns_st_rp","ns_st_bn","ns_st_tb","ns_st_an","ns_st_ta","ns_st_pl","ns_st_pr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_sr","ns_st_ty","ns_st_ct","ns_st_cs","ns_st_ge","ns_st_st","ns_st_stc","ns_st_ce","ns_st_ia","ns_st_dt","ns_st_ddt","ns_st_tdt","ns_st_tm","ns_st_dtm","ns_st_ttm","ns_st_de","ns_st_pu","ns_st_ti","ns_st_cu","ns_st_fee","ns_st_ft","ns_st_at","ns_st_pat","ns_st_vt","ns_st_pvt","ns_st_tt","ns_st_ptt","ns_st_cdn","ns_st_pcdn","ns_st_ami","ns_st_amt","ns_st_ams","ns_ap_i1","ns_ap_i2","ns_ap_i3","ns_ap_i4","ns_ap_i5","ns_ap_i6","ns_ap_referrer","ns_clid","ns_campaign","ns_source","ns_mchannel","ns_linkname","ns_fee","gclid","utm_campaign","utm_source","utm_medium","utm_term","utm_content","ns_ecommerce","ns_ec_sv","ns_client_id","ns_order_id","ns_ec_cur","ns_orderline_id","ns_orderlines","ns_prod_id","ns_qty","ns_prod_price","ns_prod_grp","ns_brand","ns_shop","ns_category","category","ns_c","ns_search_term","ns_search_result","ns_m_exp","ns_m_chs","c3","ca3","cb3","cc3","cd3","c4","ca4","cb4","cc4","cd4","c5","ca5","cb5","cc5","cd5","c6","ca6","cb6","cc6","cd6","c10","c11","c13","c14","c15","c16","c7","c8","c9","ns_ap_er","ns_st_amc"]},m=function(){function a(){function a(){f={},f.ns_st_cl="0",f.ns_st_pn="1",f.ns_st_tp="0",f.ns_st_cn="1",f.ns_st_skd="0",f.ns_st_ci="0",f.c3="*null",f.c4="*null",f.c6="*null",f.ns_st_st="*null",f.ns_st_pu="*null",f.ns_st_pr="*null",f.ns_st_ep="*null",f.ns_st_sn="*null",f.ns_st_en="*null",f.ns_st_ct="*null",g={},e=!1,d=!1,c=h.UNKNOWN_VALUE,i=!0,j=0,k=NaN,p=0,n=0,m=NaN,q=0,r=NaN,t=0,s=0,o=0,w=NaN,u=[],v=[],x=0,y=0,z=0,A=0,B=0,C=0,D=0,E=NaN,F=0,G=0,H=0,I=!1,J=NaN,N=!1,M=0,Q=0,K=0,L=0,O=0,P=0,R=0,S=0,T=0,U=0,V=0,W=0,X=0,Y=0,Z=0,$=!1,_=l.DEFAULT_ASSET_PLAYBACK_RATE}var c,d,e,f,g,i,j,k,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa=this,ba=l.INTERVAL_MERGE_TOLERANCE;b.extend(this,{getHash:function(){return c},setHash:function(a){c=a},setPlaybackIntervalMergeTolerance:function(a){ba=a},getPlaybackIntervalMergeTolerance:function(){return ba},setInternalLabel:function(a,b){f[a]=b},getInternalLabel:function(a){return f[a]},hasInternalLabel:function(a){return null!=f[a]},setLabels:function(a){a&&b.extend(g,a)},getLabels:function(){return g},setLabel:function(a,b){g[a]=b},getLabel:function(a){return g[a]},hasLabel:function(a){return a in g},getClipNumber:function(){return parseInt(aa.getInternalLabel("ns_st_cn"))},setClipNumber:function(a){aa.setInternalLabel("ns_st_cn",a+"")},getPartNumber:function(){return aa.hasLabel("ns_st_pn")?parseInt(aa.getLabel("ns_st_pn")):parseInt(aa.getInternalLabel("ns_st_pn"))},createLabels:function(a,c){var d=a||{},h=b.isEmpty(d.ns_st_pt)?aa.getPlaybackTime():parseInt(d.ns_st_pt);d.ns_st_pt=h+(isNaN(k)?0:c-k)+"",d.ns_st_dpt=h+(isNaN(k)?0:c-k)-n+"",d.ns_st_ipt=h+(isNaN(k)?0:c-k)-o+"";var i=b.isEmpty(d.ns_st_et)?aa.getElapsedTime():parseInt(d.ns_st_et);d.ns_st_et=i+(isNaN(r)?0:c-r)+"",d.ns_st_det=i+(isNaN(r)?0:c-r)-s+"";var j=b.isEmpty(d.ns_st_bt)?aa.getBufferingTime():parseInt(d.ns_st_bt);d.ns_st_bt=j+"",d.ns_st_dbt=j+(isNaN(E)?0:c-E)-F+"";for(var l,m=parseInt(d.ns_st_po),p=b.addNewPlaybackInterval(b.cloneObject(aa.getSegmentPlaybackIntervals()),_<0?m:w,_<0?w:m,ba),q=b.addNewPlaybackInterval(b.cloneObject(aa.getAssetPlaybackIntervals()),_<0?m:w,_<0?w:m,ba),t=0,u=0,v=0;v<p.length;v++)l=Math.abs(p[v].end-p[v].start),t+=l,l>u&&(u=l);var D=0,G=0;for(v=0,l;v<q.length;v++)l=Math.abs(q[v].end-q[v].start),D+=l,l>G&&(G=l);d.ns_st_upc=t+"",d.ns_st_dupc=t-x+"",d.ns_st_iupc=t-y+"",t>y?d.ns_st_iupc=t-y+"":d.ns_st_iupc="0",d.ns_st_lpc=u+"",d.ns_st_dlpc=u-z+"",d.ns_st_upa=D+"",d.ns_st_dupa=D-A+"",D>B?d.ns_st_iupa=D-B+"":d.ns_st_iupa="0",d.ns_st_lpa=G+"",d.ns_st_dlpa=G-C+"";var I=b.isEmpty(d.ns_st_pc)?aa.getPauses():parseInt(d.ns_st_pc);d.ns_st_pc=I+"",d.ns_st_dpc=I-S+"";var J=b.isEmpty(d.ns_st_skc)?aa.getSeeks():parseInt(d.ns_st_skc);d.ns_st_skc=J+"",d.ns_st_dskc=J-U+"";var K=b.isEmpty(d.ns_st_bc)?aa.getBuffers():parseInt(d.ns_st_bc);d.ns_st_bc=K+"",d.ns_st_dbc=K-H+"";var M=b.isEmpty(d.ns_st_skt)?aa.getSeekingTime():parseInt(d.ns_st_skt);d.ns_st_skt=M+"",d.ns_st_dskt=M-L+"";var N=b.isEmpty(d.ns_st_ska)?aa.getSeekingAmount():parseInt(d.ns_st_ska);return d.ns_st_ska=N+"",d.ns_st_dska=N-P+"",e&&(d.ns_st_spc=V+"",d.ns_st_apc=W+"",d.ns_st_sq=X+"",d.ns_st_asq=Y+""),e||0!=Z?d.ns_st_sc=Z+"":d.ns_st_sc="1",d.ns_st_rt=_+"",b.extend(d,f,g),d},updateDeltaLabels:function(a){n=parseInt(a.ns_st_pt),s=parseInt(a.ns_st_et),F=parseInt(a.ns_st_bt),x=parseInt(a.ns_st_upc),z=parseInt(a.ns_st_lpc),A=parseInt(a.ns_st_upa),C=parseInt(a.ns_st_lpa),S=parseInt(a.ns_st_pc),U=parseInt(a.ns_st_skc),H=parseInt(a.ns_st_bc),L=parseInt(a.ns_st_skt),P=parseInt(a.ns_st_ska),aa.setSeekingDirection(0)},updateIndependentLabels:function(a){o=parseInt(a.ns_st_pt),y=parseInt(a.ns_st_upc),B=parseInt(a.ns_st_upa)},getVideoTrack:function(){return aa.getInternalLabel("ns_st_vt")},setVideoTrack:function(a){aa.setInternalLabel("ns_st_vt",a+"")},getAudioTrack:function(){return aa.getInternalLabel("ns_st_at")},setAudioTrack:function(a){aa.setInternalLabel("ns_st_at",a+"")},getSubtitleTrack:function(){return aa.getInternalLabel("ns_st_tt")},setSubtitleTrack:function(a){aa.setInternalLabel("ns_st_tt",a+"")},getCDN:function(){return aa.getInternalLabel("ns_st_cdn")},setCDN:function(a){aa.setInternalLabel("ns_st_cdn",a+"")},getSegmentPlaybackIntervals:function(){return u},setAssetPlaybackIntervals:function(a){u=a},getAssetPlaybackIntervals:function(){return v},incrementPauses:function(){R++},incrementSeeks:function(){T++},incrementPlayCounter:function(){X++},getPlayCounter:function(){return X},getBufferingTime:function(){return D},setBufferingTime:function(a){D=a},addBufferingTime:function(a){if(!isNaN(E)){var b=aa.getBufferingTime();b+=a-E,aa.setBufferingTime(b),E=NaN}},setPlaybackStartPosition:function(a){w=parseInt(a)},getPlaybackStartPosition:function(){return w},addInterval:function(a){isNaN(w)||isNaN(a)||(u=b.addNewPlaybackInterval(u,_<0?a:w,_<0?w:a,ba),v=b.addNewPlaybackInterval(v,_<0?a:w,_<0?w:a,ba),w=NaN)},getElapsedTime:function(){return q},setElapsedTime:function(a){q=a},addElapsedTime:function(a){if(!isNaN(r)){var b=aa.getElapsedTime();b+=a-r,aa.setElapsedTime(b),r=NaN}},getElapsedTimestamp:function(){return r},setElapsedTimestamp:function(a){r=a},addPlaybackTime:function(a){if(!isNaN(k)){var b=aa.getPlaybackTime();b+=a-k,aa.setPlaybackTime(b),k=NaN}},getPlaybackTime:function(){return j},getExpectedPlaybackPosition:function(a){return isNaN(k)?p:p+Math.floor((a-k)*_/100)},setPlaybackTimeOffset:function(a){p=a},getPlaybackTimeOffset:function(){return p},setPlaybackTime:function(a){j=a},getPlaybackTimestamp:function(){return k},setPlaybackTimestamp:function(a){k=a},setPreviousPlaybackTime:function(a){n=a},setPreviousPlaybackTimestamp:function(a){m=a},getBufferingTimestamp:function(){return E},setBufferingTimestamp:function(a){E=a},getPauses:function(){return R},setPauses:function(a){R=a},getSeeks:function(){return T},setSeeks:function(a){T=a},setSeeking:function(a){I=a},isSeeking:function(){return I},setCollectingSeekingTime:function(a){N=a},isCollectingSeekingTime:function(){return N},setAssetStarted:function(a){d=a},isAssetStarted:function(){return d},setPlaybackStarted:function(a){e=a},isPlaybackStarted:function(){return e},setSeekingTimestamp:function(a){J=a},getSeekingTimestamp:function(){return J},addSeekingTime:function(a){if(!isNaN(J)){var b=aa.getSeekingTime();b+=a-J,aa.setSeekingTime(b),J=NaN}},getSeekingTime:function(){return K},setSeekingTime:function(a){K=a},setSeekingTimeBeforeEnd:function(a){Q=a},getSeekingTimeBeforeEnd:function(){return Q},setSeekStartPosition:function(a){M=a},getSeekStartPosition:function(){return M},setSeekingAmount:function(a){O=a},getSeekingAmount:function(){return O},addSeekingAmount:function(a){var b=aa.getSeekingAmount();b+=Math.abs(a-M),aa.setSeekingAmount(b);var c;M==a?c=0:M>a?c=-1:M<a&&(c=1),aa.setSeekingDirection(c),M=0},getSeekingDirection:function(){return parseInt(aa.getInternalLabel("ns_st_skd"))},setSeekingDirection:function(a){aa.setInternalLabel("ns_st_skd",a+"")},resetAssetLifecycleLabels:function(){j=0,n=0,o=0,D=0,F=0,G=0,H=0,R=0,S=0,X=0,v=[],A=0,B=0,C=0,q=0,s=0,K=0,L=0,O=0,P=0,T=0,U=0},incrementSegmentPlaybackCounter:function(){V++},incrementAssetLoadCounter:function(){Z++},incrementAssetPlaybackCounter:function(){W++},getPreviousUniquePlaybackInterval:function(){return x},setPreviousUniquePlaybackInterval:function(a){x=a},getPreviousEventIndependentUniquePlaybackInterval:function(){return y},setPreviousEventIndependentUniquePlaybackInterval:function(a){y=a},setPreviousLongestPlaybackInterval:function(a){z=a},getPreviousLongestPlaybackInterval:function(){return z},resetAssetPlaybackIntervals:function(){v=[],A=0,B=0,C=0},setSegmentPlaybackCounter:function(a){V=a},setAssetLoadCounter:function(a){Z=a},setAssetPlaybackCounter:function(a){W=a},setLowestPartNumberPlayed:function(a){t=a},getSegmentPlaybackCounter:function(){return V},getAssetLoadCounter:function(){return Z},getAssetPlaybackCounter:function(){return W},getLowestPartNumberPlayed:function(){return t},getBuffers:function(){return G},incrementBufferCount:function(){G++},getPreviousBufferingTime:function(){return F},setPlaySequenceCounter:function(a){Y=a},incrementPlaySequenceCounter:function(){Y++},getPlaySequenceCounter:function(){return Y},isPlaybackSessionLooping:function(){return $},setPlaybackSessionLooping:function(a){$=a},enableAutoCalculatePositions:function(a){i=!!a},isAutoCalculatePositionsEnabled:function(){return i},getPlaybackRate:function(){return _},setPlaybackRate:function(a){_=a}}),a()}return a.resetAsset=function(a,b,c){for(var d=a.getLabels(),e={},f=0;c&&f<c.length;++f)d.hasOwnProperty(c[f])&&(e[c[f]]=d[c[f]]);b.setLabels(e),b.setPlaybackIntervalMergeTolerance(a.getPlaybackIntervalMergeTolerance())},a}(),n=function(){function a(a){function c(){d=new m,h={},h.ns_st_id=+new Date+"",k={},e=NaN,f=0,g=NaN,o={},p=0,n=!1,q=!1,r=0,t=0,s=0,u=1,v=0,w=[]}var d,e,f,g,h,k,n,o,p,q,r,s,t,u,v,w,x=this;b.extend(this,{resetAsset:function(){var a=d;d=new m,m.resetAsset(a,d)},hashExists:function(a){return null!=o[a]},storeHash:function(a){o[a]={}},removeHash:function(a){delete o[a]},storeAssetPlaybackCounters:function(){for(var a in o)if(o.hasOwnProperty(a)&&o[a].clipNumber===d.getClipNumber()){b.extend(o[a],{segmentPlaybackCounter:d.getSegmentPlaybackCounter(),assetLoadCounter:d.getAssetLoadCounter(),assetPlaybackCounter:d.getAssetPlaybackCounter(),lowestPartNumberPlayed:d.getLowestPartNumberPlayed(),seeking:d.isSeeking(),seekingTimeBeforeEnd:d.getSeekingTimeBeforeEnd(),seekingStartPosition:d.getSeekStartPosition(),segmentPlaybackIntervals:d.getSegmentPlaybackIntervals(),videoTrack:d.getVideoTrack(),audioTrack:d.getAudioTrack(),subtitleTrack:d.getSubtitleTrack(),cdn:d.getCDN(),playSequenceCounter:d.getPlaySequenceCounter(),previousUniquePlaybackInterval:d.getPreviousUniquePlaybackInterval(),previousEventIndependentUniquePlaybackInterval:d.getPreviousEventIndependentUniquePlaybackInterval(),previousLongestPlaybackInterval:d.getPreviousLongestPlaybackInterval()});break}},getStoredAssetRegisters:function(a){return o[a]},getClipNumber:function(a){return o[a].clipNumber},getMaxClipNumber:function(){return p},storeClipNumber:function(a,b){o[a].clipNumber=b,b>p&&(p=b)},setLabels:function(a){null!=a&&b.extend(k,a)},getLabels:function(){return k},setLabel:function(a,b){var c={};c[a]=b,x.setLabels(c)},getLabel:function(a){return k[a]},getAsset:function(){return d},addInternalErrorFlag:function(a){for(var b=0;b<w.length;++b)if(w[b]==a)return;w.push(a)},createLabels:function(c,e){var f=c||{},i=b.isEmpty(f.ns_st_pa)?x.getPlaybackTime():parseInt(f.ns_st_pa);return f.ns_st_pa=i+(isNaN(g)?0:e-g)+"",f.ns_st_pp=t+"",f.ns_st_sp=u+"",f.ns_st_bp=v+"",q||(f.ns_st_pb=null!=f.ns_st_pb?f.ns_st_pb:"1"),d.isPlaybackStarted()&&(f.ns_st_ppc=r+"",f.ns_st_psq=s+""),w.length>0&&(f.ns_st_ie=(f.ns_st_ie?f.ns_st_ie+";":"")+w.join(";")),b.extend(f,h,k),a.getPlaybackSession().getAsset().createLabels(f,e),f},incrementPlayCounter:function(){u++},incrementPauses:function(){t++},addPlaybackTime:function(a){if(!isNaN(g)){var b=x.getPlaybackTime();b+=a-g,x.setPlaybackTime(b),g=NaN}},addBufferingTime:function(a){if(!isNaN(e)){var b=x.getBufferingTime();b+=a-e,x.setBufferingTime(b),e=NaN}},getBufferingTime:function(){return v},setBufferingTime:function(a){v=a},getPlaybackTime:function(){return f},setBufferingTimestamp:function(a){e=a},getBufferingTimestamp:function(){return e},setPlaybackTime:function(a){f=a},setPlaybackTimestamp:function(a){g=a},getPlaybackTimestamp:function(){return g},getPauses:function(){return t},setPauses:function(a){t=a},isPlaybackSessionStarted:function(){return n},setPlaybackSessionStarted:function(a){n=a},getPlaybackCounter:function(){return r},incrementPlaybackCounter:function(){r++},setFirstEventSent:function(a){q=a},setPlaySequenceCounter:function(a){s=a},incrementPlaySequenceCounter:function(){s++},getPlaybackSessionID:function(){return h.ns_st_id},setAsset:function(c,d){a.getLogging().apiCall("setAsset",c,d),c=b.jsonObjectToStringDictionary(c);var e=a.getStateMachine().getCurrentState();if(e!=j.IDLE){a.getLogging().infoLog("Ending the current Clip. It was in state:",b.stateToString(e));var f={};a.getStaCore().newEvent(i.END,b.fixEventTime(f),f)}var g="",h=0;if(null!=c.ns_st_cn)g=c.ns_st_cn;else for(var k=0;k<l.STANDARD_METADATA_LABELS.length;k++)c[l.STANDARD_METADATA_LABELS[k]]&&(g+=l.STANDARD_METADATA_LABELS[k]+":"+c[l.STANDARD_METADATA_LABELS[k]]+";");var m=x,n=m.getAsset();n.isAssetStarted()?(m.hashExists(n.getHash())||(m.storeHash(n.getHash()),m.storeClipNumber(n.getHash(),n.getClipNumber())),m.storeAssetPlaybackCounters(),h=m.hashExists(g)?m.getClipNumber(g):b.exists(c.ns_st_cn)?parseInt(c.ns_st_cn):m.getMaxClipNumber()+1):h=m.hashExists(g)?m.getClipNumber(g):n.getClipNumber(),m.resetAsset(),n=m.getAsset(),n.setHash(g),n.setClipNumber(h),n.setLabels(c);var o=m.getStoredAssetRegisters(g);o&&(n.setAssetStarted(!0),n.setSegmentPlaybackCounter(o.segmentPlaybackCounter),n.setAssetLoadCounter(o.assetLoadCounter),n.setAssetPlaybackCounter(o.assetPlaybackCounter),n.setLowestPartNumberPlayed(o.lowestPartNumberPlayed),n.setSeeking(o.seeking),n.setSeekingTimeBeforeEnd(o.seekingTimeBeforeEnd),n.setSeekStartPosition(o.seekingStartPosition),n.setAssetPlaybackIntervals(o.segmentPlaybackIntervals),o.videoTrack&&n.setVideoTrack(o.videoTrack),o.audioTrack&&n.setAudioTrack(o.audioTrack),o.subtitleTrack&&n.setSubtitleTrack(o.subtitleTrack),o.cdn&&n.setCDN(o.cdn),n.setPlaySequenceCounter(o.playSequenceCounter),n.setPreviousUniquePlaybackInterval(o.previousUniquePlaybackInterval),n.setPreviousEventIndependentUniquePlaybackInterval(o.previousEventIndependentUniquePlaybackInterval),n.setPreviousLongestPlaybackInterval(o.previousLongestPlaybackInterval)),n.incrementAssetLoadCounter(),n.isAssetStarted()&&d&&m.incrementPlayCounter(),d&&(m.setPlaySequenceCounter(0),n.setPlaybackSessionLooping(!0)),!b.exists(c.ns_st_tp)&&b.exists(c.ns_st_ad)&&b.isNotEmpty(c.ns_st_ad)&&"0"!==c.ns_st_ad&&n.setInternalLabel("ns_st_tp","1");
}}),c()}return a.resetPlaybackSession=function(a,b,c){for(var d=b.getAsset(),e=b.getLabels(),f={},g=0;c&&g<c.length;g++)e.hasOwnProperty(c[g])&&(f[c[g]]=e[c[g]]);a.getPlaybackSession().setLabels(f),m.resetAsset(d,a.getPlaybackSession().getAsset(),c)},a}(),o=function(){return function(a){function c(){e=1}function d(c){f=b.extend({},c);var d=a.getStaCore().getLiveEndpointURL();if(a.getAppCore()){if(a.getStaCore().isProperlyInitialized()){var e=a.getStaCore().getExports().et;if("function"==typeof a.getAppCore().getMeasurementDispatcher){var g=a.getAppCore().getMeasurementDispatcher();g.send(e.HIDDEN,c,d)}else{var h=a.getStaCore().getExports().am,i=h.newApplicationMeasurement(a.getAppCore(),e.HIDDEN,c,d);a.getAppCore().getQueue().offer(i)}}}else d&&a.getStaCore().getPlatformAPI().httpGet(a.getStaCore().prepareUrl(d,c))}var e,f,g=this,h=[];b.extend(this,{newEvent:function(a){for(var b=0;b<h.length;++b)h[b](a.eventLabels);d(a.eventLabels),a.eventType!=i.HEARTBEAT&&g.incrementEventCounter()},addMeasurementListener:function(a){"function"==typeof a&&h.push(a)},removeMeasurementListener:function(a){for(var b=NaN,c=0;c<h.length;++c)if(h[c]==a){b=c;break}isNaN(b)||h.splice(b,1)},getEventCounter:function(){return e},incrementEventCounter:function(){e++},setEventCounter:function(a){e=a},getMeasurementSnapshot:function(){return f}}),c()}}(),p=function(){return function(a){function c(){g=0,h=0}function d(){h++;var c={},d=b.fixEventTime(c);c.ns_st_hc=a.getHeartbeat().getCount()+"";var e=a.getStaCore().createLabels(i.HEARTBEAT,c,d);a.getPlaybackSession().getAsset().updateIndependentLabels(e.eventLabels),a.getEventManager().newEvent(e),g=0,j.resume()}function e(){null!=f&&(a.getStaCore().getPlatformAPI().clearTimeout(f),f=null)}var f,g,h,j=this,k=l.DEFAULT_HEARTBEAT_INTERVAL;b.extend(this,{getCount:function(){return h},setIntervals:function(a){k=a},getInterval:function(a){var b=0;if(null!=k)for(var c=0;c<k.length;c++){var d=k[c],e=d.playingtime;if(!e||a<e){b=d.interval;break}}return b},getIntervals:function(){return k},resume:function(){e();var b=j.getInterval(a.getPlaybackSession().getAsset().getPlaybackTime()+(+new Date-a.getPlaybackSession().getAsset().getPlaybackTimestamp()));if(b>0){var c=g>0?g:b;f=a.getStaCore().getPlatformAPI().setTimeout(d,c)}g=0},pause:function(){e();var b=j.getInterval(a.getPlaybackSession().getAsset().getPlaybackTime()+(+new Date-a.getPlaybackSession().getAsset().getPlaybackTimestamp()));g=b-(a.getPlaybackSession().getAsset().getPlaybackTime()+(+new Date-a.getPlaybackSession().getAsset().getPlaybackTimestamp()))%b}}),c()}}(),q=function(){return function(a){function c(){}function d(){var c={},d=b.fixEventTime(c);a.getStaCore().newPseudoEvent(i.KEEPALIVE,d,c),g.start()}function e(){null!=f&&(a.getStaCore().getPlatformAPI().clearTimeout(f),f=null)}var f,g=this,h=l.DEFAULT_KEEP_ALIVE_INTERVAL;b.extend(g,{start:function(){e(),f=a.getStaCore().getPlatformAPI().setTimeout(d,h)},stop:e,setInterval:function(a){h=a},getInterval:function(){return h}}),c()}}(),r=function(){return function(a){function c(){f=j.IDLE,e=null,d=NaN}var d,e,f,g=this;b.extend(g,{eventTypeToState:function(a){if(f==j.IDLE){if(a==i.PLAY)return j.PLAYING;if(a==i.SEEK_START)return j.SEEKING_BEFORE_PLAYBACK;if(a==i.BUFFER)return j.BUFFERING_BEFORE_PLAYBACK}else if(f==j.PLAYBACK_NOT_STARTED){if(a==i.PLAY)return j.PLAYING;if(a==i.SEEK_START)return j.SEEKING_BEFORE_PLAYBACK;if(a==i.BUFFER)return j.BUFFERING_BEFORE_PLAYBACK;if(a==i.END||a==i.AD_SKIP)return j.IDLE}else if(f==j.PLAYING){if(a==i.END||a==i.AD_SKIP)return j.IDLE;if(a==i.BUFFER)return j.BUFFERING_DURING_PLAYBACK;if(a==i.PAUSE)return j.PAUSED;if(a==i.SEEK_START)return j.SEEKING_DURING_PLAYBACK}else if(f==j.PAUSED){if(a==i.END||a==i.AD_SKIP)return j.IDLE;if(a==i.BUFFER)return j.BUFFERING_DURING_PAUSE;if(a==i.PLAY)return j.PLAYING;if(a==i.SEEK_START)return j.SEEKING_DURING_PAUSE}else if(f==j.BUFFERING_BEFORE_PLAYBACK){if(a==i.END||a==i.AD_SKIP)return j.IDLE;if(a==i.PAUSE||a==i.BUFFER_STOP)return j.PLAYBACK_NOT_STARTED;if(a==i.PLAY)return j.PLAYING;if(a==i.SEEK_START)return j.SEEKING_BEFORE_PLAYBACK}else if(f==j.BUFFERING_DURING_PLAYBACK){if(a==i.END||a==i.AD_SKIP)return j.IDLE;if(a==i.PLAY||a==i.BUFFER_STOP)return j.PLAYING;if(a==i.PAUSE_ON_BUFFERING)return j.PAUSED_DURING_BUFFERING;if(a==i.SEEK_START)return j.SEEKING_DURING_BUFFERING;if(a==i.PAUSE)return j.PAUSED}else if(f==j.BUFFERING_DURING_SEEKING){if(a==i.END||a==i.AD_SKIP)return j.IDLE;if(a==i.PLAY)return j.PLAYING;if(a==i.BUFFER_STOP)return j.SEEKING_DURING_PLAYBACK;if(a==i.PAUSE)return j.PAUSED}else if(f==j.BUFFERING_DURING_PAUSE){if(a==i.END||a==i.AD_SKIP)return j.IDLE;if(a==i.PLAY)return j.PLAYING;if(a==i.SEEK_START)return j.SEEKING_DURING_PAUSE;if(a==i.BUFFER_STOP||a==i.PAUSE)return j.PAUSED}else if(f==j.SEEKING_BEFORE_PLAYBACK){if(a==i.END||a==i.AD_SKIP)return j.IDLE;if(a==i.PAUSE)return j.PLAYBACK_NOT_STARTED;if(a==i.PLAY)return j.PLAYING;if(a==i.BUFFER)return j.BUFFERING_BEFORE_PLAYBACK}else if(f==j.SEEKING_DURING_PLAYBACK){if(a==i.END||a==i.AD_SKIP)return j.IDLE;if(a==i.PLAY)return j.PLAYING;if(a==i.PAUSE)return j.PAUSED;if(a==i.BUFFER)return j.BUFFERING_DURING_SEEKING}else if(f==j.SEEKING_DURING_BUFFERING){if(a==i.END||a==i.AD_SKIP)return j.IDLE;if(a==i.PLAY)return j.PLAYING;if(a==i.PAUSE||a==i.BUFFER_STOP)return j.PAUSED;if(a==i.BUFFER)return j.BUFFERING_DURING_SEEKING}else if(f==j.SEEKING_DURING_PAUSE){if(a==i.END||a==i.AD_SKIP)return j.IDLE;if(a==i.PLAY)return j.PLAYING;if(a==i.PAUSE||a==i.BUFFER_STOP)return j.PAUSED;if(a==i.BUFFER)return j.BUFFERING_DURING_PAUSE}else if(f==j.PAUSED_DURING_BUFFERING){if(a==i.END||a==i.AD_SKIP)return j.IDLE;if(a==i.SEEK_START)return j.SEEKING_DURING_BUFFERING;if(a==i.PAUSE)return j.PAUSED;if(a==i.PLAY||a==i.BUFFER_STOP)return j.PLAYING}return null},getCurrentState:function(){return f},newEvent:function(a,b){var c=g.eventTypeToState(a);f!=c&&(e=f,f=c,d=b)},getPreviousState:function(){return e},getLastStateChangeTimestamp:function(){return d}}),c()}}(),s=function(){return function(a){var c=this;b.extend(c,{onSeekStartWhenPausedOrBufferingDuringPause:function(b,c){var d=parseInt(c.ns_st_po);a.getPlaybackSession().getAsset().isSeeking()?a.getPlaybackSession().getAsset().isCollectingSeekingTime()||(a.getPlaybackSession().getAsset().setSeekingTimestamp(b),a.getPlaybackSession().getAsset().setCollectingSeekingTime(!0)):a.getPlaybackSession().getAsset().incrementSeeks(),a.getPlaybackSession().getAsset().isSeeking()||(a.getPlaybackSession().getAsset().setSeeking(!0),a.getPlaybackSession().getAsset().setCollectingSeekingTime(!0),a.getPlaybackSession().getAsset().setSeekStartPosition(d),a.getPlaybackSession().getAsset().setSeekingTimestamp(b)),a.getPlaybackSession().getAsset().addElapsedTime(b),a.getPlaybackSession().getAsset().setElapsedTimestamp(b)},onBufferWhenSeekingOrPaused:function(b,c){a.getPlaybackSession().setBufferingTimestamp(b),a.getPlaybackSession().getAsset().setBufferingTimestamp(b),a.getPlaybackSession().getAsset().addElapsedTime(b),a.getPlaybackSession().getAsset().setElapsedTimestamp(b)},onPlayWhenSeekingDuringBufferingOrSeekingDuringPause:function(b,c){var d=parseInt(c.ns_st_po);a.getPlaybackSession().incrementPlaySequenceCounter(),a.getPlaybackSession().getAsset().incrementPlaySequenceCounter(),a.getPlaybackSession().getAsset().isSeeking()&&(a.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(a.getPlaybackSession().getAsset().addSeekingTime(b),a.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),a.getPlaybackSession().getAsset().addSeekingAmount(d),a.getPlaybackSession().getAsset().setSeeking(!1)),a.getPlaybackSession().getAsset().incrementPlayCounter(),a.getPlaybackSession().setPlaybackTimestamp(b),a.getPlaybackSession().getAsset().setPlaybackTimestamp(b),a.getPlaybackSession().getAsset().addElapsedTime(b),a.getPlaybackSession().getAsset().setElapsedTimestamp(b),a.getPlaybackSession().getAsset().setPlaybackStartPosition(d),a.getHeartbeat().resume(),a.getKeepAlive().start();var e=a.getStaCore().createLabels(i.PLAY,c,b);a.getPlaybackSession().getAsset().updateDeltaLabels(e.eventLabels),a.getPlaybackSession().getAsset().updateIndependentLabels(e.eventLabels),a.getEventManager().newEvent(e)},onBufferStopWhenBufferingDuringSeekingOrBufferingDuringPause:function(b,c){a.getPlaybackSession().addBufferingTime(b),a.getPlaybackSession().getAsset().addBufferingTime(b),a.getPlaybackSession().getAsset().addElapsedTime(b),a.getPlaybackSession().getAsset().setElapsedTimestamp(b)},onPauseWhenSeekingDuringPlaybackOrSeekingDuringPause:function(b,c){a.getPlaybackSession().getAsset().isSeeking()&&a.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(a.getPlaybackSession().getAsset().addSeekingTime(b),a.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),a.getPlaybackSession().getAsset().addElapsedTime(b),a.getPlaybackSession().getAsset().setElapsedTimestamp(b)},onEndOrAdSkipWhenSeekingDuringBufferingOrSeekingDuringPause:function(c,d){a.getStaCore().resetHeartbeat(),a.getKeepAlive().stop(),a.getPlaybackSession().getAsset().addElapsedTime(c);var e=a.getStaCore().createLabels(i.END,d,c);a.getPlaybackSession().getAsset().updateDeltaLabels(e.eventLabels),a.getPlaybackSession().getAsset().updateIndependentLabels(e.eventLabels),a.getEventManager().newEvent(e),a.getPlaybackSession().getAsset().isSeeking()&&a.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(a.getPlaybackSession().getAsset().setSeekingTimeBeforeEnd(c-a.getPlaybackSession().getAsset().getSeekingTimestamp()),a.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),a.getPlaybackSession().storeAssetPlaybackCounters(),a.getPlaybackSession().getAsset().resetAssetLifecycleLabels(),a.getPlaybackSession().getAsset().setPlaybackStarted(!1),d.hasOwnProperty("ns_st_pe")&&b.parseBoolean(d.ns_st_pe,!1)&&a.getStaCore().resetPlaybackSession()},onBufferStopWhenSeekingDuringBufferingOrSeekingDuringPause:function(b,c){a.getPlaybackSession().getAsset().isSeeking()&&a.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(a.getPlaybackSession().getAsset().addSeekingTime(b),a.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),a.getPlaybackSession().getAsset().addElapsedTime(b),a.getPlaybackSession().getAsset().setElapsedTimestamp(b)},onBufferStopOrOnPlayWhenBufferingDuringPlayback:function(b,c){var d=parseInt(c.ns_st_po);a.getStaCore().stopPausedOnBufferingTimer(),a.getPlaybackSession().incrementPlaySequenceCounter(),a.getPlaybackSession().getAsset().incrementPlayCounter(),a.getPlaybackSession().getAsset().incrementPlaySequenceCounter(),a.getPlaybackSession().addBufferingTime(b),a.getPlaybackSession().getAsset().addBufferingTime(b),a.getPlaybackSession().setPlaybackTimestamp(b),a.getPlaybackSession().getAsset().setPlaybackTimestamp(b),a.getPlaybackSession().getAsset().setPlaybackStartPosition(d),a.getPlaybackSession().getAsset().addElapsedTime(b),a.getPlaybackSession().getAsset().setElapsedTimestamp(b),a.getHeartbeat().resume(),a.getKeepAlive().start()}})}}(),t=function(){return function(a){var c=this;b.extend(c,{onEndOrAdSkip:function(c,d){a.getPlaybackSession().addBufferingTime(c),a.getPlaybackSession().getAsset().addBufferingTime(c),a.getPlaybackSession().getAsset().isSeeking()&&a.getPlaybackSession().getAsset().isCollectingSeekingTime()&&a.getPlaybackSession().getAsset().setSeekingTimeBeforeEnd(c-a.getPlaybackSession().getAsset().getSeekingTimestamp()),a.getPlaybackSession().getAsset().resetAssetLifecycleLabels(),a.getPlaybackSession().getAsset().setPlaybackStarted(!1),d.hasOwnProperty("ns_st_pe")&&b.parseBoolean(d.ns_st_pe,!1)&&a.getStaCore().resetPlaybackSession()},onBufferStop:function(b,c){a.getPlaybackSession().addBufferingTime(b),a.getPlaybackSession().getAsset().addBufferingTime(b),a.getPlaybackSession().getAsset().isSeeking()&&a.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(a.getPlaybackSession().getAsset().addSeekingTime(b),a.getPlaybackSession().getAsset().setCollectingSeekingTime(!1))},onSeekStart:function(b,c){var d=parseInt(c.ns_st_po);a.getPlaybackSession().addBufferingTime(b),a.getPlaybackSession().getAsset().addBufferingTime(b),a.getPlaybackSession().getAsset().isSeeking()?a.getPlaybackSession().getAsset().isCollectingSeekingTime()||(a.getPlaybackSession().getAsset().setSeekingTimestamp(b),a.getPlaybackSession().getAsset().setCollectingSeekingTime(!0)):a.getPlaybackSession().getAsset().incrementSeeks(),a.getPlaybackSession().getAsset().isSeeking()||(a.getPlaybackSession().getAsset().setSeeking(!0),a.getPlaybackSession().getAsset().setCollectingSeekingTime(!0),a.getPlaybackSession().getAsset().setSeekStartPosition(d),a.getPlaybackSession().getAsset().setSeekingTimestamp(b))},onPause:function(b,c){a.getPlaybackSession().addBufferingTime(b),a.getPlaybackSession().getAsset().addBufferingTime(b),a.getPlaybackSession().getAsset().isSeeking()&&a.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(a.getPlaybackSession().getAsset().addSeekingTime(b),a.getPlaybackSession().getAsset().setCollectingSeekingTime(!1))},onPlay:function(b,c){var d=parseInt(c.ns_st_po);a.getPlaybackSession().addBufferingTime(b),a.getPlaybackSession().getAsset().addBufferingTime(b),a.getPlaybackSession().getAsset().isSeeking()&&(a.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(a.getPlaybackSession().getAsset().addSeekingTime(b),a.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),a.getPlaybackSession().getAsset().addSeekingAmount(d),a.getPlaybackSession().getAsset().setSeeking(!1)),a.getPlaybackSession().getAsset().setPlaybackStarted(!0),(a.getPlaybackSession().getAsset().isPlaybackSessionLooping()||0==a.getPlaybackSession().getPlaybackCounter())&&(a.getPlaybackSession().incrementPlaybackCounter(),a.getPlaybackSession().getAsset().setPlaybackSessionLooping(!1)),a.getPlaybackSession().incrementPlaySequenceCounter(),a.getPlaybackSession().getAsset().setPlaybackStarted(!0),a.getPlaybackSession().getAsset().incrementSegmentPlaybackCounter(),a.getPlaybackSession().getAsset().incrementPlayCounter(),a.getPlaybackSession().setPlaybackTimestamp(b),a.getPlaybackSession().getAsset().setPlaybackTimestamp(b),a.getPlaybackSession().getAsset().setElapsedTimestamp(b),a.getPlaybackSession().getAsset().setPlaybackStartPosition(d),(0==a.getPlaybackSession().getAsset().getLowestPartNumberPlayed()||a.getPlaybackSession().getAsset().getPartNumber()<=a.getPlaybackSession().getAsset().getLowestPartNumberPlayed())&&(a.getPlaybackSession().getAsset().setLowestPartNumberPlayed(a.getPlaybackSession().getAsset().getPartNumber()),a.getPlaybackSession().getAsset().incrementAssetPlaybackCounter(),a.getPlaybackSession().getAsset().setPlaySequenceCounter(0),a.getPlaybackSession().getAsset().resetAssetPlaybackIntervals()),a.getPlaybackSession().getAsset().incrementPlaySequenceCounter(),a.getStaCore().isLoadingTimeSent()||(c.ns_st_lt=a.getStaCore().getLoadTimeOffset()+b-a.getStaCore().getInitTimestamp()+"",a.getStaCore().setLoadingTimeSent(!0)),a.getHeartbeat().resume(),a.getKeepAlive().start();var e=a.getStaCore().createLabels(i.PLAY,c,b);a.getPlaybackSession().getAsset().updateDeltaLabels(e.eventLabels),a.getPlaybackSession().getAsset().updateIndependentLabels(e.eventLabels),a.getEventManager().newEvent(e)}})}}(),u=function(){return function(a){var c=this;b.extend(c,{onEndAndSkip:function(c,d){a.getStaCore().resetHeartbeat(),a.getKeepAlive().stop(),a.getPlaybackSession().addBufferingTime(c),a.getPlaybackSession().getAsset().addBufferingTime(c),a.getPlaybackSession().getAsset().addElapsedTime(c);var e=a.getStaCore().createLabels(i.END,d,c);a.getPlaybackSession().getAsset().updateDeltaLabels(e.eventLabels),a.getPlaybackSession().getAsset().updateIndependentLabels(e.eventLabels),a.getEventManager().newEvent(e),a.getPlaybackSession().getAsset().isSeeking()&&a.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(a.getPlaybackSession().getAsset().setSeekingTimeBeforeEnd(c-a.getPlaybackSession().getAsset().getSeekingTimestamp()),a.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),a.getPlaybackSession().storeAssetPlaybackCounters(),a.getPlaybackSession().getAsset().resetAssetLifecycleLabels(),a.getPlaybackSession().getAsset().setPlaybackStarted(!1),d.hasOwnProperty("ns_st_pe")&&b.parseBoolean(d.ns_st_pe,!1)&&a.getStaCore().resetPlaybackSession()},onPause:function(b,c){a.getPlaybackSession().addBufferingTime(b),a.getPlaybackSession().getAsset().addBufferingTime(b),a.getPlaybackSession().getAsset().addElapsedTime(b),a.getPlaybackSession().getAsset().setElapsedTimestamp(b)},onPlay:function(b,c){var d=parseInt(c.ns_st_po);a.getPlaybackSession().incrementPlaySequenceCounter(),a.getPlaybackSession().getAsset().incrementPlaySequenceCounter(),a.getPlaybackSession().getAsset().incrementPlayCounter(),a.getPlaybackSession().addBufferingTime(b),a.getPlaybackSession().getAsset().addBufferingTime(b),a.getPlaybackSession().getAsset().isSeeking()&&(a.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(a.getPlaybackSession().getAsset().addSeekingTime(b),a.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),a.getPlaybackSession().getAsset().addSeekingAmount(d),a.getPlaybackSession().getAsset().setSeeking(!1)),a.getPlaybackSession().getAsset().addElapsedTime(b),a.getPlaybackSession().getAsset().setElapsedTimestamp(b),a.getPlaybackSession().setPlaybackTimestamp(b),a.getPlaybackSession().getAsset().setPlaybackTimestamp(b),a.getPlaybackSession().getAsset().setPlaybackStartPosition(d),a.getHeartbeat().resume(),a.getKeepAlive().start();var e=a.getStaCore().createLabels(i.PLAY,c,b);a.getPlaybackSession().getAsset().updateDeltaLabels(e.eventLabels),a.getPlaybackSession().getAsset().updateIndependentLabels(e.eventLabels),a.getEventManager().newEvent(e)}})}}(),v=function(){return function(a){var c=this;b.extend(c,{onPauseOnBuffering:function(b,c){parseInt(c.ns_st_po);a.getStaCore().stopPausedOnBufferingTimer(),a.getPlaybackSession().getAsset().addElapsedTime(b),a.getPlaybackSession().getAsset().setElapsedTimestamp(b),a.getPlaybackSession().addBufferingTime(b),a.getPlaybackSession().getAsset().addBufferingTime(b),a.getPlaybackSession().incrementPauses(),a.getPlaybackSession().getAsset().incrementPauses();var d=a.getStaCore().createLabels(i.PAUSE,c,b);a.getPlaybackSession().getAsset().updateDeltaLabels(d.eventLabels),a.getPlaybackSession().getAsset().updateIndependentLabels(d.eventLabels),a.getEventManager().newEvent(d),a.getPlaybackSession().setBufferingTimestamp(b),a.getPlaybackSession().getAsset().setBufferingTimestamp(b)},onEndOrAdSkip:function(c,d){parseInt(d.ns_st_po);a.getStaCore().stopPausedOnBufferingTimer(),a.getStaCore().resetHeartbeat(),a.getKeepAlive().stop(),a.getPlaybackSession().addBufferingTime(c),a.getPlaybackSession().getAsset().addBufferingTime(c),a.getPlaybackSession().getAsset().addElapsedTime(c);var e=a.getStaCore().createLabels(i.END,d,c);a.getPlaybackSession().getAsset().updateDeltaLabels(e.eventLabels),a.getPlaybackSession().getAsset().updateIndependentLabels(e.eventLabels),a.getEventManager().newEvent(e),a.getPlaybackSession().getAsset().resetAssetLifecycleLabels(),a.getPlaybackSession().getAsset().setPlaybackStarted(!1),d.hasOwnProperty("ns_st_pe")&&b.parseBoolean(d.ns_st_pe,!1)&&a.getStaCore().resetPlaybackSession()},onSeekStart:function(b,c){var d=parseInt(c.ns_st_po);a.getStaCore().stopPausedOnBufferingTimer(),a.getHeartbeat().pause(),a.getKeepAlive().stop(),a.getPlaybackSession().getAsset().addElapsedTime(b),a.getPlaybackSession().getAsset().setElapsedTimestamp(b),a.getPlaybackSession().addBufferingTime(b),a.getPlaybackSession().getAsset().addBufferingTime(b),a.getPlaybackSession().getAsset().incrementSeeks(),a.getPlaybackSession().getAsset().setSeeking(!0),a.getPlaybackSession().getAsset().setCollectingSeekingTime(!0),a.getPlaybackSession().getAsset().setSeekStartPosition(d),a.getPlaybackSession().getAsset().setSeekingTimestamp(b),a.getPlaybackSession().incrementPauses(),a.getPlaybackSession().getAsset().incrementPauses();var e=a.getStaCore().createLabels(i.PAUSE,c,b);a.getPlaybackSession().getAsset().updateDeltaLabels(e.eventLabels),a.getPlaybackSession().getAsset().updateIndependentLabels(e.eventLabels),a.getEventManager().newEvent(e)},onPause:function(b,c){parseInt(c.ns_st_po);a.getStaCore().stopPausedOnBufferingTimer(),a.getPlaybackSession().getAsset().addElapsedTime(b),a.getPlaybackSession().getAsset().setElapsedTimestamp(b),a.getPlaybackSession().addBufferingTime(b),a.getPlaybackSession().getAsset().addBufferingTime(b),a.getPlaybackSession().incrementPauses(),a.getPlaybackSession().getAsset().incrementPauses();var d=a.getStaCore().createLabels(i.PAUSE,c,b);a.getPlaybackSession().getAsset().updateDeltaLabels(d.eventLabels),a.getPlaybackSession().getAsset().updateIndependentLabels(d.eventLabels),a.getEventManager().newEvent(d)}})}}(),w=function(){return function(a){var c=this;b.extend(c,{onEndOrAdSkip:function(c,d){a.getStaCore().resetHeartbeat(),a.getKeepAlive().stop(),a.getStaCore().stopPausedOnBufferingTimer(),a.getPlaybackSession().addBufferingTime(c),a.getPlaybackSession().getAsset().addBufferingTime(c),a.getPlaybackSession().getAsset().addElapsedTime(c);var e=a.getStaCore().createLabels(i.END,d,c);a.getPlaybackSession().getAsset().updateDeltaLabels(e.eventLabels),a.getPlaybackSession().getAsset().updateIndependentLabels(e.eventLabels),a.getEventManager().newEvent(e),a.getPlaybackSession().getAsset().isSeeking()&&a.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(a.getPlaybackSession().getAsset().setSeekingTimeBeforeEnd(c-a.getPlaybackSession().getAsset().getSeekingTimestamp()),a.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),a.getPlaybackSession().storeAssetPlaybackCounters(),a.getPlaybackSession().getAsset().resetAssetLifecycleLabels(),a.getPlaybackSession().getAsset().setPlaybackStarted(!1),d.hasOwnProperty("ns_st_pe")&&b.parseBoolean(d.ns_st_pe,!1)&&a.getStaCore().resetPlaybackSession()},onPause:function(b,c){a.getPlaybackSession().addBufferingTime(b),a.getPlaybackSession().getAsset().addBufferingTime(b),a.getPlaybackSession().incrementPauses(),a.getPlaybackSession().getAsset().incrementPauses(),a.getPlaybackSession().getAsset().isSeeking()&&a.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(a.getPlaybackSession().getAsset().addSeekingTime(b),a.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),a.getPlaybackSession().getAsset().addElapsedTime(b),a.getPlaybackSession().getAsset().setElapsedTimestamp(b)},onPlay:function(b,c){var d=parseInt(c.ns_st_po);a.getPlaybackSession().incrementPlaySequenceCounter(),a.getPlaybackSession().getAsset().incrementPlaySequenceCounter(),a.getPlaybackSession().getAsset().incrementPlayCounter(),a.getPlaybackSession().addBufferingTime(b),a.getPlaybackSession().getAsset().addBufferingTime(b),a.getPlaybackSession().getAsset().isSeeking()&&(a.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(a.getPlaybackSession().getAsset().addSeekingTime(b),a.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),a.getPlaybackSession().getAsset().addSeekingAmount(d),a.getPlaybackSession().getAsset().setSeeking(!1)),a.getPlaybackSession().getAsset().addElapsedTime(b),a.getPlaybackSession().getAsset().setElapsedTimestamp(b),a.getPlaybackSession().setPlaybackTimestamp(b),a.getPlaybackSession().getAsset().setPlaybackTimestamp(b),a.getPlaybackSession().getAsset().setPlaybackStartPosition(d),a.getHeartbeat().resume(),a.getKeepAlive().start();var e=a.getStaCore().createLabels(i.PLAY,c,b);a.getPlaybackSession().getAsset().updateDeltaLabels(e.eventLabels),a.getPlaybackSession().getAsset().updateIndependentLabels(e.eventLabels),a.getEventManager().newEvent(e)}})}}(),x=function(){return function(a){var c=this;b.extend(c,{onBuffer:function(b,c){a.getPlaybackSession().setPlaybackSessionStarted(!0),a.getPlaybackSession().getAsset().setAssetStarted(!0),a.getPlaybackSession().getAsset().isSeeking()&&a.getPlaybackSession().getAsset().setSeekingTime(a.getPlaybackSession().getAsset().getSeekingTimeBeforeEnd()),a.getPlaybackSession().setBufferingTimestamp(b),a.getPlaybackSession().getAsset().setBufferingTimestamp(b)},onSeekStart:function(b,c){var d=parseInt(c.ns_st_po);a.getPlaybackSession().setPlaybackSessionStarted(!0),a.getPlaybackSession().getAsset().setAssetStarted(!0),a.getPlaybackSession().getAsset().isSeeking()&&a.getPlaybackSession().getAsset().setSeekingTime(a.getPlaybackSession().getAsset().getSeekingTimeBeforeEnd()),a.getPlaybackSession().getAsset().incrementSeeks(),a.getPlaybackSession().getAsset().setSeeking(!0),a.getPlaybackSession().getAsset().setCollectingSeekingTime(!0),a.getPlaybackSession().getAsset().setSeekStartPosition(d),a.getPlaybackSession().getAsset().setSeekingTimestamp(b)},onPlay:function(b,c){var d=parseInt(c.ns_st_po);a.getPlaybackSession().setPlaybackSessionStarted(!0),a.getPlaybackSession().getAsset().setAssetStarted(!0),(a.getPlaybackSession().getAsset().isPlaybackSessionLooping()||0==a.getPlaybackSession().getPlaybackCounter())&&(a.getPlaybackSession().incrementPlaybackCounter(),a.getPlaybackSession().getAsset().setPlaybackSessionLooping(!1)),a.getPlaybackSession().getAsset().isSeeking()&&(a.getPlaybackSession().getAsset().setSeekingTime(a.getPlaybackSession().getAsset().getSeekingTimeBeforeEnd()),a.getPlaybackSession().getAsset().addSeekingAmount(d),a.getPlaybackSession().getAsset().setSeeking(!1)),a.getPlaybackSession().incrementPlaySequenceCounter(),a.getPlaybackSession().getAsset().setPlaybackStarted(!0),a.getPlaybackSession().getAsset().incrementSegmentPlaybackCounter(),(0==a.getPlaybackSession().getAsset().getLowestPartNumberPlayed()||a.getPlaybackSession().getAsset().getPartNumber()<=a.getPlaybackSession().getAsset().getLowestPartNumberPlayed())&&(a.getPlaybackSession().getAsset().setLowestPartNumberPlayed(a.getPlaybackSession().getAsset().getPartNumber()),a.getPlaybackSession().getAsset().incrementAssetPlaybackCounter(),a.getPlaybackSession().getAsset().setPlaySequenceCounter(0),a.getPlaybackSession().getAsset().resetAssetPlaybackIntervals()),a.getPlaybackSession().getAsset().incrementPlaySequenceCounter(),a.getPlaybackSession().getAsset().incrementPlayCounter(),a.getPlaybackSession().setPlaybackTimestamp(b),a.getPlaybackSession().getAsset().setPlaybackTimestamp(b),a.getPlaybackSession().getAsset().setElapsedTimestamp(b),a.getPlaybackSession().getAsset().setPlaybackStartPosition(d),a.getStaCore().isLoadingTimeSent()||(c.ns_st_lt=a.getStaCore().getLoadTimeOffset()+b-a.getStaCore().getInitTimestamp()+"",a.getStaCore().setLoadingTimeSent(!0)),a.getHeartbeat().resume(),a.getKeepAlive().start();var e=a.getStaCore().createLabels(i.PLAY,c,b);a.getPlaybackSession().getAsset().updateDeltaLabels(e.eventLabels),a.getPlaybackSession().getAsset().updateIndependentLabels(e.eventLabels),a.getEventManager().newEvent(e)}})}}(),y=function(){return function(a){var c=this;b.extend(c,{onEndOrAdSkip:function(c,d){a.getStaCore().resetHeartbeat(),a.getKeepAlive().stop(),a.getPlaybackSession().getAsset().addElapsedTime(c);var e=a.getStaCore().createLabels(i.END,d,c);a.getPlaybackSession().getAsset().updateDeltaLabels(e.eventLabels),a.getPlaybackSession().getAsset().updateIndependentLabels(e.eventLabels),a.getEventManager().newEvent(e),a.getPlaybackSession().getAsset().isSeeking()&&a.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(a.getPlaybackSession().getAsset().setSeekingTimeBeforeEnd(c-a.getPlaybackSession().getAsset().getSeekingTimestamp()),a.getPlaybackSession().getAsset().setSeeking(!1)),a.getPlaybackSession().storeAssetPlaybackCounters(),a.getPlaybackSession().getAsset().resetAssetLifecycleLabels(),a.getPlaybackSession().getAsset().setPlaybackStarted(!1),d.hasOwnProperty("ns_st_pe")&&b.parseBoolean(d.ns_st_pe,!1)&&a.getStaCore().resetPlaybackSession()},onPlay:function(b,c){var d=parseInt(c.ns_st_po);a.getPlaybackSession().incrementPlaySequenceCounter(),a.getPlaybackSession().getAsset().isSeeking()&&(a.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(a.getPlaybackSession().getAsset().addSeekingTime(b),a.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),a.getPlaybackSession().getAsset().addSeekingAmount(d),a.getPlaybackSession().getAsset().setSeeking(!1)),a.getPlaybackSession().getAsset().incrementPlayCounter(),a.getPlaybackSession().getAsset().incrementPlaySequenceCounter(),a.getPlaybackSession().setPlaybackTimestamp(b),a.getPlaybackSession().getAsset().setPlaybackTimestamp(b),a.getPlaybackSession().getAsset().addElapsedTime(b),a.getPlaybackSession().getAsset().setElapsedTimestamp(b),a.getPlaybackSession().getAsset().setPlaybackStartPosition(d),a.getHeartbeat().resume(),a.getKeepAlive().start();var e=a.getStaCore().createLabels(i.PLAY,c,b);a.getPlaybackSession().getAsset().updateDeltaLabels(e.eventLabels),a.getPlaybackSession().getAsset().updateIndependentLabels(e.eventLabels),a.getEventManager().newEvent(e)}})}}(),z=function(){return function(a){var c=this;b.extend(c,{onEndOrAdSkip:function(c,d){a.getStaCore().resetHeartbeat(),a.getKeepAlive().stop(),a.getPlaybackSession().addBufferingTime(c),a.getPlaybackSession().getAsset().addBufferingTime(c),a.getPlaybackSession().getAsset().addElapsedTime(c),a.getPlaybackSession().getAsset().isSeeking()&&a.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(a.getPlaybackSession().getAsset().setSeekingTimeBeforeEnd(c-a.getPlaybackSession().getAsset().getSeekingTimestamp()),a.getPlaybackSession().getAsset().setCollectingSeekingTime(!1));var e=a.getStaCore().createLabels(i.END,d,c);a.getPlaybackSession().getAsset().updateDeltaLabels(e.eventLabels),a.getPlaybackSession().getAsset().updateIndependentLabels(e.eventLabels),a.getEventManager().newEvent(e),a.getPlaybackSession().getAsset().resetAssetLifecycleLabels(),a.getPlaybackSession().getAsset().setPlaybackStarted(!1),d.hasOwnProperty("ns_st_pe")&&b.parseBoolean(d.ns_st_pe,!1)&&a.getStaCore().resetPlaybackSession()},onBufferStop:function(b,c){var d=parseInt(c.ns_st_po);a.getPlaybackSession().addBufferingTime(b),a.getPlaybackSession().getAsset().addBufferingTime(b),a.getPlaybackSession().setPlaybackTimestamp(b),a.getPlaybackSession().getAsset().setPlaybackTimestamp(b),a.getPlaybackSession().getAsset().addElapsedTime(b),a.getPlaybackSession().getAsset().setElapsedTimestamp(b),a.getPlaybackSession().getAsset().setPlaybackStartPosition(d),a.getHeartbeat().resume(),a.getKeepAlive().start();var e=a.getStaCore().createLabels(i.PLAY,c,b);a.getPlaybackSession().getAsset().updateDeltaLabels(e.eventLabels),a.getPlaybackSession().getAsset().updateIndependentLabels(e.eventLabels),a.getEventManager().newEvent(e)},onSeekStart:function(b,c){var d=parseInt(c.ns_st_po);a.getPlaybackSession().addBufferingTime(b),a.getPlaybackSession().getAsset().addBufferingTime(b),a.getPlaybackSession().getAsset().isSeeking()?a.getPlaybackSession().getAsset().isCollectingSeekingTime()||(a.getPlaybackSession().getAsset().setSeekingTimestamp(b),a.getPlaybackSession().getAsset().setCollectingSeekingTime(!0)):a.getPlaybackSession().getAsset().incrementSeeks(),a.getPlaybackSession().getAsset().isSeeking()||(a.getPlaybackSession().getAsset().setSeeking(!0),a.getPlaybackSession().getAsset().setCollectingSeekingTime(!0),a.getPlaybackSession().getAsset().setSeekStartPosition(d),a.getPlaybackSession().getAsset().setSeekingTimestamp(b)),a.getPlaybackSession().getAsset().addElapsedTime(b),a.getPlaybackSession().getAsset().setElapsedTimestamp(b)},onPause:function(b,c){a.getPlaybackSession().addBufferingTime(b),a.getPlaybackSession().getAsset().addBufferingTime(b),a.getPlaybackSession().getAsset().addElapsedTime(b),a.getPlaybackSession().getAsset().setElapsedTimestamp(b)},onPlay:function(b,c){var d=parseInt(c.ns_st_po);a.getPlaybackSession().incrementPlaySequenceCounter(),a.getPlaybackSession().getAsset().incrementPlaySequenceCounter(),a.getPlaybackSession().addBufferingTime(b),a.getPlaybackSession().getAsset().addBufferingTime(b),a.getPlaybackSession().getAsset().incrementPlayCounter(),a.getPlaybackSession().setPlaybackTimestamp(b),a.getPlaybackSession().getAsset().setPlaybackTimestamp(b),
a.getPlaybackSession().getAsset().addElapsedTime(b),a.getPlaybackSession().getAsset().setElapsedTimestamp(b),a.getPlaybackSession().getAsset().setPlaybackStartPosition(d),a.getHeartbeat().resume(),a.getKeepAlive().start();var e=a.getStaCore().createLabels(i.PLAY,c,b);a.getPlaybackSession().getAsset().updateDeltaLabels(e.eventLabels),a.getPlaybackSession().getAsset().updateIndependentLabels(e.eventLabels),a.getEventManager().newEvent(e)}})}}(),A=function(){return function(a){var c=this;b.extend(c,{onEndOrAdSkip:function(c,d){a.getPlaybackSession().getAsset().isSeeking()&&a.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(a.getPlaybackSession().getAsset().setSeekingTimeBeforeEnd(c-a.getPlaybackSession().getAsset().getSeekingTimestamp()),a.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),a.getPlaybackSession().storeAssetPlaybackCounters(),a.getPlaybackSession().getAsset().resetAssetLifecycleLabels(),a.getPlaybackSession().getAsset().setPlaybackStarted(!1),d.hasOwnProperty("ns_st_pe")&&b.parseBoolean(d.ns_st_pe,!1)&&a.getStaCore().resetPlaybackSession()},onSeekStart:function(b,c){var d=parseInt(c.ns_st_po);a.getPlaybackSession().getAsset().isSeeking()?a.getPlaybackSession().getAsset().setSeekingTimestamp(b):a.getPlaybackSession().getAsset().incrementSeeks(),a.getPlaybackSession().getAsset().isSeeking()||(a.getPlaybackSession().getAsset().setSeeking(!0),a.getPlaybackSession().getAsset().setCollectingSeekingTime(!0),a.getPlaybackSession().getAsset().setSeekStartPosition(d),a.getPlaybackSession().getAsset().setSeekingTimestamp(b))},onPlay:function(b,c){var d=parseInt(c.ns_st_po);a.getPlaybackSession().getAsset().isSeeking()&&(a.getPlaybackSession().getAsset().addSeekingAmount(d),a.getPlaybackSession().getAsset().setSeeking(!1)),a.getPlaybackSession().setPlaybackSessionStarted(!0),(a.getPlaybackSession().getAsset().isPlaybackSessionLooping()||0==a.getPlaybackSession().getPlaybackCounter())&&(a.getPlaybackSession().incrementPlaybackCounter(),a.getPlaybackSession().getAsset().setPlaybackSessionLooping(!1)),a.getPlaybackSession().incrementPlaySequenceCounter(),a.getPlaybackSession().getAsset().setPlaybackStarted(!0),a.getPlaybackSession().getAsset().incrementSegmentPlaybackCounter(),(0==a.getPlaybackSession().getAsset().getLowestPartNumberPlayed()||a.getPlaybackSession().getAsset().getPartNumber()<=a.getPlaybackSession().getAsset().getLowestPartNumberPlayed())&&(a.getPlaybackSession().getAsset().setLowestPartNumberPlayed(a.getPlaybackSession().getAsset().getPartNumber()),a.getPlaybackSession().getAsset().incrementAssetPlaybackCounter(),a.getPlaybackSession().getAsset().setPlaySequenceCounter(0),a.getPlaybackSession().getAsset().resetAssetPlaybackIntervals()),a.getPlaybackSession().getAsset().incrementPlaySequenceCounter(),a.getPlaybackSession().getAsset().incrementPlayCounter(),a.getPlaybackSession().setPlaybackTimestamp(b),a.getPlaybackSession().getAsset().setPlaybackTimestamp(b),a.getPlaybackSession().getAsset().setElapsedTimestamp(b),a.getPlaybackSession().getAsset().setPlaybackStartPosition(d),a.getStaCore().isLoadingTimeSent()||(c.ns_st_lt=a.getStaCore().getLoadTimeOffset()+b-a.getStaCore().getInitTimestamp()+"",a.getStaCore().setLoadingTimeSent(!0)),a.getHeartbeat().resume(),a.getKeepAlive().start();var e=a.getStaCore().createLabels(i.PLAY,c,b);a.getPlaybackSession().getAsset().updateDeltaLabels(e.eventLabels),a.getPlaybackSession().getAsset().updateIndependentLabels(e.eventLabels),a.getEventManager().newEvent(e)},onBuffer:function(){a.getPlaybackSession().setBufferingTimestamp(eventTimestamp),a.getPlaybackSession().getAsset().setBufferingTimestamp(eventTimestamp)}})}}(),B=function(){return function(a){var c=this;b.extend(c,{onEndOrAdSkip:function(c,d){var e=parseInt(d.ns_st_po);a.getStaCore().resetHeartbeat(),a.getKeepAlive().stop(),a.getPlaybackSession().addPlaybackTime(c),a.getPlaybackSession().getAsset().addPlaybackTime(c),a.getPlaybackSession().getAsset().addElapsedTime(c),a.getPlaybackSession().getAsset().addInterval(e);var f=a.getStaCore().createLabels(i.END,d,c);a.getPlaybackSession().getAsset().updateDeltaLabels(f.eventLabels),a.getPlaybackSession().getAsset().updateIndependentLabels(f.eventLabels),a.getEventManager().newEvent(f),a.getPlaybackSession().getAsset().resetAssetLifecycleLabels(),a.getPlaybackSession().getAsset().setPlaybackStarted(!1),d.hasOwnProperty("ns_st_pe")&&b.parseBoolean(d.ns_st_pe,!1)&&a.getStaCore().resetPlaybackSession()},onBuffer:function(b,c){var d=parseInt(c.ns_st_po);a.getHeartbeat().pause(),a.getKeepAlive().stop(),a.getPlaybackSession().addPlaybackTime(b),a.getPlaybackSession().getAsset().addPlaybackTime(b),a.getPlaybackSession().getAsset().addInterval(d),a.getStaCore().isPauseOnBufferingEnabled()&&a.getStaCore().startPausedOnBufferingTimer(b,c),a.getPlaybackSession().getAsset().incrementBufferCount(),a.getPlaybackSession().setBufferingTimestamp(b),a.getPlaybackSession().getAsset().setBufferingTimestamp(b),a.getPlaybackSession().getAsset().addElapsedTime(b),a.getPlaybackSession().getAsset().setElapsedTimestamp(b)},onSeekStart:function(b,c){var d=parseInt(c.ns_st_po);a.getHeartbeat().pause(),a.getKeepAlive().stop(),a.getPlaybackSession().addPlaybackTime(b),a.getPlaybackSession().getAsset().addPlaybackTime(b),a.getPlaybackSession().getAsset().addInterval(d),a.getPlaybackSession().getAsset().incrementSeeks(),a.getPlaybackSession().getAsset().setSeeking(!0),a.getPlaybackSession().getAsset().setCollectingSeekingTime(!0),a.getPlaybackSession().getAsset().setSeekStartPosition(d),a.getPlaybackSession().getAsset().setSeekingTimestamp(b),a.getPlaybackSession().getAsset().addElapsedTime(b),a.getPlaybackSession().getAsset().setElapsedTimestamp(b),a.getPlaybackSession().incrementPauses(),a.getPlaybackSession().getAsset().incrementPauses();var e=a.getStaCore().createLabels(i.PAUSE,c,b);a.getPlaybackSession().getAsset().updateDeltaLabels(e.eventLabels),a.getPlaybackSession().getAsset().updateIndependentLabels(e.eventLabels),a.getEventManager().newEvent(e)},onPause:function(b,c){var d=parseInt(c.ns_st_po);a.getHeartbeat().pause(),a.getKeepAlive().stop(),a.getPlaybackSession().addPlaybackTime(b),a.getPlaybackSession().getAsset().addPlaybackTime(b),a.getPlaybackSession().getAsset().addInterval(d),a.getPlaybackSession().getAsset().addElapsedTime(b),a.getPlaybackSession().getAsset().setElapsedTimestamp(b),a.getPlaybackSession().incrementPauses(),a.getPlaybackSession().getAsset().incrementPauses();var e=a.getStaCore().createLabels(i.PAUSE,c,b);a.getPlaybackSession().getAsset().updateDeltaLabels(e.eventLabels),a.getPlaybackSession().getAsset().updateIndependentLabels(e.eventLabels),a.getEventManager().newEvent(e)}})}}(),C=function(){return function(a){var c=this;b.extend(c,{onEndOrAdSkip:function(c,d){a.getPlaybackSession().getAsset().isSeeking()&&a.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(a.getPlaybackSession().getAsset().setSeekingTimeBeforeEnd(c-a.getPlaybackSession().getAsset().getSeekingTimestamp()),a.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),a.getPlaybackSession().storeAssetPlaybackCounters(),a.getPlaybackSession().getAsset().resetAssetLifecycleLabels(),a.getPlaybackSession().getAsset().setPlaybackStarted(!1),d.hasOwnProperty("ns_st_pe")&&b.parseBoolean(d.ns_st_pe,!1)&&a.getStaCore().resetPlaybackSession()},onPause:function(b,c){a.getPlaybackSession().getAsset().isSeeking()&&a.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(a.getPlaybackSession().getAsset().addSeekingTime(b),a.getPlaybackSession().getAsset().setCollectingSeekingTime(!1))},onPlay:function(b,c){var d=parseInt(c.ns_st_po);a.getPlaybackSession().getAsset().isSeeking()&&(a.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(a.getPlaybackSession().getAsset().addSeekingTime(b),a.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),a.getPlaybackSession().getAsset().addSeekingAmount(d),a.getPlaybackSession().getAsset().setSeeking(!1)),(a.getPlaybackSession().getAsset().isPlaybackSessionLooping()||0==a.getPlaybackSession().getPlaybackCounter())&&(a.getPlaybackSession().incrementPlaybackCounter(),a.getPlaybackSession().getAsset().setPlaybackSessionLooping(!1)),a.getPlaybackSession().incrementPlaySequenceCounter(),a.getPlaybackSession().getAsset().incrementPlaySequenceCounter(),a.getPlaybackSession().getAsset().incrementPlayCounter(),a.getPlaybackSession().getAsset().setPlaybackStarted(!0),a.getPlaybackSession().getAsset().incrementSegmentPlaybackCounter(),(0==a.getPlaybackSession().getAsset().getLowestPartNumberPlayed()||a.getPlaybackSession().getAsset().getPartNumber()<=a.getPlaybackSession().getAsset().getLowestPartNumberPlayed())&&(a.getPlaybackSession().getAsset().setLowestPartNumberPlayed(a.getPlaybackSession().getAsset().getPartNumber()),a.getPlaybackSession().getAsset().incrementAssetPlaybackCounter(),a.getPlaybackSession().getAsset().setPlaySequenceCounter(0),a.getPlaybackSession().getAsset().resetAssetPlaybackIntervals()),a.getPlaybackSession().setPlaybackTimestamp(b),a.getPlaybackSession().getAsset().setPlaybackTimestamp(b),a.getPlaybackSession().getAsset().setElapsedTimestamp(b),a.getPlaybackSession().getAsset().setPlaybackStartPosition(d),a.getStaCore().isLoadingTimeSent()||(c.ns_st_lt=a.getStaCore().getLoadTimeOffset()+b-a.getStaCore().getInitTimestamp()+"",a.getStaCore().setLoadingTimeSent(!0)),a.getHeartbeat().resume(),a.getKeepAlive().start();var e=a.getStaCore().createLabels(i.PLAY,c,b);a.getPlaybackSession().getAsset().updateDeltaLabels(e.eventLabels),a.getPlaybackSession().getAsset().updateIndependentLabels(e.eventLabels),a.getEventManager().newEvent(e)}})}}(),D=function(){return function(a){var c=this;b.extend(c,{onPause:function(b,c){a.getPlaybackSession().incrementPauses(),a.getPlaybackSession().getAsset().incrementPauses(),a.getPlaybackSession().getAsset().isSeeking()&&a.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(a.getPlaybackSession().getAsset().addSeekingTime(b),a.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),a.getPlaybackSession().getAsset().addElapsedTime(b),a.getPlaybackSession().getAsset().setElapsedTimestamp(b)}})}}(),E=function(){return function(a){var c=this;b.extend(c,{onEndOrAdSkip:function(c,d){parseInt(d.ns_st_po);a.getStaCore().resetHeartbeat(),a.getKeepAlive().stop(),a.getPlaybackSession().getAsset().addElapsedTime(c);var e=a.getStaCore().createLabels(i.END,d,c);a.getPlaybackSession().getAsset().updateDeltaLabels(e.eventLabels),a.getPlaybackSession().getAsset().updateIndependentLabels(e.eventLabels),a.getEventManager().newEvent(e),a.getPlaybackSession().getAsset().isSeeking()&&a.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(a.getPlaybackSession().getAsset().setSeekingTimeBeforeEnd(c-a.getPlaybackSession().getAsset().getSeekingTimestamp()),a.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),a.getPlaybackSession().storeAssetPlaybackCounters(),a.getPlaybackSession().getAsset().resetAssetLifecycleLabels(),a.getPlaybackSession().getAsset().setPlaybackStarted(!1),d.hasOwnProperty("ns_st_pe")&&b.parseBoolean(d.ns_st_pe,!1)&&a.getStaCore().resetPlaybackSession()},onPlay:function(b,c){var d=parseInt(c.ns_st_po);a.getPlaybackSession().incrementPlaySequenceCounter(),a.getPlaybackSession().getAsset().incrementPlaySequenceCounter(),a.getPlaybackSession().getAsset().incrementPlayCounter(),a.getPlaybackSession().getAsset().isSeeking()&&(a.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(a.getPlaybackSession().getAsset().addSeekingTime(b),a.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),a.getPlaybackSession().getAsset().addSeekingAmount(d),a.getPlaybackSession().getAsset().setSeeking(!1)),a.getPlaybackSession().getAsset().addElapsedTime(b),a.getPlaybackSession().getAsset().setElapsedTimestamp(b),a.getPlaybackSession().setPlaybackTimestamp(b),a.getPlaybackSession().getAsset().setPlaybackTimestamp(b),a.getPlaybackSession().getAsset().setPlaybackStartPosition(d),a.getStaCore().isLoadingTimeSent()||(c.ns_st_lt=a.getStaCore().getLoadTimeOffset()+b-a.getStaCore().getInitTimestamp()+"",a.getStaCore().setLoadingTimeSent(!0)),a.getHeartbeat().resume(),a.getKeepAlive().start();var e=a.getStaCore().createLabels(i.PLAY,c,b);a.getPlaybackSession().getAsset().updateDeltaLabels(e.eventLabels),a.getPlaybackSession().getAsset().updateIndependentLabels(e.eventLabels),a.getEventManager().newEvent(e)}})}}(),F=function(){return function(a){function d(){if(F=new G(ea),b.getNamespace().comScore?(fa=b.getNamespace().comScore.exports,F.setAppCore(fa.c())):F.setAppCore(null),a.publisherId){ea.setLabel("c2",a.publisherId);var d=a.secure;!d&&F.getAppCore()?d=F.getAppCore().isSecure():!d&&b.isBrowser()&&(d=b.isWebSecure());var e=(d?"https://sb":"http://b")+".scorecardresearch.com/p?c1=2";ea.setLiveEndpointURL(e)}a.liveEndpointURL&&ea.setLiveEndpointURL(a.liveEndpointURL),F.setKeepAlive(new q(F)),F.setHeartbeat(new p(F)),F.setEventManager(new o(F)),F.setStateMachine(new r),F.setLogging(new c(l.LOG_NAMESPACE,a.debug)),F.setPlaybackSession(new n(F)),H=new x(F),I=new y(F),J=new A(F),K=new B(F),L=new t(F),M=new v(F),N=new w(F),O=new u(F),P=new z(F),Q=new C(F),R=new D(F),S=new E(F),T=new s(F),U=!1,V=0,W=+new Date,Y=!0,$=!1,aa=[],a.systemClockJumpDetection&&ea.enableSystemClockJumpsDetection(parseInt(a.systemClockJumpDetectionInterval))}function e(a){var b=F.getStateMachine().getCurrentState();if(b==j.IDLE||b==j.PLAYBACK_NOT_STARTED||b==j.BUFFERING_BEFORE_PLAYBACK||b==j.SEEKING_BEFORE_PLAYBACK){if(a==i.PLAY)return!0}else if(b==j.PLAYING){if(a==i.END||a==i.AD_SKIP||a==i.SEEK_START||a==i.PAUSE)return!0}else if(b==j.PAUSED||b==j.BUFFERING_DURING_PAUSE||b==j.SEEKING_DURING_PLAYBACK||b==j.SEEKING_DURING_BUFFERING||b==j.SEEKING_DURING_PAUSE){if(a==i.END||a==i.AD_SKIP||a==i.PLAY)return!0}else if(b==j.BUFFERING_DURING_PLAYBACK){if(a==i.PAUSE_ON_BUFFERING||a==i.END||a==i.AD_SKIP||a==i.SEEK_START||a==i.PAUSE||a==i.PLAY)return!0}else if(b==j.BUFFERING_DURING_SEEKING){if(a==i.END||a==i.AD_SKIP||a==i.PAUSE||a==i.PLAY)return!0}else if(b==j.PAUSED_DURING_BUFFERING&&(a==i.END||a==i.AD_SKIP||a==i.BUFFER_STOP||a==i.PLAY))return!0;return!1}function f(a,b,c){var d=F.getStateMachine().getCurrentState();a==i.AD_SKIP&&!c.hasOwnProperty("ns_st_ui")&&e(a)?c.ns_st_ui="skip":a==i.SEEK_START&&!c.hasOwnProperty("ns_st_ui")&&e(a)&&(c.ns_st_ui="seek"),d==j.IDLE?a==i.BUFFER?H.onBuffer(b,c):a==i.SEEK_START?H.onSeekStart(b,c):a==i.PLAY&&H.onPlay(b,c):d==j.PLAYBACK_NOT_STARTED?a==i.END||a==i.AD_SKIP?J.onEndOrAdSkip(b,c):a==i.SEEK_START?J.onSeekStart(b,c):a==i.PLAY?J.onPlay(b,c):a==i.BUFFER&&J.onBuffer(b,c):d==j.PLAYING?a==i.END||a==i.AD_SKIP?K.onEndOrAdSkip(b,c):a==i.BUFFER?K.onBuffer(b,c):a==i.SEEK_START?K.onSeekStart(b,c):a==i.PAUSE&&K.onPause(b,c):d==j.PAUSED?a==i.END||a==i.AD_SKIP?I.onEndOrAdSkip(b,c):a==i.PLAY?I.onPlay(b,c):a==i.BUFFER?T.onBufferWhenSeekingOrPaused(b,c):a==i.SEEK_START&&T.onSeekStartWhenPausedOrBufferingDuringPause(b,c):d==j.BUFFERING_BEFORE_PLAYBACK?a==i.END||a==i.AD_SKIP?L.onEndOrAdSkip(b,c):a==i.BUFFER_STOP?L.onBufferStop(b,c):a==i.SEEK_START?L.onSeekStart(b,c):a==i.PAUSE?L.onPause(b,c):a==i.PLAY&&L.onPlay(b,c):d==j.BUFFERING_DURING_PLAYBACK?a==i.PAUSE_ON_BUFFERING?M.onPauseOnBuffering(b,c):a==i.BUFFER_STOP?T.onBufferStopOrOnPlayWhenBufferingDuringPlayback(b,c):a==i.END||a==i.AD_SKIP?M.onEndOrAdSkip(b,c):a==i.SEEK_START?M.onSeekStart(b,c):a==i.PAUSE?M.onPause(b,c):a==i.PLAY&&T.onBufferStopOrOnPlayWhenBufferingDuringPlayback(b,c):d==j.BUFFERING_DURING_SEEKING?a==i.END||a==i.AD_SKIP?N.onEndOrAdSkip(b,c):a==i.PAUSE?N.onPause(b,c):a==i.PLAY?N.onPlay(b,c):a==i.BUFFER_STOP&&T.onBufferStopWhenBufferingDuringSeekingOrBufferingDuringPause(b,c):d==j.BUFFERING_DURING_PAUSE?a==i.END||a==i.AD_SKIP?O.onEndAndSkip(b,c):a==i.PAUSE?O.onPause(b,c):a==i.PLAY?O.onPlay(b,c):a==i.SEEK_START?T.onSeekStartWhenPausedOrBufferingDuringPause(b,c):a==i.BUFFER_STOP&&T.onBufferStopWhenBufferingDuringSeekingOrBufferingDuringPause(b,c):d==j.SEEKING_BEFORE_PLAYBACK?a==i.END||a==i.AD_SKIP?Q.onEndOrAdSkip(b,c):a==i.PAUSE?Q.onPause(b,c):a==i.PLAY?Q.onPlay(b,c):a==i.BUFFER&&T.onBufferWhenSeekingOrPaused(b,c):d==j.SEEKING_DURING_PLAYBACK?a==i.END||a==i.AD_SKIP?S.onEndOrAdSkip(b,c):a==i.PLAY?S.onPlay(b,c):a==i.BUFFER?T.onBufferWhenSeekingOrPaused(b,c):a==i.PAUSE&&T.onPauseWhenSeekingDuringPlaybackOrSeekingDuringPause(b,c):d==j.SEEKING_DURING_BUFFERING?a==i.PAUSE?R.onPause(b,c):a==i.BUFFER?T.onBufferWhenSeekingOrPaused(b,c):a==i.PLAY?T.onPlayWhenSeekingDuringBufferingOrSeekingDuringPause(b,c):a==i.END||a==i.AD_SKIP?T.onEndOrAdSkipWhenSeekingDuringBufferingOrSeekingDuringPause(b,c):a==i.BUFFER_STOP&&T.onBufferStopWhenSeekingDuringBufferingOrSeekingDuringPause(b,c):d==j.PAUSED_DURING_BUFFERING?a==i.END||a==i.AD_SKIP?P.onEndOrAdSkip(b,c):a==i.BUFFER_STOP?P.onBufferStop(b,c):a==i.SEEK_START?P.onSeekStart(b,c):a==i.PAUSE?P.onPause(b,c):a==i.PLAY&&P.onPlay(b,c):d==j.SEEKING_DURING_PAUSE&&(a==i.BUFFER?T.onBufferWhenSeekingOrPaused(b,c):a==i.PLAY?T.onPlayWhenSeekingDuringBufferingOrSeekingDuringPause(b,c):a==i.PAUSE?T.onPauseWhenSeekingDuringPlaybackOrSeekingDuringPause(b,c):a==i.END||a==i.AD_SKIP?T.onEndOrAdSkipWhenSeekingDuringBufferingOrSeekingDuringPause(b,c):a==i.BUFFER_STOP&&T.onBufferStopWhenSeekingDuringBufferingOrSeekingDuringPause(b,c)),e(a)&&F.getPlaybackSession().setFirstEventSent(!0)}function m(a,c){for(var d,e=ka.encodeURIComponent||escape,f=[],g=l.LABELS_ORDER,h=a.split("?"),i=h[0],j=h[1],k=j.split("&"),m=0,n=k.length;m<n;m++){var o=k[m].split("="),p=unescape(o[0]),q=unescape(o[1]);p&&(c[p]=q)}for(var r={},s=0,t=g.length;s<t;s++){var u=g[s];if(c.hasOwnProperty(u)){var v=c[u];"undefined"!=typeof v&&null!=v&&(r[u]=!0,f.push(e(u)+"="+e(c[u])))}}for(var w in c)if(c.hasOwnProperty(w)){if(r[w])continue;var x=c[w];"undefined"!=typeof x&&null!=x&&f.push(e(w)+"="+e(c[w]))}d=i+"?"+f.join("&"),d=d+(d.indexOf("&c8=")<0?"&c8="+e(la.title):"")+(d.indexOf("&c7=")<0?"&c7="+e(la.URL):"")+(d.indexOf("&c9=")<0?"&c9="+e(la.referrer):"");var y=b.browserAcceptsLargeURLs()?l.URL_LENGTH_LIMIT:l.RESTRICTED_URL_LENGTH_LIMIT;if(d.length>y&&d.indexOf("&")>0){var z=d.substr(0,y-8).lastIndexOf("&");d=(d.substring(0,z)+"&ns_cut="+e(d.substring(z+1))).substr(0,y)}return d}var F,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ba,ca,da,ea=this,fa={},ga=l.DEFAULT_PAUSED_ON_BUFFERING_INTERVAL,ha=l.THROTTLING_DELAY,ia={},ja=!1;b.extend(ea,{getConfiguration:function(){return a||{}},enableSystemClockJumpsDetection:function(a){(a<l.SYSTEM_CLOCK_JUMP_DETECTION_MINIMUM_INTERVAL||!a)&&(a=l.SYSTEM_CLOCK_JUMP_DETECTION_DEFAULT_INTERVAL),b.onSystemClockJump(function(a){da=a,ja=!0},a)},createLabels:function(a,c,d){var e=!1;if(a==i.HEARTBEAT){var f=isNaN(X)?W:X;X=d,(d<f||ja)&&(e=!0,ja=!1,d<f?(F.getPlaybackSession().addInternalErrorFlag("1"),F.getLogging().infoLog("System clock jump detected","to the far past")):da?(F.getPlaybackSession().addInternalErrorFlag("3"),F.getLogging().infoLog("System clock jump detected","to the future")):(F.getPlaybackSession().addInternalErrorFlag("2"),F.getLogging().infoLog("System clock jump detected","to the near past")),d=f)}var g={};if("undefined"!=typeof document){var h=document;g.c7=h.URL,g.c8=h.title,g.c9=h.referrer}return g.ns_ts=+new Date+"",g.ns_st_ev=i.toString(a),g.ns_st_mp=l.DEFAULT_PLAYERNAME,g.ns_st_mv=l.STREAMINGANALYTICS_VERSION,g.ns_st_ub="0",g.ns_st_br="0",g.ns_st_pn="1",g.ns_st_tp="0",g.ns_st_it=k.toString(k.SINGLE_CLIP),g.ns_st_sv=l.STREAMINGANALYTICS_VERSION,g.ns_st_smv=l.MODEL_VERSION,g.ns_type="hidden",g.ns_st_ec=F.getEventManager().getEventCounter()+"",g.ns_st_ki=F.getKeepAlive().getInterval()+"",F.getPlaybackSession().getAsset().isAutoCalculatePositionsEnabled()?g.ns_st_po=F.getPlaybackSession().getAsset().getExpectedPlaybackPosition(d)+"":g.ns_st_po=ca+"",ca=parseInt(g.ns_st_po),b.extend(g,ea.getLabels()),F.getPlaybackSession().createLabels(g,d),b.extend(g,c),e&&(F.getPlaybackSession().setPlaybackTimestamp(X-parseInt(g.ns_st_pt)),F.getPlaybackSession().getAsset().setPlaybackTimestamp(X-parseInt(g.ns_st_pt)),F.getPlaybackSession().getAsset().setElapsedTimestamp(X-parseInt(g.ns_st_et)),F.getStateMachine().getCurrentState()==j.BUFFERING_DURING_PLAYBACK&&F.getPlaybackSession().getAsset().setBufferingTimestamp(X-parseInt(g.ns_st_bp))),{eventType:a,eventLabels:g}},newEvent:function(a,c,d,e){ea.stopDelayedTransitionTimer();var g=F.getStateMachine().getCurrentState(),h=F.getStateMachine().eventTypeToState(a);if(null==h||h==g)return void F.getLogging().infoLog("Ignored event:",i.toString(a),"during state",b.stateToString(g),d);if(ea.isThrottlingEnabled()&&(g==j.PLAYING||g==j.PAUSED)&&(h==j.PLAYING||h==j.PAUSED)&&!e){F.getLogging().infoLog("Throttled event:",i.toString(a),"during state",b.stateToString(g),d,ea.getThrottlingDelay(),"ms");var k=function(a,b,d){return function(){ea.newEvent(a,c,d,!0)}}(a,h,d);return void(_=F.getPlatformAPI().setTimeout(k,ea.getThrottlingDelay()))}var l=isNaN(X)?W:X;X=c;var m=!1;(c<l||ja)&&(m=!0,ja=!1,c<l?(F.getPlaybackSession().addInternalErrorFlag("1"),F.getLogging().infoLog("System clock jump detected","to the far past")):da?(F.getPlaybackSession().addInternalErrorFlag("3"),F.getLogging().infoLog("System clock jump detected","to the future")):(F.getPlaybackSession().addInternalErrorFlag("2"),F.getLogging().infoLog("System clock jump detected","to the near past")),c=l),d.ns_st_po||(F.getPlaybackSession().getAsset().isAutoCalculatePositionsEnabled()?F.getStateMachine().getCurrentState()==j.IDLE?d.ns_st_po="0":d.ns_st_po=F.getPlaybackSession().getAsset().getExpectedPlaybackPosition(c)+"":d.ns_st_po=ca+""),ca=parseInt(d.ns_st_po),F.getPlaybackSession().getAsset().setPlaybackTimeOffset(parseInt(d.ns_st_po)),f(a,c,d);var n=0;isNaN(F.getStateMachine().getLastStateChangeTimestamp())||(n=c-F.getStateMachine().getLastStateChangeTimestamp()),F.getStateMachine().newEvent(a,c),m&&(h!=j.IDLE&&h!=j.PLAYBACK_NOT_STARTED&&h!=j.SEEKING_BEFORE_PLAYBACK&&h!=j.BUFFERING_BEFORE_PLAYBACK&&F.getPlaybackSession().getAsset().setElapsedTimestamp(X),h!=j.BUFFERING_BEFORE_PLAYBACK&&h!=j.BUFFERING_DURING_PAUSE&&h!=j.BUFFERING_DURING_PLAYBACK&&h!=j.BUFFERING_DURING_SEEKING&&h!=j.PAUSED_DURING_BUFFERING||(F.getPlaybackSession().setBufferingTimestamp(X),F.getPlaybackSession().getAsset().setBufferingTimestamp(X)),h!=j.PLAYING&&h!=j.BUFFERING_DURING_PLAYBACK||(F.getPlaybackSession().setPlaybackTimestamp(X),F.getPlaybackSession().getAsset().setPlaybackTimestamp(X)),h!=j.SEEKING_BEFORE_PLAYBACK&&h!=j.SEEKING_DURING_BUFFERING&&h!=j.SEEKING_DURING_PAUSE&&h!=j.SEEKING_DURING_PLAYBACK&&h!=j.BUFFERING_DURING_SEEKING||F.getPlaybackSession().getAsset().setSeekingTimestamp(X)),F.getLogging().log("Transition from",b.stateToString(g),"to",b.stateToString(h),"due to event:",i.toString(a));for(var o=0,p=aa.length;o<p;o++)aa[o](g,h,d,n)},newPseudoEvent:function(a,c,d){if((a==i.LOAD||a==i.ENGAGE)&&F.getStateMachine().getCurrentState()!=j.IDLE)return void F.getLogging().infoLog("Ignored pseudo-event:",i.toString(a),"during state",b.stateToString(F.getStateMachine().getCurrentState()),d);a==i.ERROR&&null==d.ns_st_er&&(d.ns_st_er=h.UNKNOWN_VALUE),a==i.TRANSFER&&null==d.ns_st_rp&&(d.ns_st_rp=h.UNKNOWN_VALUE);var e,f,g,k,l=!0,m=!1;switch(a){case i.BIT_RATE:e="ns_st_br",f="ns_st_pbr";break;case i.PLAYBACK_RATE:e="ns_st_rt",f="ns_st_prt";break;case i.VOLUME:e="ns_st_vo",f="ns_st_pvo";break;case i.WINDOW_STATE:e="ns_st_ws",f="ns_st_pws";break;case i.AUDIO:e="ns_st_at",f="ns_st_pat";break;case i.VIDEO:e="ns_st_vt",f="ns_st_pvt";break;case i.SUBS:e="ns_st_tt",f="ns_st_ptt";break;case i.CDN:e="ns_st_cdn",f="ns_st_pcdn";break;default:l=!1}if(l&&e in d)switch(k=d[e],a){case i.BIT_RATE:case i.VOLUME:case i.WINDOW_STATE:e in ia&&(g=ia[e],d[f]=g,m=k==g+""),ia[e]=d[e];break;case i.AUDIO:case i.VIDEO:case i.SUBS:case i.CDN:F.getPlaybackSession().getAsset().hasInternalLabel(e)&&(g=F.getPlaybackSession().getAsset().getInternalLabel(e),d[f]=g,m=k==g+""),F.getPlaybackSession().getAsset().setInternalLabel(e,d[e]);break;case i.PLAYBACK_RATE:g=F.getPlaybackSession().getAsset().getPlaybackRate(),d[f]=g+""}if(l&&F.getStateMachine().getCurrentState()!=j.PLAYING&&F.getStateMachine().getCurrentState()!=j.BUFFERING_DURING_PLAYBACK||l&&m)return a==i.PLAYBACK_RATE&&F.getPlaybackSession().getAsset().setPlaybackRate(parseInt(d.ns_st_rt)),void F.getLogging().infoLog("No measurement send for the pseudo-event:",i.toString(a),"during state",b.stateToString(F.getStateMachine().getCurrentState()),d);var n=isNaN(X)?W:X;X=c;var o=!1;(c<n||ja)&&(o=!0,ja=!1,c<n?(F.getPlaybackSession().addInternalErrorFlag("1"),F.getLogging().infoLog("System clock jump detected","to the far past")):da?(F.getPlaybackSession().addInternalErrorFlag("3"),F.getLogging().infoLog("System clock jump detected","to the future")):(F.getPlaybackSession().addInternalErrorFlag("2"),F.getLogging().infoLog("System clock jump detected","to the near past")),c=n),d.ns_st_po||(F.getPlaybackSession().getAsset().isAutoCalculatePositionsEnabled()?d.ns_st_po=F.getPlaybackSession().getAsset().getExpectedPlaybackPosition(c)+"":d.ns_st_po=ca+""),ca=parseInt(d.ns_st_po),F.getPlaybackSession().getAsset().setPlaybackTimeOffset(parseInt(d.ns_st_po)),F.getStateMachine().getCurrentState()!=j.IDLE&&F.getStateMachine().getCurrentState()!=j.PLAYBACK_NOT_STARTED&&F.getStateMachine().getCurrentState()!=j.SEEKING_BEFORE_PLAYBACK&&F.getStateMachine().getCurrentState()!=j.BUFFERING_BEFORE_PLAYBACK&&(F.getPlaybackSession().getAsset().addElapsedTime(c),F.getPlaybackSession().getAsset().setElapsedTimestamp(c)),F.getStateMachine().getCurrentState()!=j.PLAYING&&F.getStateMachine().getCurrentState()!=j.BUFFERING_DURING_PLAYBACK||(F.getPlaybackSession().addPlaybackTime(c),F.getPlaybackSession().setPlaybackTimestamp(c),F.getPlaybackSession().getAsset().addPlaybackTime(c),F.getPlaybackSession().getAsset().setPlaybackTimestamp(c),F.getPlaybackSession().getAsset().addInterval(parseInt(d.ns_st_po)),F.getPlaybackSession().getAsset().setPlaybackStartPosition(parseInt(d.ns_st_po))),F.getStateMachine().getCurrentState()!=j.BUFFERING_BEFORE_PLAYBACK&&F.getStateMachine().getCurrentState()!=j.BUFFERING_DURING_PAUSE&&F.getStateMachine().getCurrentState()!=j.BUFFERING_DURING_PLAYBACK&&F.getStateMachine().getCurrentState()!=j.BUFFERING_DURING_SEEKING||(F.getPlaybackSession().addBufferingTime(c),F.getPlaybackSession().setBufferingTimestamp(c),F.getPlaybackSession().getAsset().addBufferingTime(c),F.getPlaybackSession().getAsset().setBufferingTimestamp(c));var p=ea.createLabels(a,d,c);F.getPlaybackSession().getAsset().updateDeltaLabels(p.eventLabels),F.getPlaybackSession().getAsset().updateIndependentLabels(p.eventLabels),F.getEventManager().newEvent(p),a==i.PLAYBACK_RATE&&F.getPlaybackSession().getAsset().setPlaybackRate(parseInt(d.ns_st_rt)),o&&(F.getStateMachine().getCurrentState()!=j.PLAYING&&F.getStateMachine().getCurrentState()!=j.BUFFERING_DURING_PLAYBACK||(F.getPlaybackSession().setPlaybackTimestamp(X),F.getPlaybackSession().getAsset().setPlaybackTimestamp(X)),F.getStateMachine().getCurrentState()!=j.IDLE&&F.getStateMachine().getCurrentState()!=j.PLAYBACK_NOT_STARTED&&F.getStateMachine().getCurrentState()!=j.SEEKING_BEFORE_PLAYBACK&&F.getStateMachine().getCurrentState()!=j.BUFFERING_BEFORE_PLAYBACK&&F.getPlaybackSession().getAsset().setElapsedTimestamp(X),F.getStateMachine().getCurrentState()!=j.BUFFERING_BEFORE_PLAYBACK&&F.getStateMachine().getCurrentState()!=j.BUFFERING_DURING_PAUSE&&F.getStateMachine().getCurrentState()!=j.BUFFERING_DURING_PLAYBACK&&F.getStateMachine().getCurrentState()!=j.BUFFERING_DURING_SEEKING&&F.getStateMachine().getCurrentState()!=j.PAUSED_DURING_BUFFERING||(F.getPlaybackSession().setBufferingTimestamp(X),F.getPlaybackSession().getAsset().setBufferingTimestamp(X)),F.getStateMachine().getCurrentState()!=j.SEEKING_BEFORE_PLAYBACK&&F.getStateMachine().getCurrentState()!=j.SEEKING_DURING_BUFFERING&&F.getStateMachine().getCurrentState()!=j.SEEKING_DURING_PAUSE&&F.getStateMachine().getCurrentState()!=j.SEEKING_DURING_PLAYBACK&&F.getStateMachine().getCurrentState()!=j.BUFFERING_DURING_SEEKING||F.getPlaybackSession().getAsset().setSeekingTimestamp(X))},getState:function(){return F.getStateMachine().getCurrentState()},addListener:function(a){aa.push(a)},removeListener:function(a){aa.splice(b.indexOf(a,aa),1)},getLabel:function(a){return ia[a]},getLabels:function(){return ia},setLabel:function(a,b){null==b?delete ia[a]:ia[a]=b},setLabels:function(a){for(var b in a)a.hasOwnProperty(b)&&ea.setLabel(b,a[b])},getPlatformAPI:function(){return F.getAppCore()?F.getAppCore().getPlatformAPI():g},getExports:function(){return fa},isProperlyInitialized:function(){var a=F.getAppCore().getAppContext(),b=F.getAppCore().getSalt(),c=F.getAppCore().getPixelURL();return a&&c&&b},setThrottlingDelay:function(a){ha=a},getThrottlingDelay:function(){return ha},isThrottlingEnabled:function(){return $},setThrottlingEnabled:function(a){$=a},isLoadingTimeSent:function(){return U},setLoadingTimeSent:function(a){U=a},getLoadTimeOffset:function(){return V},setLoadTimeOffset:function(a){V=a},getInitTimestamp:function(){return W},setPauseOnBufferingInterval:function(a){ga=a},getPauseOnBufferingInterval:function(){return ga},isPauseOnBufferingEnabled:function(){return Y},setPauseOnBufferingEnabled:function(a){Y=a},startPausedOnBufferingTimer:function(a,c){ea.stopPausedOnBufferingTimer(),Z=ea.getPlatformAPI().setTimeout(function(){var a={},d=b.fixEventTime(a),e=parseInt(c.ns_st_po);a.ns_st_po=e+"",ea.newEvent(i.PAUSE_ON_BUFFERING,d,a)},ga)},stopPausedOnBufferingTimer:function(){null!=Z&&(ea.getPlatformAPI().clearTimeout(Z),Z=null)},stopDelayedTransitionTimer:function(){_&&(ea.getPlatformAPI().clearTimeout(_),_=null)},setLiveEndpointURL:function(a){if(null==a||0==a.length)return null;var b=decodeURIComponent||unescape,c=a.indexOf("?");if(c>=0){if(c<a.length-1){for(var d=a.substring(c+1).split("&"),e=0,f=d.length;e<f;e++){var g=d[e],h=g.split("=");2==h.length?ea.setLabel(h[0],b(h[1])):1==h.length&&ea.setLabel(l.PAGE_NAME_LABEL,b(h[0]))}a=a.substring(0,c+1)}}else a+="?";return ba=a},getLiveEndpointURL:function(){return ba?ba:"undefined"!=typeof ns_p&&"string"==typeof ns_p.src?ba=ns_p.src.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):"string"==typeof ns_pixelUrl?ba=ns_pixelUrl.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):null},getStaSM:function(){return F},resetPlaybackSession:function(a){var b=F.getPlaybackSession();F.setPlaybackSession(new n(F)),n.resetPlaybackSession(F,b,a)},resetHeartbeat:function(){F.getHeartbeat().pause();var a=F.getHeartbeat().getIntervals();F.setHeartbeat(new p(F)),F.getHeartbeat().setIntervals(a)}});var ka,la;b.isBrowser()?(ka=window,la=document):(ka={},la={location:{href:""},title:"",URL:"",referrer:"",cookie:""}),b.extend(ea,{prepareUrl:m}),d()}}(),G=function(){return function(a){var c,d,e,f,g,h,i,j=this;b.extend(j,{getAppCore:function(){return c},getStaCore:function(){return a},getEventManager:function(){return d},getStateMachine:function(){return e},getHeartbeat:function(){return f},getKeepAlive:function(){return g},getPlaybackSession:function(){return h},getLogging:function(){return i},setAppCore:function(a){c=a},setKeepAlive:function(a){g=a},setHeartbeat:function(a){f=a},setEventManager:function(a){d=a},setStateMachine:function(a){e=a},setPlaybackSession:function(a){h=a},setLogging:function(a){i=a}})}}(),H=function(){return function(a){function c(){a=b.extend({},a),f=new F(a),f.getStaSM().getLogging().log("New StreamingAnalytics instance with configuration",a)}function d(a){var c,d;if(c="object"==typeof arguments[1]?arguments[1]:"object"==typeof arguments[2]?arguments[2]:{},d="number"==typeof arguments[1]?arguments[1]:"number"==typeof arguments[2]?arguments[2]:NaN,i.toString(a)){c=b.jsonObjectToStringDictionary(c);var e=b.fixEventTime(c);c.ns_st_po||isNaN(d)||(c.ns_st_po=b.parseInteger(d,0)+""),a==i.PLAY||a==i.PAUSE||a==i.BUFFER||a==i.END||a==i.SEEK_START||a==i.AD_SKIP||a==i.BUFFER_STOP?f.newEvent(a,e,c):f.newPseudoEvent(a,e,c)}}function e(){h&&f.getStaSM().getStateMachine().getCurrentState()!=j.IDLE&&g.notifyEnd()}var f,g=this,h=!0;
b.extend(this,{isProperlyInitialized:function(){return f.isProperlyInitialized()},reset:function(a){d(i.END);var b=f;b.getStaSM().getKeepAlive().stop(),b.getStaSM().getHeartbeat().pause(),f=new F(b.getConfiguration()),n.resetPlaybackSession(f.getStaSM(),b.getStaSM().getPlaybackSession(),a)},setPauseOnBufferingInterval:function(a){f.setPauseOnBufferingInterval(a)},getPauseOnBufferingInterval:function(){return f.getPauseOnBufferingInterval()},setKeepAliveInterval:function(a){f.getStaSM().getKeepAlive().setInterval(a)},getKeepAliveInterval:function(){return f.getStaSM().getKeepAlive().getInterval()},setHeartbeatIntervals:function(a){f.getStaSM().getHeartbeat().setIntervals(a)},notifyPlay:function(a,b){f.getStaSM().getLogging().apiCall("notifyPlay",a,b),d(i.PLAY,a,b)},notifyPause:function(a,b){f.getStaSM().getLogging().apiCall("notifyPause",a,b),d(i.PAUSE,a,b)},notifyEnd:function(a,b){f.getStaSM().getLogging().apiCall("notifyEnd",a,b),d(i.END,a,b)},notifyBufferStart:function(a,b){f.getStaSM().getLogging().apiCall("notifyBufferStart",a,b),d(i.BUFFER,a,b)},notifyBufferStop:function(a,b){f.getStaSM().getLogging().apiCall("notifyBufferStop",a,b),d(i.BUFFER_STOP,a,b)},notifyLoad:function(a,b){f.getStaSM().getLogging().apiCall("notifyLoad",a,b),d(i.LOAD,a,b)},notifyEngage:function(a,b){f.getStaSM().getLogging().apiCall("notifyEngage",a,b),d(i.ENGAGE,a,b)},notifySeekStart:function(a,b){f.getStaSM().getLogging().apiCall("notifySeekStart",a,b),d(i.SEEK_START,a,b)},notifySkipAd:function(a,b){f.getStaSM().getLogging().apiCall("notifySkipAd",a,b),d(i.AD_SKIP,a,b)},notifyCallToAction:function(a,b){f.getStaSM().getLogging().apiCall("notifyCallToAction",a,b),d(i.CTA,a,b)},notifyError:function(a,b){f.getStaSM().getLogging().apiCall("notifyError",a,b),d(i.ERROR,a,b)},notifyTransferPlayback:function(a,b){f.getStaSM().getLogging().apiCall("notifyTransferPlayback",a,b),d(i.TRANSFER,a,b)},notifyDrmFail:function(a,b){f.getStaSM().getLogging().apiCall("notifyDrmFail",a,b),d(i.DRM_FAILED,a,b)},notifyDrmApprove:function(a,b){f.getStaSM().getLogging().apiCall("notifyDrmApprove",a,b),d(i.DRM_APPROVED,a,b)},notifyDrmDeny:function(a,b){f.getStaSM().getLogging().apiCall("notifyDrmDeny",a,b),d(i.DRM_DENIED,a,b)},notifyChangeBitrate:function(a,b,c){if(f.getStaSM().getLogging().apiCall("notifyChangeBitrate",a,b,c),null!=a){var e=c||{};e.ns_st_br=a+"",d(i.BIT_RATE,e,b)}},notifyChangePlaybackRate:function(a,b,c){if(f.getStaSM().getLogging().apiCall("notifyChangePlaybackRate",a,b,c),null!=a){var e=c||{};e.ns_st_rt=a+"",d(i.PLAYBACK_RATE,e,b)}},notifyChangeVolume:function(a,b,c){if(f.getStaSM().getLogging().apiCall("notifyChangeVolume",a,b,c),null!=a){var e=c||{};e.ns_st_vo=a+"",d(i.VOLUME,e,b)}},notifyChangeWindowState:function(a,b,c){if(f.getStaSM().getLogging().apiCall("notifyChangeWindowState",a,b,c),null!=a){var e=c||{};e.ns_st_ws=a+"",d(i.WINDOW_STATE,e,b)}},notifyChangeAudioTrack:function(a,b,c){if(f.getStaSM().getLogging().apiCall("notifyChangeAudioTrack",a,b,c),null!=a){var e=c||{};e.ns_st_at=a+"",d(i.AUDIO,e,b)}},notifyChangeVideoTrack:function(a,b,c){if(f.getStaSM().getLogging().apiCall("notifyChangeVideoTrack",a,b,c),null!=a){var e=c||{};e.ns_st_vt=a+"",d(i.VIDEO,e,b)}},notifyChangeSubtitleTrack:function(a,b,c){if(f.getStaSM().getLogging().apiCall("notifyChangeSubtitleTrack",a,b,c),null!=a){var e=c||{};e.ns_st_tt=a+"",d(i.SUBS,e,b)}},notifyChangeCdn:function(a,b,c){if(f.getStaSM().getLogging().apiCall("notifyChangeCdn",a,b,c),null!=a){var e=c||{};e.ns_st_cdn=a+"",d(i.CDN,e,b)}},notifyCustomEvent:function(a,b){f.getStaSM().getLogging().apiCall("notifyCustomEvent",a,b),d(i.CUSTOM,a,b)},getLabels:function(){return f.getLabels()},getState:function(){return f.getStaSM().getStateMachine().getCurrentState()},setLabels:function(a){f.setLabels(a)},getLabel:function(a){return f.getLabel(a)},setLabel:function(a,b){f.setLabel(a,b)},getLoadTimeOffset:function(){return f.getLoadTimeOffset()},setLoadTimeOffset:function(a){f.setLoadTimeOffset(a)},setLiveEndpointURL:function(a){return f.setLiveEndpointURL(a)},getLiveEndpointURL:function(){return f.getLiveEndpointURL()},isPauseOnBufferingEnabled:function(){return f.isPauseOnBufferingEnabled()},setPauseOnBufferingEnabled:function(a){f.setPauseOnBufferingEnabled(a)},isThrottlingEnabled:function(){return f.isThrottlingEnabled()},setThrottlingEnabled:function(a){f.setThrottlingEnabled(a)},setThrottlingDelay:function(a){f.setThrottlingDelay(a)},getThrottlingDelay:function(){return f.getThrottlingDelay()},setPlaybackIntervalMergeTolerance:function(a){f.getStaSM().getPlaybackSession().getAsset().setPlaybackIntervalMergeTolerance(a)},getPlaybackIntervalMergeTolerance:function(){return f.getStaSM().getPlaybackSession().getAsset().getPlaybackIntervalMergeTolerance()},createPlaybackSession:function(a){f.getStaSM().getLogging().apiCall("createPlaybackSession",a),a=b.jsonObjectToStringDictionary(a);var c=f.getStaSM().getStateMachine().getCurrentState();c!=j.IDLE&&(f.getStaSM().getLogging().infoLog("Ending the current Clip. It was in state:",b.stateToString(c)),g.notifyEnd()),f.getStaSM().getPlaybackSession().isPlaybackSessionStarted()&&f.resetPlaybackSession(),f.getStaSM().getPlaybackSession().setLabels(a)},getVersion:function(){return l.STREAMINGANALYTICS_VERSION},addListener:function(a){f.addListener(a)},removeListener:function(a){f.removeListener(a)},addMeasurementListener:function(a){f.getStaSM().getEventManager().addMeasurementListener(a)},removeMeasurementListener:function(a){f.getStaSM().getEventManager().removeMeasurementListener(a)},getPlaybackSession:function(){return f.getStaSM().getPlaybackSession()},setExitEndEventEnabled:function(a){h=a},isExitEndEventEnabled:function(){return h},getPlatformAPI:function(){return f.getPlatformAPI()},_getLogHistory:function(){return f.getStaSM().getLogging().getLogHistory()}}),b.isBrowser()&&(window.addEventListener?(window.addEventListener("beforeunload",e),window.addEventListener("unload",e)):window.attachEvent&&(window.attachEvent("onbeforeunload",e),window.attachEvent("onunload",e))),c()}}();return H.PlayerEvents=i,H.InternalStates=j,H.ImplementationType=k,H.Constants=l,H}(),a.ReducedRequirementsStreamingAnalytics=a.ReducedRequirementsStreamingAnalytics||function(){var d={LongFormOnDemand:"12",ShortFormOnDemand:"11",Live:"13",UserGeneratedLongFormOnDemand:"22",UserGeneratedShortFormOnDemand:"21",UserGeneratedLive:"23",Bumper:"99",Other:"00"},e={LinearOnDemandPreRoll:"11",LinearOnDemandMidRoll:"12",LinearOnDemandPostRoll:"13",LinearLive:"21",BrandedOnDemandPreRoll:"31",BrandedOnDemandMidRoll:"32",BrandedOnDemandPostRoll:"33",BrandedOnDemandContent:"34",BrandedOnDemandLive:"35",Other:"00"},f=a.StreamingAnalytics,g=a.StreamingAnalytics.InternalStates||null,h=a.StreamingAnalytics.ImplementationType||null,i=null!=a.StreamingAnalytics.InternalStates&&null!=a.StreamingAnalytics.ImplementationType,j=a.StreamingAnalytics.Constants,k=function(a){function k(){i&&(b.exists(a)&&(a.customerC2||a.publisherId)||b.getNamespace().comScore?t=new f(a):w.error("Cannot instantiate StreamingAnalytics","The property publisherId was not provided (or incorrectly provided) in the StreamingAnalytics configuration."),t&&t.setLabel("ns_st_it",h.toString(h.REDUCED)))}function l(a){for(var b in j.STANDARD_METADATA_LABELS)if(j.STANDARD_METADATA_LABELS.hasOwnProperty(b)&&!m(j.STANDARD_METADATA_LABELS[b],q,a))return!1;return!0}function m(a,c,d){return!!(b.exists(a)&&b.exists(c)&&b.exists(d)&&(c.hasOwnProperty(a)&&d.hasOwnProperty(a)&&c[a]===d[a]||!c.hasOwnProperty(a)&&!d.hasOwnProperty(a)))}function n(a){t.getPlaybackSession().setAsset(a),q=a,t.notifyPlay()}function o(a){var b=a||{};b.ns_st_ad="1",b.ns_st_an=++r+"",t.getPlaybackSession().setAsset(b),t.notifyPlay(),s=!1}function p(a,b){v==u.None&&(v=b),s&&v==b&&l(a)?(t.getPlaybackSession().getAsset().setLabels(a),t.getState()!=g.PLAYING&&t.notifyPlay()):n(a),s=!0,v=b}var q=null,r=0,s=!1,t=null,u={None:0,AudioContent:1,VideoContent:2},v=u.None,w=new c("TTSTA",(a||{}).debug);b.extend(this,{playVideoAdvertisement:function(a,c){if(t){w.apiCall("playVideoAdvertisement",a,c);var d={ns_st_ct:"va"};c?d.ns_st_ct="va"+c:w.warn("Calling 'playVideoAdvertisement' without specifying the media type as a second parameter."),c!=e.LinearLive&&c!=e.BrandedOnDemandLive||(d.ns_st_li="1"),a&&b.extend(d,a),o(d)}},playAudioAdvertisement:function(a,c){if(t){w.apiCall("playAudioAdvertisement",a,c);var d={ns_st_ct:"aa"};c?d.ns_st_ct="aa"+c:w.warn("Calling 'playAudioAdvertisement' without specifying the media type as a second parameter."),c!=e.LinearLive&&c!=e.BrandedOnDemandLive||(d.ns_st_li="1"),a&&b.extend(d,a),o(d)}},playVideoContentPart:function(a,c){if(t){w.apiCall("playVideoContentPart",a,c);var e={ns_st_ct:"vc"};c?e.ns_st_ct="vc"+c:w.warn("Calling 'playVideoContentPart' without specifying the media type as a second parameter."),c!=d.Live&&c!=d.UserGeneratedLive||(e.ns_st_li="1"),a&&b.extend(e,a),p(e,u.VideoContent)}},playAudioContentPart:function(a,c){if(t){w.apiCall("playAudioContentPart",a,c);var e={ns_st_ct:"ac"};c?e.ns_st_ct="ac"+c:w.warn("Calling 'playAudioContentPart' without specifying the media type as a second parameter."),c!=d.Live&&c!=d.UserGeneratedLive||(e.ns_st_li="1"),a&&b.extend(e,a),p(e,u.AudioContent)}},stop:function(){t&&(w.apiCall("stop"),t.notifyPause())}}),k()};return k.ContentType=d,k.AdType=e,k}()}(ns_),ns_.comScore=ns_.comScore||function(){var a=a||{};a.indexOf=function(a,b){var c=-1;return this.forEach(b,function(b,d){b==a&&(c=d)}),c},a.forEach=function(a,b,c){try{if("function"==typeof b)if(c="undefined"!=typeof c?c:null,"number"!=typeof a.length||"undefined"==typeof a[0]){var d="undefined"!=typeof a.__proto__;for(var e in a)a.hasOwnProperty(e)&&(!d||d&&"undefined"==typeof a.__proto__[e])&&"function"!=typeof a[e]&&b.call(c,a[e],e)}else for(var f=0,g=a.length;f<g;f++)b.call(c,a[f],f)}catch(h){}};var a=a||{};a.parseBoolean=function(a,b){return b=b||!1,a?"0"!=a:b},a.parseInteger=function(a,b){return null==a||isNaN(a)?b||0:parseInt(a)},a.parseLong=function(a,b){var c=Number(a);return null==a||isNaN(c)?b||0:c},a.toString=function(a){if("undefined"==typeof a)return"undefined";if("string"==typeof a)return a;if(a instanceof Array)return a.join(",");var b="";for(var c in a)a.hasOwnProperty(c)&&(b+=c+":"+a[c]+";");return b||a.toString()};var a=a||{};a.filter=function(a,b){var c={};for(var d in b)b.hasOwnProperty(d)&&a(b[d])&&(c[d]=b[d]);return c},a.extend=function(a){var b,c=arguments.length;a=a||{};for(var d=1;d<c;d++)if(b=arguments[d])for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);return a};var a=a||{};a.cloneObject=function(a){if(null==a||"object"!=typeof a)return a;var b=function(){function a(){}function b(b){return"object"==typeof b?(a.prototype=b,new a):b}function c(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b])}function d(){this.copiedObjects=[];var a=this;this.recursiveDeepCopy=function(b){return a.deepCopy(b)},this.depth=0}function e(a,b){var c=new d;return b&&(c.maxDepth=b),c.deepCopy(a)}function f(a){return"undefined"!=typeof window&&window&&window.Node?a instanceof Node:"undefined"!=typeof document&&a===document||"number"==typeof a.nodeType&&a.attributes&&a.childNodes&&a.cloneNode}var g=[];return c.prototype={constructor:c,canCopy:function(){return!1},create:function(a){},populate:function(a,b,c){}},d.prototype={constructor:d,maxDepth:256,cacheResult:function(a,b){this.copiedObjects.push([a,b])},getCachedResult:function(a){for(var b=this.copiedObjects,c=b.length,d=0;d<c;d++)if(b[d][0]===a)return b[d][1]},deepCopy:function(a){if(null===a)return null;if("object"!=typeof a)return a;var b=this.getCachedResult(a);if(b)return b;for(var c=0;c<g.length;c++){var d=g[c];if(d.canCopy(a))return this.applyDeepCopier(d,a)}throw new Error("Unable to clone the following object "+a)},applyDeepCopier:function(a,b){var c=a.create(b);if(this.cacheResult(b,c),this.depth++,this.depth>this.maxDepth)throw new Error("Maximum recursion depth exceeded.");return a.populate(this.recursiveDeepCopy,b,c),this.depth--,c}},e.DeepCopier=c,e.deepCopiers=g,e.register=function(a){a instanceof c||(a=new c(a)),g.unshift(a)},e.register({canCopy:function(){return!0},create:function(a){return a instanceof a.constructor?b(a.constructor.prototype):{}},populate:function(a,b,c){for(var d in b)b.hasOwnProperty(d)&&(c[d]=a(b[d]));return c}}),e.register({canCopy:function(a){return a instanceof Array},create:function(a){return new a.constructor},populate:function(a,b,c){for(var d=0;d<b.length;d++)c.push(a(b[d]));return c}}),e.register({canCopy:function(a){return a instanceof Date},create:function(a){return new Date(a)}}),e.register({canCopy:function(a){return f(a)},create:function(a){return"undefined"!=typeof document&&a===document?document:a.cloneNode(!1)},populate:function(a,b,c){if("undefined"!=typeof document&&b===document)return document;if(b.childNodes&&b.childNodes.length)for(var d=0;d<b.childNodes.length;d++){var e=a(b.childNodes[d]);c.appendChild(e)}}}),{deepCopy:e}}();return b.deepCopy(a)};var a=a||{};a.getNamespace=function(){return ns_.ns_||ns_},a.uid=function(){var a=1;return function(){return+new Date+"_"+a++}}(),a.isEmpty=function(a){return void 0===a||null===a||""===a||a instanceof Array&&0===a.length},a.isNotEmpty=function(a){return!this.isEmpty(a)},a.safeGet=function(a,b){return b=this.exists(b)?b:"",this.exists(a)?a:b},a.isTrue=function(a){return"undefined"!=typeof a&&("string"==typeof a?(a=a.toLowerCase(),"true"===a||"1"===a||"on"===a):!!a)},a.regionMatches=function(a,b,c,d,e){if(b<0||d<0||b+e>a.length||d+e>c.length)return!1;for(;--e>=0;){var f=a.charAt(b++),g=c.charAt(d++);if(f!=g)return!1}return!0},a.exists=function(a){return"undefined"!=typeof a&&null!=a},!function(){var b=[],c=!1,d=!0,e=1e3;a.onSystemClockJump=function(a,f){b.push(a),c||(c=!0,e=f||e,d=+new Date,setInterval(function(){var a=d+e,c=+new Date;d=c;var f=c-a;if(Math.abs(f)>e)for(var g=0;g<b.length;++g)b[g](f>0)},e))}}();var a=a||{};a.hasPageVisibilityAPISupport=function(){if("undefined"==typeof document)return!1;var a=!1;return"undefined"!=typeof document.hidden?a=!0:"undefined"!=typeof document.mozHidden?a=!0:"undefined"!=typeof document.msHidden?a=!0:"undefined"!=typeof document.webkitHidden&&(a=!0),function(){return a}}(),a.getPageVisibilityAPI=function(){if("undefined"==typeof document)return null;var a,b,c;"undefined"!=typeof document.hidden?(a="hidden",b="visibilitychange",c="visibilityState"):"undefined"!=typeof document.mozHidden?(a="mozHidden",b="mozvisibilitychange",c="mozVisibilityState"):"undefined"!=typeof document.msHidden?(a="msHidden",b="msvisibilitychange",c="msVisibilityState"):"undefined"!=typeof document.webkitHidden&&(a="webkitHidden",b="webkitvisibilitychange",c="webkitVisibilityState");var d={hidden:a,visibilityChange:b,state:c};return function(){return d}}(),a.isTabInBackground=function(){if("undefined"==typeof document)return null;var b=a.getPageVisibilityAPI();return function(){return document[b.hidden]}}(),a.getBrowserName=function(){if(!navigator)return"";var a,b,c=navigator.userAgent||"",d=navigator.appName||"";return(b=c.indexOf("Opera"))!=-1||(b=c.indexOf("OPR/"))!=-1?d="Opera":(b=c.indexOf("Android"))!=-1?d="Android":(b=c.indexOf("Chrome"))!=-1?d="Chrome":(b=c.indexOf("Safari"))!=-1?d="Safari":(b=c.indexOf("Firefox"))!=-1?d="Firefox":(b=c.indexOf("IEMobile"))!=-1?d="Internet Explorer Mobile":"Microsoft Internet Explorer"==d||"Netscape"==d?d="Internet Explorer":(a=c.lastIndexOf(" ")+1)<(b=c.lastIndexOf("/"))?(d=c.substring(a,b),d.toLowerCase()==d.toUpperCase()&&(d=navigator.appName)):d="unknown",d},a.getBrowserFullVersion=function(){if(!navigator)return"";var a,b,c,d,e=navigator.userAgent||"",f=navigator.appName||"",g=navigator.appVersion?""+parseFloat(navigator.appVersion):"";return(b=e.indexOf("Opera"))!=-1?(g=e.substring(b+6),(b=e.indexOf("Version"))!=-1&&(g=e.substring(b+8))):(b=e.indexOf("OPR/"))!=-1?g=e.substring(b+4):(b=e.indexOf("Android"))!=-1?g=e.substring(b+11):(b=e.indexOf("Chrome"))!=-1?g=e.substring(b+7):(b=e.indexOf("Safari"))!=-1?(g=e.substring(b+7),(b=e.indexOf("Version"))!=-1&&(g=e.substring(b+8))):(b=e.indexOf("Firefox"))!=-1?g=e.substring(b+8):"Microsoft Internet Explorer"==f?(d=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"),null!=d.exec(e)&&(g=parseFloat(RegExp.$1))):"Netscape"==f?(d=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),null!=d.exec(e)&&(g=parseFloat(RegExp.$1))):g=e.lastIndexOf(" ")+1<(b=e.lastIndexOf("/"))?e.substring(b+1):"unknown",g=g.toString(),(c=g.indexOf(";"))!=-1&&(g=g.substring(0,c)),(c=g.indexOf(" "))!=-1&&(g=g.substring(0,c)),(c=g.indexOf(")"))!=-1&&(g=g.substring(0,c)),a=parseInt(""+g,10),isNaN(a)&&(g=""+parseFloat(navigator.appVersion)),g},a.browserAcceptsLargeURLs=function(){return"undefined"==typeof window||(null!==window.ActiveXObject,!0)},a.isBrowser=function(){return"undefined"!=typeof window&&"undefined"!=typeof document},a.isWebSecure=function(){return"undefined"!=typeof document&&null!=document&&"s"===document.location.href.charAt(4)};var b="1.1.5",c={UNKNOWN_VALUE:"unknown",UNKNOWN_RESOLUTION:"0x0"};a.md5=function(){function a(a,b){var g=a[0],h=a[1],i=a[2],j=a[3];g=c(g,h,i,j,b[0],7,-680876936),j=c(j,g,h,i,b[1],12,-389564586),i=c(i,j,g,h,b[2],17,606105819),h=c(h,i,j,g,b[3],22,-1044525330),g=c(g,h,i,j,b[4],7,-176418897),j=c(j,g,h,i,b[5],12,1200080426),i=c(i,j,g,h,b[6],17,-1473231341),h=c(h,i,j,g,b[7],22,-45705983),g=c(g,h,i,j,b[8],7,1770035416),j=c(j,g,h,i,b[9],12,-1958414417),i=c(i,j,g,h,b[10],17,-42063),h=c(h,i,j,g,b[11],22,-1990404162),g=c(g,h,i,j,b[12],7,1804603682),j=c(j,g,h,i,b[13],12,-40341101),i=c(i,j,g,h,b[14],17,-1502002290),h=c(h,i,j,g,b[15],22,1236535329),g=d(g,h,i,j,b[1],5,-165796510),j=d(j,g,h,i,b[6],9,-1069501632),i=d(i,j,g,h,b[11],14,643717713),h=d(h,i,j,g,b[0],20,-373897302),g=d(g,h,i,j,b[5],5,-701558691),j=d(j,g,h,i,b[10],9,38016083),i=d(i,j,g,h,b[15],14,-660478335),h=d(h,i,j,g,b[4],20,-405537848),g=d(g,h,i,j,b[9],5,568446438),j=d(j,g,h,i,b[14],9,-1019803690),i=d(i,j,g,h,b[3],14,-187363961),h=d(h,i,j,g,b[8],20,1163531501),g=d(g,h,i,j,b[13],5,-1444681467),j=d(j,g,h,i,b[2],9,-51403784),i=d(i,j,g,h,b[7],14,1735328473),h=d(h,i,j,g,b[12],20,-1926607734),g=e(g,h,i,j,b[5],4,-378558),j=e(j,g,h,i,b[8],11,-2022574463),i=e(i,j,g,h,b[11],16,1839030562),h=e(h,i,j,g,b[14],23,-35309556),g=e(g,h,i,j,b[1],4,-1530992060),j=e(j,g,h,i,b[4],11,1272893353),i=e(i,j,g,h,b[7],16,-155497632),h=e(h,i,j,g,b[10],23,-1094730640),g=e(g,h,i,j,b[13],4,681279174),j=e(j,g,h,i,b[0],11,-358537222),i=e(i,j,g,h,b[3],16,-722521979),h=e(h,i,j,g,b[6],23,76029189),g=e(g,h,i,j,b[9],4,-640364487),j=e(j,g,h,i,b[12],11,-421815835),i=e(i,j,g,h,b[15],16,530742520),h=e(h,i,j,g,b[2],23,-995338651),g=f(g,h,i,j,b[0],6,-198630844),j=f(j,g,h,i,b[7],10,1126891415),i=f(i,j,g,h,b[14],15,-1416354905),h=f(h,i,j,g,b[5],21,-57434055),g=f(g,h,i,j,b[12],6,1700485571),j=f(j,g,h,i,b[3],10,-1894986606),i=f(i,j,g,h,b[10],15,-1051523),h=f(h,i,j,g,b[1],21,-2054922799),g=f(g,h,i,j,b[8],6,1873313359),j=f(j,g,h,i,b[15],10,-30611744),i=f(i,j,g,h,b[6],15,-1560198380),h=f(h,i,j,g,b[13],21,1309151649),g=f(g,h,i,j,b[4],6,-145523070),j=f(j,g,h,i,b[11],10,-1120210379),i=f(i,j,g,h,b[2],15,718787259),h=f(h,i,j,g,b[9],21,-343485551),a[0]=l(g,a[0]),a[1]=l(h,a[1]),a[2]=l(i,a[2]),a[3]=l(j,a[3])}function b(a,b,c,d,e,f){return b=l(l(b,a),l(d,f)),l(b<<e|b>>>32-e,c)}function c(a,c,d,e,f,g,h){return b(c&d|~c&e,a,c,f,g,h)}function d(a,c,d,e,f,g,h){return b(c&e|d&~e,a,c,f,g,h)}function e(a,c,d,e,f,g,h){return b(c^d^e,a,c,f,g,h)}function f(a,c,d,e,f,g,h){return b(d^(c|~e),a,c,f,g,h)}function g(b){var c,d=b.length,e=[1732584193,-271733879,-1732584194,271733878];for(c=64;c<=b.length;c+=64)a(e,h(b.substring(c-64,c)));b=b.substring(c-64);var f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(c=0;c<b.length;c++)f[c>>2]|=b.charCodeAt(c)<<(c%4<<3);if(f[c>>2]|=128<<(c%4<<3),c>55)for(a(e,f),c=0;c<16;c++)f[c]=0;return f[14]=8*d,a(e,f),e}function h(a){var b,c=[];for(b=0;b<64;b+=4)c[b>>2]=a.charCodeAt(b)+(a.charCodeAt(b+1)<<8)+(a.charCodeAt(b+2)<<16)+(a.charCodeAt(b+3)<<24);return c}function i(a){for(var b="",c=0;c<4;c++)b+=m[a>>8*c+4&15]+m[a>>8*c&15];return b}function j(a){for(var b=0;b<a.length;b++)a[b]=i(a[b]);return a.join("")}function k(a){return j(g(a))}function l(a,b){return a+b&4294967295}function l(a,b){var c=(65535&a)+(65535&b),d=(a>>16)+(b>>16)+(c>>16);return d<<16|65535&c}var m="0123456789abcdef".split("");return"5d41402abc4b2a76b9719d911017c592"!=k("hello"),k}(),a.encrypt=function(){function a(a,b,c){null!=a&&("number"==typeof a?this.fromNumber(a,b,c):null==b&&"string"!=typeof a?this.fromString(a,256):this.fromString(a,b))}function b(){return new a(null)}function c(a){return Cb.charAt(a)}function d(a,b){var c=Db[a.charCodeAt(b)];return null==c?-1:c}function e(a){for(var b=this.t-1;b>=0;--b)a[b]=this[b];a.t=this.t,a.s=this.s}function f(a){this.t=1,this.s=a<0?-1:0,a>0?this[0]=a:a<-1?this[0]=a+DV:this.t=0}function g(a){var c=b();return c.fromInt(a),c}function h(b,c){var e;if(16==c)e=4;else if(8==c)e=3;else if(256==c)e=8;else if(2==c)e=1;else if(32==c)e=5;else{if(4!=c)return void this.fromRadix(b,c);e=2}this.t=0,this.s=0;for(var f=b.length,g=!1,h=0;--f>=0;){var i=8==e?255&b[f]:d(b,f);i<0?"-"==b.charAt(f)&&(g=!0):(g=!1,0==h?this[this.t++]=i:h+e>this.DB?(this[this.t-1]|=(i&(1<<this.DB-h)-1)<<h,this[this.t++]=i>>this.DB-h):this[this.t-1]|=i<<h,h+=e,h>=this.DB&&(h-=this.DB))}8==e&&0!=(128&b[0])&&(this.s=-1,h>0&&(this[this.t-1]|=(1<<this.DB-h)-1<<h)),this.clamp(),g&&a.ZERO.subTo(this,this)}function i(){for(var a=this.s&this.DM;this.t>0&&this[this.t-1]==a;)--this.t}function j(a){if(this.s<0)return"-"+this.negate().toString(a);var b;if(16==a)b=4;else if(8==a)b=3;else if(2==a)b=1;else if(32==a)b=5;else{if(4!=a)return this.toRadix(a);b=2}var d,e=(1<<b)-1,f=!1,g="",h=this.t,i=this.DB-h*this.DB%b;if(h-- >0)for(i<this.DB&&(d=this[h]>>i)>0&&(f=!0,g=c(d));h>=0;)i<b?(d=(this[h]&(1<<i)-1)<<b-i,d|=this[--h]>>(i+=this.DB-b)):(d=this[h]>>(i-=b)&e,i<=0&&(i+=this.DB,--h)),d>0&&(f=!0),f&&(g+=c(d));return f?g:"0"}function k(){var c=b();return a.ZERO.subTo(this,c),c}function m(){return this.s<0?this.negate():this}function n(a){var b=this.s-a.s;if(0!=b)return b;var c=this.t;if(b=c-a.t,0!=b)return this.s<0?-b:b;for(;--c>=0;)if(0!=(b=this[c]-a[c]))return b;return 0}function o(a){var b,c=1;return 0!=(b=a>>>16)&&(a=b,c+=16),0!=(b=a>>8)&&(a=b,c+=8),0!=(b=a>>4)&&(a=b,c+=4),0!=(b=a>>2)&&(a=b,c+=2),0!=(b=a>>1)&&(a=b,c+=1),c}function p(){return this.t<=0?0:this.DB*(this.t-1)+o(this[this.t-1]^this.s&this.DM)}function q(a,b){var c;for(c=this.t-1;c>=0;--c)b[c+a]=this[c];for(c=a-1;c>=0;--c)b[c]=0;b.t=this.t+a,b.s=this.s}function r(a,b){for(var c=a;c<this.t;++c)b[c-a]=this[c];b.t=Math.max(this.t-a,0),b.s=this.s}function s(a,b){var c,d=a%this.DB,e=this.DB-d,f=(1<<e)-1,g=Math.floor(a/this.DB),h=this.s<<d&this.DM;for(c=this.t-1;c>=0;--c)b[c+g+1]=this[c]>>e|h,h=(this[c]&f)<<d;for(c=g-1;c>=0;--c)b[c]=0;b[g]=h,b.t=this.t+g+1,b.s=this.s,b.clamp()}function t(a,b){b.s=this.s;var c=Math.floor(a/this.DB);if(c>=this.t)return void(b.t=0);var d=a%this.DB,e=this.DB-d,f=(1<<d)-1;b[0]=this[c]>>d;for(var g=c+1;g<this.t;++g)b[g-c-1]|=(this[g]&f)<<e,b[g-c]=this[g]>>d;d>0&&(b[this.t-c-1]|=(this.s&f)<<e),b.t=this.t-c,b.clamp()}function u(a,b){for(var c=0,d=0,e=Math.min(a.t,this.t);c<e;)d+=this[c]-a[c],b[c++]=d&this.DM,d>>=this.DB;if(a.t<this.t){for(d-=a.s;c<this.t;)d+=this[c],b[c++]=d&this.DM,d>>=this.DB;d+=this.s}else{for(d+=this.s;c<a.t;)d-=a[c],b[c++]=d&this.DM,d>>=this.DB;d-=a.s}b.s=d<0?-1:0,d<-1?b[c++]=this.DV+d:d>0&&(b[c++]=d),b.t=c,b.clamp()}function v(b,c){var d=this.abs(),e=b.abs(),f=d.t;for(c.t=f+e.t;--f>=0;)c[f]=0;for(f=0;f<e.t;++f)c[f+d.t]=d.am(0,e[f],c,f,0,d.t);c.s=0,c.clamp(),this.s!=b.s&&a.ZERO.subTo(c,c)}function w(a){for(var b=this.abs(),c=a.t=2*b.t;--c>=0;)a[c]=0;for(c=0;c<b.t-1;++c){var d=b.am(c,b[c],a,2*c,0,1);(a[c+b.t]+=b.am(c+1,2*b[c],a,2*c+1,d,b.t-c-1))>=b.DV&&(a[c+b.t]-=b.DV,a[c+b.t+1]=1)}a.t>0&&(a[a.t-1]+=b.am(c,b[c],a,2*c,0,1)),a.s=0,a.clamp()}function x(c,d,e){var f=c.abs();if(!(f.t<=0)){var g=this.abs();if(g.t<f.t)return null!=d&&d.fromInt(0),void(null!=e&&this.copyTo(e));null==e&&(e=b());var h=b(),i=this.s,j=c.s,k=this.DB-o(f[f.t-1]);k>0?(f.lShiftTo(k,h),g.lShiftTo(k,e)):(f.copyTo(h),g.copyTo(e));var l=h.t,m=h[l-1];if(0!=m){var n=m*(1<<this.F1)+(l>1?h[l-2]>>this.F2:0),p=this.FV/n,q=(1<<this.F1)/n,r=1<<this.F2,s=e.t,t=s-l,u=null==d?b():d;for(h.dlShiftTo(t,u),e.compareTo(u)>=0&&(e[e.t++]=1,e.subTo(u,e)),a.ONE.dlShiftTo(l,u),u.subTo(h,h);h.t<l;)h[h.t++]=0;for(;--t>=0;){var v=e[--s]==m?this.DM:Math.floor(e[s]*p+(e[s-1]+r)*q);if((e[s]+=h.am(0,v,e,t,0,l))<v)for(h.dlShiftTo(t,u),e.subTo(u,e);e[s]<--v;)e.subTo(u,e)}null!=d&&(e.drShiftTo(l,d),i!=j&&a.ZERO.subTo(d,d)),e.t=l,e.clamp(),k>0&&e.rShiftTo(k,e),i<0&&a.ZERO.subTo(e,e)}}}function y(c){var d=b();return this.abs().divRemTo(c,null,d),this.s<0&&d.compareTo(a.ZERO)>0&&c.subTo(d,d),d}function z(a){this.m=a}function A(a){return a.s<0||a.compareTo(this.m)>=0?a.mod(this.m):a}function B(a){return a}function C(a){a.divRemTo(this.m,null,a)}function D(a,b,c){a.multiplyTo(b,c),this.reduce(c)}function E(a,b){a.squareTo(b),this.reduce(b)}function F(){if(this.t<1)return 0;var a=this[0];if(0==(1&a))return 0;var b=3&a;return b=b*(2-(15&a)*b)&15,b=b*(2-(255&a)*b)&255,b=b*(2-((65535&a)*b&65535))&65535,b=b*(2-a*b%this.DV)%this.DV,b>0?this.DV-b:-b}function G(a){this.m=a,this.mp=a.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<a.DB-15)-1,this.mt2=2*a.t}function H(c){var d=b();return c.abs().dlShiftTo(this.m.t,d),d.divRemTo(this.m,null,d),c.s<0&&d.compareTo(a.ZERO)>0&&this.m.subTo(d,d),d}function I(a){var c=b();return a.copyTo(c),this.reduce(c),c}function J(a){for(;a.t<=this.mt2;)a[a.t++]=0;for(var b=0;b<this.m.t;++b){var c=32767&a[b],d=c*this.mpl+((c*this.mph+(a[b]>>15)*this.mpl&this.um)<<15)&a.DM;for(c=b+this.m.t,a[c]+=this.m.am(0,d,a,b,0,this.m.t);a[c]>=a.DV;)a[c]-=a.DV,a[++c]++}a.clamp(),a.drShiftTo(this.m.t,a),a.compareTo(this.m)>=0&&a.subTo(this.m,a)}function K(a,b){a.squareTo(b),this.reduce(b)}function L(a,b,c){a.multiplyTo(b,c),this.reduce(c)}function M(){return 0==(this.t>0?1&this[0]:this.s)}function N(c,d){if(c>4294967295||c<1)return a.ONE;var e=b(),f=b(),g=d.convert(this),h=o(c)-1;for(g.copyTo(e);--h>=0;)if(d.sqrTo(e,f),(c&1<<h)>0)d.mulTo(f,g,e);else{var i=e;e=f,f=i}return d.revert(e)}function O(a,b){var c;return c=a<256||b.isEven()?new z(b):new G(b),this.exp(a,c)}function P(){var a=b();return this.copyTo(a),a}function Q(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function R(){return 0==this.t?this.s:this[0]<<24>>24}function S(){return 0==this.t?this.s:this[0]<<16>>16}function T(a){return Math.floor(Math.LN2*this.DB/Math.log(a))}function U(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function V(a){if(null==a&&(a=10),0==this.signum()||a<2||a>36)return"0";var c=this.chunkSize(a),d=Math.pow(a,c),e=g(d),f=b(),h=b(),i="";for(this.divRemTo(e,f,h);f.signum()>0;)i=(d+h.intValue()).toString(a).substr(1)+i,f.divRemTo(e,f,h);return h.intValue().toString(a)+i}function W(b,c){this.fromInt(0),null==c&&(c=10);for(var e=this.chunkSize(c),f=Math.pow(c,e),g=!1,h=0,i=0,j=0;j<b.length;++j){var k=d(b,j);k<0?"-"==b.charAt(j)&&0==this.signum()&&(g=!0):(i=c*i+k,++h>=e&&(this.dMultiply(f),this.dAddOffset(i,0),h=0,i=0))}h>0&&(this.dMultiply(Math.pow(c,h)),this.dAddOffset(i,0)),g&&a.ZERO.subTo(this,this)}function X(b,c,d){if("number"==typeof c)if(b<2)this.fromInt(1);else for(this.fromNumber(b,d),this.testBit(b-1)||this.bitwiseTo(a.ONE.shiftLeft(b-1),da,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(c);)this.dAddOffset(2,0),this.bitLength()>b&&this.subTo(a.ONE.shiftLeft(b-1),this);else{var e=[],f=7&b;e.length=(b>>3)+1,c.nextBytes(e),f>0?e[0]&=(1<<f)-1:e[0]=0,this.fromString(e,256)}}function Y(){var a=this.t,b=[];b[0]=this.s;var c,d=this.DB-a*this.DB%8,e=0;if(a-- >0)for(d<this.DB&&(c=this[a]>>d)!=(this.s&this.DM)>>d&&(b[e++]=c|this.s<<this.DB-d);a>=0;)d<8?(c=(this[a]&(1<<d)-1)<<8-d,c|=this[--a]>>(d+=this.DB-8)):(c=this[a]>>(d-=8)&255,d<=0&&(d+=this.DB,--a)),0!=(128&c)&&(c|=-256),0==e&&(128&this.s)!=(128&c)&&++e,(e>0||c!=this.s)&&(b[e++]=c);return b}function Z(a){return 0==this.compareTo(a)}function $(a){return this.compareTo(a)<0?this:a}function _(a){return this.compareTo(a)>0?this:a}function aa(a,b,c){var d,e,f=Math.min(a.t,this.t);for(d=0;d<f;++d)c[d]=b(this[d],a[d]);if(a.t<this.t){for(e=a.s&this.DM,d=f;d<this.t;++d)c[d]=b(this[d],e);c.t=this.t}else{for(e=this.s&this.DM,d=f;d<a.t;++d)c[d]=b(e,a[d]);c.t=a.t}c.s=b(this.s,a.s),c.clamp()}function ba(a,b){return a&b}function ca(a){var c=b();return this.bitwiseTo(a,ba,c),c}function da(a,b){return a|b}function ea(a){var c=b();return this.bitwiseTo(a,da,c),c}function fa(a,b){return a^b}function ga(a){var c=b();return this.bitwiseTo(a,fa,c),c}function ha(a,b){return a&~b}function ia(a){var c=b();return this.bitwiseTo(a,ha,c),c}function ja(){for(var a=b(),c=0;c<this.t;++c)a[c]=this.DM&~this[c];return a.t=this.t,a.s=~this.s,a}function ka(a){var c=b();return a<0?this.rShiftTo(-a,c):this.lShiftTo(a,c),c}function la(a){var c=b();return a<0?this.lShiftTo(-a,c):this.rShiftTo(a,c),c}function ma(a){if(0==a)return-1;var b=0;return 0==(65535&a)&&(a>>=16,b+=16),0==(255&a)&&(a>>=8,b+=8),0==(15&a)&&(a>>=4,b+=4),0==(3&a)&&(a>>=2,b+=2),0==(1&a)&&++b,b}function na(){for(var a=0;a<this.t;++a)if(0!=this[a])return a*this.DB+ma(this[a]);return this.s<0?this.t*this.DB:-1}function oa(a){for(var b=0;0!=a;)a&=a-1,++b;return b}function pa(){for(var a=0,b=this.s&this.DM,c=0;c<this.t;++c)a+=oa(this[c]^b);return a}function qa(a){var b=Math.floor(a/this.DB);return b>=this.t?0!=this.s:0!=(this[b]&1<<a%this.DB)}function ra(b,c){var d=a.ONE.shiftLeft(b);return this.bitwiseTo(d,c,d),d}function sa(a){return this.changeBit(a,da)}function ta(a){return this.changeBit(a,ha)}function ua(a){return this.changeBit(a,fa)}function va(a,b){for(var c=0,d=0,e=Math.min(a.t,this.t);c<e;)d+=this[c]+a[c],b[c++]=d&this.DM,d>>=this.DB;if(a.t<this.t){for(d+=a.s;c<this.t;)d+=this[c],b[c++]=d&this.DM,d>>=this.DB;d+=this.s}else{for(d+=this.s;c<a.t;)d+=a[c],b[c++]=d&this.DM,d>>=this.DB;d+=a.s}b.s=d<0?-1:0,d>0?b[c++]=d:d<-1&&(b[c++]=this.DV+d),b.t=c,b.clamp()}function wa(a){var c=b();return this.addTo(a,c),c}function xa(a){var c=b();return this.subTo(a,c),c}function ya(a){var c=b();return this.multiplyTo(a,c),c}function za(){var a=b();return this.squareTo(a),a}function Aa(a){var c=b();return this.divRemTo(a,c,null),c}function Ba(a){var c=b();return this.divRemTo(a,null,c),c}function Ca(a){var c=b(),d=b();return this.divRemTo(a,c,d),[c,d]}function Da(a){this[this.t]=this.am(0,a-1,this,0,0,this.t),++this.t,this.clamp()}function Ea(a,b){if(0!=a){for(;this.t<=b;)this[this.t++]=0;for(this[b]+=a;this[b]>=this.DV;)this[b]-=this.DV,++b>=this.t&&(this[this.t++]=0),++this[b]}}function Fa(){}function Ga(a){return a}function Ha(a,b,c){a.multiplyTo(b,c)}function Ia(a,b){a.squareTo(b)}function Ja(a){return this.exp(a,new Fa)}function Ka(a,b,c){var d=Math.min(this.t+a.t,b);for(c.s=0,c.t=d;d>0;)c[--d]=0;var e;for(e=c.t-this.t;d<e;++d)c[d+this.t]=this.am(0,a[d],c,d,0,this.t);for(e=Math.min(a.t,b);d<e;++d)this.am(0,a[d],c,d,0,b-d);c.clamp()}function La(a,b,c){--b;var d=c.t=this.t+a.t-b;for(c.s=0;--d>=0;)c[d]=0;for(d=Math.max(b-this.t,0);d<a.t;++d)c[this.t+d-b]=this.am(b-d,a[d],c,0,0,this.t+d-b);c.clamp(),c.drShiftTo(1,c)}function Ma(c){this.r2=b(),this.q3=b(),a.ONE.dlShiftTo(2*c.t,this.r2),this.mu=this.r2.divide(c),this.m=c}function Na(a){if(a.s<0||a.t>2*this.m.t)return a.mod(this.m);if(a.compareTo(this.m)<0)return a;var c=b();return a.copyTo(c),this.reduce(c),c}function Oa(a){return a}function Pa(a){for(a.drShiftTo(this.m.t-1,this.r2),a.t>this.m.t+1&&(a.t=this.m.t+1,a.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);a.compareTo(this.r2)<0;)a.dAddOffset(1,this.m.t+1);for(a.subTo(this.r2,a);a.compareTo(this.m)>=0;)a.subTo(this.m,a)}function Qa(a,b){a.squareTo(b),this.reduce(b)}function Ra(a,b,c){a.multiplyTo(b,c),
this.reduce(c)}function Sa(a,c){var d,e,f=a.bitLength(),h=g(1);if(f<=0)return h;d=f<18?1:f<48?3:f<144?4:f<768?5:6,e=f<8?new z(c):c.isEven()?new Ma(c):new G(c);var i=[],j=3,k=d-1,l=(1<<d)-1;if(i[1]=e.convert(this),d>1){var m=b();for(e.sqrTo(i[1],m);j<=l;)i[j]=b(),e.mulTo(m,i[j-2],i[j]),j+=2}var n,p,q=a.t-1,r=!0,s=b();for(f=o(a[q])-1;q>=0;){for(f>=k?n=a[q]>>f-k&l:(n=(a[q]&(1<<f+1)-1)<<k-f,q>0&&(n|=a[q-1]>>this.DB+f-k)),j=d;0==(1&n);)n>>=1,--j;if((f-=j)<0&&(f+=this.DB,--q),r)i[n].copyTo(h),r=!1;else{for(;j>1;)e.sqrTo(h,s),e.sqrTo(s,h),j-=2;j>0?e.sqrTo(h,s):(p=h,h=s,s=p),e.mulTo(s,i[n],h)}for(;q>=0&&0==(a[q]&1<<f);)e.sqrTo(h,s),p=h,h=s,s=p,--f<0&&(f=this.DB-1,--q)}return e.revert(h)}function Ta(a){var b=this.s<0?this.negate():this.clone(),c=a.s<0?a.negate():a.clone();if(b.compareTo(c)<0){var d=b;b=c,c=d}var e=b.getLowestSetBit(),f=c.getLowestSetBit();if(f<0)return b;for(e<f&&(f=e),f>0&&(b.rShiftTo(f,b),c.rShiftTo(f,c));b.signum()>0;)(e=b.getLowestSetBit())>0&&b.rShiftTo(e,b),(e=c.getLowestSetBit())>0&&c.rShiftTo(e,c),b.compareTo(c)>=0?(b.subTo(c,b),b.rShiftTo(1,b)):(c.subTo(b,c),c.rShiftTo(1,c));return f>0&&c.lShiftTo(f,c),c}function Ua(a){if(a<=0)return 0;var b=this.DV%a,c=this.s<0?a-1:0;if(this.t>0)if(0==b)c=this[0]%a;else for(var d=this.t-1;d>=0;--d)c=(b*c+this[d])%a;return c}function Va(b){var c=b.isEven();if(this.isEven()&&c||0==b.signum())return a.ZERO;for(var d=b.clone(),e=this.clone(),f=g(1),h=g(0),i=g(0),j=g(1);0!=d.signum();){for(;d.isEven();)d.rShiftTo(1,d),c?(f.isEven()&&h.isEven()||(f.addTo(this,f),h.subTo(b,h)),f.rShiftTo(1,f)):h.isEven()||h.subTo(b,h),h.rShiftTo(1,h);for(;e.isEven();)e.rShiftTo(1,e),c?(i.isEven()&&j.isEven()||(i.addTo(this,i),j.subTo(b,j)),i.rShiftTo(1,i)):j.isEven()||j.subTo(b,j),j.rShiftTo(1,j);d.compareTo(e)>=0?(d.subTo(e,d),c&&f.subTo(i,f),h.subTo(j,h)):(e.subTo(d,e),c&&i.subTo(f,i),j.subTo(h,j))}return 0!=e.compareTo(a.ONE)?a.ZERO:j.compareTo(b)>=0?j.subtract(b):j.signum()<0?(j.addTo(b,j),j.signum()<0?j.add(b):j):j}function Wa(a){var b,c=this.abs();if(1==c.t&&c[0]<=Eb[Eb.length-1]){for(b=0;b<Eb.length;++b)if(c[0]==Eb[b])return!0;return!1}if(c.isEven())return!1;for(b=1;b<Eb.length;){for(var d=Eb[b],e=b+1;e<Eb.length&&d<Fb;)d*=Eb[e++];for(d=c.modInt(d);b<e;)if(d%Eb[b++]==0)return!1}return c.millerRabin(a)}function Xa(c){var d=this.subtract(a.ONE),e=d.getLowestSetBit();if(e<=0)return!1;var f=d.shiftRight(e);c=c+1>>1,c>Eb.length&&(c=Eb.length);for(var g=b(),h=0;h<c;++h){g.fromInt(Eb[Math.floor(Math.random()*Eb.length)]);var i=g.modPow(f,this);if(0!=i.compareTo(a.ONE)&&0!=i.compareTo(d)){for(var j=1;j++<e&&0!=i.compareTo(d);)if(i=i.modPowInt(2,this),0==i.compareTo(a.ONE))return!1;if(0!=i.compareTo(d))return!1}}return!0}function Ya(){this.i=0,this.j=0,this.S=[]}function Za(a){var b,c,d;for(b=0;b<256;++b)this.S[b]=b;for(c=0,b=0;b<256;++b)c=c+this.S[b]+a[b%a.length]&255,d=this.S[b],this.S[b]=this.S[c],this.S[c]=d;this.i=0,this.j=0}function $a(){var a;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,a=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=a,this.S[a+this.S[this.i]&255]}function _a(){return new Ya}function ab(a){Hb[Ib++]^=255&a,Hb[Ib++]^=a>>8&255,Hb[Ib++]^=a>>16&255,Hb[Ib++]^=a>>24&255,Ib>=Jb&&(Ib-=Jb)}function bb(){ab((new Date).getTime())}function cb(){if(null==Gb){for(bb(),Gb=_a(),Gb.init(Hb),Ib=0;Ib<Hb.length;++Ib)Hb[Ib]=0;Ib=0}return Gb.next()}function db(a){var b;for(b=0;b<a.length;++b)a[b]=cb()}function eb(){}function fb(b,c){return new a(b,c)}function gb(b,c){if(c<b.length+11)return alert("Message too long for RSA"),null;for(var d=[],e=b.length-1;e>=0&&c>0;){var f=b.charCodeAt(e--);f<128?d[--c]=f:f>127&&f<2048?(d[--c]=63&f|128,d[--c]=f>>6|192):(d[--c]=63&f|128,d[--c]=f>>6&63|128,d[--c]=f>>12|224)}d[--c]=0;for(var g=new eb,h=[];c>2;){for(h[0]=0;0==h[0];)g.nextBytes(h);d[--c]=h[0]}return d[--c]=2,d[--c]=0,new a(d)}function hb(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function ib(a,b){null!=a&&null!=b&&a.length>0&&b.length>0?(this.n=fb(a,16),this.e=parseInt(b,16)):alert("Invalid RSA public key")}function jb(a){return a.modPowInt(this.e,this.n)}function kb(a){var b=gb(a,this.n.bitLength()+7>>3);if(null==b)return null;var c=this.doPublic(b);if(null==c)return null;var d=c.toString(16);return 0==(1&d.length)?d:"0"+d}function lb(a,b){for(var c=a.toByteArray(),d=0;d<c.length&&0==c[d];)++d;if(c.length-d!=b-1||2!=c[d])return null;for(++d;0!=c[d];)if(++d>=c.length)return null;for(var e="";++d<c.length;){var f=255&c[d];f<128?e+=String.fromCharCode(f):f>191&&f<224?(e+=String.fromCharCode((31&f)<<6|63&c[d+1]),++d):(e+=String.fromCharCode((15&f)<<12|(63&c[d+1])<<6|63&c[d+2]),d+=2)}return e}function mb(a,b,c){null!=a&&null!=b&&a.length>0&&b.length>0?(this.n=fb(a,16),this.e=parseInt(b,16),this.d=fb(c,16)):alert("Invalid RSA private key")}function nb(a,b,c,d,e,f,g,h){null!=a&&null!=b&&a.length>0&&b.length>0?(this.n=fb(a,16),this.e=parseInt(b,16),this.d=fb(c,16),this.p=fb(d,16),this.q=fb(e,16),this.dmp1=fb(f,16),this.dmq1=fb(g,16),this.coeff=fb(h,16)):alert("Invalid RSA private key")}function ob(b,c){var d=new eb,e=b>>1;this.e=parseInt(c,16);for(var f=new a(c,16);;){for(;this.p=new a(b-e,1,d),0!=this.p.subtract(a.ONE).gcd(f).compareTo(a.ONE)||!this.p.isProbablePrime(10););for(;this.q=new a(e,1,d),0!=this.q.subtract(a.ONE).gcd(f).compareTo(a.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var g=this.p;this.p=this.q,this.q=g}var h=this.p.subtract(a.ONE),i=this.q.subtract(a.ONE),j=h.multiply(i);if(0==j.gcd(f).compareTo(a.ONE)){this.n=this.p.multiply(this.q),this.d=f.modInverse(j),this.dmp1=this.d.mod(h),this.dmq1=this.d.mod(i),this.coeff=this.q.modInverse(this.p);break}}}function pb(a){if(null==this.p||null==this.q)return a.modPow(this.d,this.n);for(var b=a.mod(this.p).modPow(this.dmp1,this.p),c=a.mod(this.q).modPow(this.dmq1,this.q);b.compareTo(c)<0;)b=b.add(this.p);return b.subtract(c).multiply(this.coeff).mod(this.p).multiply(this.q).add(c)}function qb(a){var b=fb(a,16),c=this.doPrivate(b);return null==c?null:lb(c,this.n.bitLength()+7>>3)}function rb(a){var b,c,d="";for(b=0;b+3<=a.length;b+=3)c=parseInt(a.substring(b,b+3),16),d+=Lb.charAt(c>>6)+Lb.charAt(63&c);for(b+1==a.length?(c=parseInt(a.substring(b,b+1),16),d+=Lb.charAt(c<<2)):b+2==a.length&&(c=parseInt(a.substring(b,b+2),16),d+=Lb.charAt(c>>2)+Lb.charAt((3&c)<<4));(3&d.length)>0;)d+=Mb;return d}function sb(a){var b,d,e="",f=0;for(b=0;b<a.length&&a.charAt(b)!=Mb;++b){var g=Lb.indexOf(a.charAt(b));g<0||(0==f?(e+=c(g>>2),d=3&g,f=1):1==f?(e+=c(d<<2|g>>4),d=15&g,f=2):2==f?(e+=c(d),e+=c(g>>2),d=3&g,f=3):(e+=c(d<<2|g>>4),e+=c(15&g),f=0))}return 1==f&&(e+=c(d<<2)),e}var tb,ub="=",vb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",wb=function(a,b){var c=vb.indexOf(a.charAt(b));if(c===-1)throw new Error;return c},xb=function(a){a=""+a;var b,c,d,e=a.length;if(0===e)return a;if(e%4!==0)throw new Error;b=0,a.charAt(e-1)===ub&&(b=1,a.charAt(e-2)===ub&&(b=2),e-=4);var f=[];for(c=0;c<e;c+=4)d=wb(a,c)<<18|wb(a,c+1)<<12|wb(a,c+2)<<6|wb(a,c+3),f.push(String.fromCharCode(d>>16,d>>8&255,255&d));switch(b){case 1:d=wb(a,c)<<18|wb(a,c+1)<<12|wb(a,c+2)<<6,f.push(String.fromCharCode(d>>16,d>>8&255));break;case 2:d=wb(a,c)<<18|wb(a,c+1)<<12,f.push(String.fromCharCode(d>>16))}return f.join("")},yb=xb;a.prototype.am=function(a,b,c,d,e,f){for(var g=16383&b,h=b>>14;--f>=0;){var i=16383&this[a],j=this[a++]>>14,k=h*i+j*g;i=g*i+((16383&k)<<14)+c[d]+e,e=(i>>28)+(k>>14)+h*j,c[d++]=268435455&i}return e},tb=28,a.prototype.DB=tb,a.prototype.DM=(1<<tb)-1,a.prototype.DV=1<<tb;var zb=52;a.prototype.FV=Math.pow(2,zb),a.prototype.F1=zb-tb,a.prototype.F2=2*tb-zb;var Ab,Bb,Cb="0123456789abcdefghijklmnopqrstuvwxyz",Db=[];for(Ab="0".charCodeAt(0),Bb=0;Bb<=9;++Bb)Db[Ab++]=Bb;for(Ab="a".charCodeAt(0),Bb=10;Bb<36;++Bb)Db[Ab++]=Bb;for(Ab="A".charCodeAt(0),Bb=10;Bb<36;++Bb)Db[Ab++]=Bb;z.prototype.convert=A,z.prototype.revert=B,z.prototype.reduce=C,z.prototype.mulTo=D,z.prototype.sqrTo=E,G.prototype.convert=H,G.prototype.revert=I,G.prototype.reduce=J,G.prototype.mulTo=L,G.prototype.sqrTo=K,a.prototype.copyTo=e,a.prototype.fromInt=f,a.prototype.fromString=h,a.prototype.clamp=i,a.prototype.dlShiftTo=q,a.prototype.drShiftTo=r,a.prototype.lShiftTo=s,a.prototype.rShiftTo=t,a.prototype.subTo=u,a.prototype.multiplyTo=v,a.prototype.squareTo=w,a.prototype.divRemTo=x,a.prototype.invDigit=F,a.prototype.isEven=M,a.prototype.exp=N,a.prototype.toString=j,a.prototype.negate=k,a.prototype.abs=m,a.prototype.compareTo=n,a.prototype.bitLength=p,a.prototype.mod=y,a.prototype.modPowInt=O,a.ZERO=g(0),a.ONE=g(1),Fa.prototype.convert=Ga,Fa.prototype.revert=Ga,Fa.prototype.mulTo=Ha,Fa.prototype.sqrTo=Ia,Ma.prototype.convert=Na,Ma.prototype.revert=Oa,Ma.prototype.reduce=Pa,Ma.prototype.mulTo=Ra,Ma.prototype.sqrTo=Qa;var Eb=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],Fb=(1<<26)/Eb[Eb.length-1];a.prototype.chunkSize=T,a.prototype.toRadix=V,a.prototype.fromRadix=W,a.prototype.fromNumber=X,a.prototype.bitwiseTo=aa,a.prototype.changeBit=ra,a.prototype.addTo=va,a.prototype.dMultiply=Da,a.prototype.dAddOffset=Ea,a.prototype.multiplyLowerTo=Ka,a.prototype.multiplyUpperTo=La,a.prototype.modInt=Ua,a.prototype.millerRabin=Xa,a.prototype.clone=P,a.prototype.intValue=Q,a.prototype.byteValue=R,a.prototype.shortValue=S,a.prototype.signum=U,a.prototype.toByteArray=Y,a.prototype.equals=Z,a.prototype.min=$,a.prototype.max=_,a.prototype.and=ca,a.prototype.or=ea,a.prototype.xor=ga,a.prototype.andNot=ia,a.prototype.not=ja,a.prototype.shiftLeft=ka,a.prototype.shiftRight=la,a.prototype.getLowestSetBit=na,a.prototype.bitCount=pa,a.prototype.testBit=qa,a.prototype.setBit=sa,a.prototype.clearBit=ta,a.prototype.flipBit=ua,a.prototype.add=wa,a.prototype.subtract=xa,a.prototype.multiply=ya,a.prototype.divide=Aa,a.prototype.remainder=Ba,a.prototype.divideAndRemainder=Ca,a.prototype.modPow=Sa,a.prototype.modInverse=Va,a.prototype.pow=Ja,a.prototype.gcd=Ta,a.prototype.isProbablePrime=Wa,a.prototype.square=za,Ya.prototype.init=Za,Ya.prototype.next=$a;var Gb,Hb,Ib,Jb=256;if(null==Hb){Hb=[],Ib=0;for(var Kb;Ib<Jb;)Kb=Math.floor(65536*Math.random()),Hb[Ib++]=Kb>>>8,Hb[Ib++]=255&Kb;Ib=0,bb()}eb.prototype.nextBytes=db,hb.prototype.doPublic=jb,hb.prototype.setPublic=ib,hb.prototype.encrypt=kb,hb.prototype.doPrivate=pb,hb.prototype.setPrivate=mb,hb.prototype.setPrivateEx=nb,hb.prototype.generate=ob,hb.prototype.decrypt=qb;var Lb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Mb="=";hb.prototype.parseKey=function(a){a=this.prepareKey(a);var b=this.structure(),c=0,d=null,e=null,f=0;for(var g in b)b.hasOwnProperty(g)&&(d=b[g],d.hasOwnProperty("offset")&&(c+=2*d.offset),f="string"==typeof d.length?this[d.length]:d.length,f*=2,e=a.substr(c,f),d.hasOwnProperty("type")&&("int"==d.type?e=parseInt(e,16):"bigint"==d.type&&(e=fb(e,16))),c+=f,this[g]=e)},hb.prototype.char64ToHex=function(a){var b="";a=yb(a);for(var c=0;c<a.length;++c){var d=a.charCodeAt(c).toString(16);1===d.length&&(d="0"+d),b+=d}return b},hb.prototype.prepareKey=function(a){a=a.replace(/^\s+|\s+$/g,"");var b=a.split(/\r?\n/);return"-----BEGIN"==b[0].substring(0,10)&&(b=b.slice(1,b.length-1)),a=b.join(""),this.char64ToHex(a)},hb.prototype.getBaseKey=function(){var a="",b=this.structure(),c=null,d=null,e=0;for(var f in b)b.hasOwnProperty(f)&&(c=b[f],c.variable&&(d=this[f].toString(16),d.length%2&&(d="0"+d),c.hasOwnProperty("padded")&&c.padded&&(d="00"+d),e=d.length/2,e=e.toString(16),e.length%2&&(e="0"+e),c.hasOwnProperty("extraspace")&&(a+=e),a+=e,a+=d,a+="02"));return a.slice(0,-2)},hb.prototype.wordwrap=function(a,b){if(b=b||64,!a)return a;var c="(.{1,"+b+"})( +|$\n?)|(.{1,"+b+"})";return a.match(new RegExp(c,"g")).join("\n")},hb.prototype.getPrivateKey=function(){var a="-----BEGIN RSA PRIVATE KEY-----\n",b="3082025e02010002";return b+=this.getBaseKey(),a+=this.wordwrap(rb(b))+"\n",a+="-----END RSA PRIVATE KEY-----"},hb.prototype.getPublicKey=function(){var a="-----BEGIN PUBLIC KEY-----\n",b="30819f300d06092a864886f70d010101050003818d0030818902";return b+=this.getBaseKey(),a+=this.wordwrap(rb(b))+"\n",a+="-----END PUBLIC KEY-----"};var Nb=function(a){hb.call(this),a&&this.parseKey(a)};Nb.prototype=new hb,Nb.prototype.constructor=Nb,Nb.prototype.structure=function(){return{header:{length:4},versionlength:{length:1,offset:1,type:"int"},version:{length:"versionlength",type:"int"},n_length:{length:1,offset:2,type:"int"},n:{length:"n_length",type:"bigint",variable:!0,padded:!0,extraspace:!0},e_length:{length:1,offset:1,type:"int"},e:{length:"e_length",type:"int",variable:!0},d_length:{length:1,offset:2,type:"int"},d:{length:"d_length",type:"bigint",variable:!0,padded:!0,extraspace:!0},p_length:{length:1,offset:1,type:"int"},p:{length:"p_length",type:"bigint",variable:!0,padded:!0},q_length:{length:1,offset:1,type:"int"},q:{length:"q_length",type:"bigint",variable:!0,padded:!0},dmp1_length:{length:1,offset:1,type:"int"},dmp1:{length:"dmp1_length",type:"bigint",variable:!0},dmq1_length:{length:1,offset:1,type:"int"},dmq1:{length:"dmq1_length",type:"bigint",variable:!0,padded:!0},coeff_length:{length:1,offset:1,type:"int"},coeff:{length:"coeff_length",type:"bigint",variable:!0,padded:!0}}};var Ob=function(a){hb.call(this),a&&("string"==typeof a?this.parseKey(a):a.hasOwnProperty("n")&&a.hasOwnProperty("e")&&(this.n=a.n,this.e=a.e))};Ob.prototype=new hb,Ob.prototype.constructor=Ob,Ob.prototype.structure=function(){return{header:{length:25},n_length:{length:1,offset:2,type:"int"},n:{length:"n_length",type:"bigint",variable:!0,padded:!0,extraspace:!0},e_length:{length:1,offset:1,type:"int"},e:{length:"e_length",type:"int",variable:!0}}};var Pb=function(){this.privkey=null,this.pubkey=null};return Pb.prototype.setPrivateKey=function(a){this.privkey=new Nb(a),this.pubkey=new Ob(this.privkey)},Pb.prototype.setPublicKey=function(a){this.pubkey=new Ob(a)},Pb.prototype.decrypt=function(a){return!!this.privkey&&this.privkey.decrypt(sb(a))},Pb.prototype.encrypt=function(a){var b=this.pubkey||this.privkey;return!!b&&rb(b.encrypt(a))},Pb.prototype.getPrivateKey=function(){return this.privkey||(this.privkey=new Nb,this.privkey.generate(1024,"010001"),this.pubkey=new Ob(this.privkey)),this.privkey.getPrivateKey()},Pb.prototype.getPublicKey=function(){return this.pubkey||(this.pubkey=new Ob,this.pubkey.generate(1024,"010001")),this.pubkey.getPublicKey()},function(a){var b=new Pb;return b.setPublicKey(l.RSA_PUBLIC_KEY),b.encrypt(a)}}();var d=function(){var b="cs_";return function(){var c="undefined"!=typeof localStorage?localStorage:null;a.extend(this,{get:function(a){return c&&c.getItem(b+a)},set:function(a,d){c&&c.setItem(b+a,d)},has:function(a){return c&&c.getItem(b+a)},remove:function(a){c&&c.removeItem(b+a)},clear:function(){for(var a=0;c&&a<c.length;++a){var d=c.key(a);d.substr(0,b.length)===b&&c.removeItem(d)}}})}}(),e=function(a,b){if("undefined"==typeof Image)return void("function"==typeof setTimeout?b&&setTimeout(b,0):b&&b());var c=new Image;c.onload=function(){b&&b(200),c=null},c.onerror=function(){b&&b(),c=null},c.src=a},f=function(a,b,c){"function"==typeof setTimeout?c&&setTimeout(function(){c(200)},0):c&&c(200)},g=function(){return{dir:function(){return null},append:function(a,b,c){},write:function(a,b,c){},deleteFile:function(){return!1},read:function(){return null}}}(),h=function(){return{PLATFORM:"generic",httpGet:e,httpPost:f,Storage:d,IO:g,onDataFetch:function(a){a()},getCrossPublisherId:function(){return null},getAppName:function(){return c.UNKNOWN_VALUE},getAppVersion:function(){return c.UNKNOWN_VALUE},getVisitorId:function(){return+new Date+~~(1e3*Math.random())},getVisitorIdSuffix:function(){return"72"},getDeviceModel:function(){return c.UNKNOWN_VALUE},getPlatformVersion:function(){return c.UNKNOWN_VALUE},getPlatformName:function(){return"js"},getRuntimeName:function(){return c.UNKNOWN_VALUE},getRuntimeVersion:function(){return c.UNKNOWN_VALUE},getDisplayResolution:function(){return c.UNKNOWN_RESOLUTION},getApplicationResolution:function(){return c.UNKNOWN_RESOLUTION},getLanguage:function(){return c.UNKNOWN_VALUE},getPackageName:function(){return null},isConnectionAvailable:function(){return!0},isCompatible:function(){return!0},autoSelect:function(){},setPlatformAPI:function(){},isCrossPublisherIdChanged:function(){return!1},setTimeout:function(a,b){return setTimeout(a,b)},clearTimeout:function(a){return clearTimeout(a)},getDeviceArchitecture:function(){return c.UNKNOWN_VALUE},getConnectionType:function(){return c.UNKNOWN_VALUE},getDeviceJailBrokenFlag:function(){return c.UNKNOWN_VALUE},isConnectionSecure:function(){return!1},processMeasurementLabels:function(){}}}(),i=function(a,b){if("undefined"==typeof XMLHttpRequest)return void("function"==typeof setTimeout?b&&setTimeout(b,0):b&&b());var c=new XMLHttpRequest;c.open("GET",a,!0),c.onreadystatechange=function(){4===c.readyState&&(b&&b(c.status),c=null)},c.send()},j=function(a,b,c){if("undefined"==typeof XMLHttpRequest)return void("function"==typeof setTimeout?c&&setTimeout(c,0):c&&c());var d=new XMLHttpRequest;d.open("POST",a,!0),d.onreadystatechange=function(){4===d.readyState&&(c&&c(d.status),d=null)},d.send(b)},k=function(){function b(a){var b=i+a;l.setItem(b,""),m[b]=[]}function c(a,b){var c=i+a;l.setItem(c,l.getItem(c)+n+g(b)),m[c].push(b)}function d(b,c){var d=i+b,e=m[d];e.splice(a.indexOf(c,e),1);for(var f=[],h=0,k=e.length;h<k;h++)f.push(g(e[h]));l.setItem(d,f.join(n)),l.removeItem(j+b+c)}function e(a,b,c){l.setItem(j+a+b,c)}function f(a,b){return l.getItem(j+a+b)}var g="undefined"!=typeof encodeURIComponent?encodeURIComponent:escape,h="undefined"!=typeof decodeURIComponent?decodeURIComponent:unescape,i="cs_dir_",j="cs_file_",l="undefined"!=typeof localStorage?localStorage:null,m={},n="|",o=l&&g&&h;return{dir:function(a){if(!o)return null;var b=i+a,c=m[b];if(c)return c.slice();var d=l.getItem(b);if(d){d=d.split(n),c=[];for(var e=0,f=d.length;e<f;e++)d[e].length>0&&c.push(h(d[e]));return m[b]=c,c.slice()}return null},append:function(a,b,c){if(o){var d=k.read(a,b);d?d+=c:d=c,k.write(a,b,d)}},write:function(d,f,g){if(o){var h=k.dir(d);h||(b(d),h=[]),a.indexOf(f,h)==-1&&c(d,f),e(d,f,g)}},deleteFile:function(b,c){if(!o)return!1;var e=k.dir(b);return!!e&&(a.indexOf(c,e)!=-1&&(d(b,c),!0))},read:function(b,c){if(!o)return null;var d=k.dir(b);return d?a.indexOf(c,d)==-1?null:f(b,c):null}}}(),l={CORE_VERSION:"2.1705.04",LOG_ENABLED:!1,CACHE_FILENAME:"cs_cache_",KEEPALIVE_INTERVAL_MS:864e5,KEEPALIVE_INACCURACY_MS:1e3,KEEPALIVE_INTERVAL_MS_AFTER_FOREGROUND:3e3,CENSUS_URL:"http://b.scorecardresearch.com/p2?",CENSUS_URL_SECURE:"https://sb.scorecardresearch.com/p2?",SESSION_INACTIVE_PERIOD:18e5,USER_SESSION_INACTIVE_PERIOD:3e5,CACHE_DROPPED_MEASUREMENTS:"CACHE_DROPPED_MEASUREMENTS",CACHE_MAX_SIZE:2e3,CACHE_MAX_BATCH_SIZE:100,CACHE_MAX_FLUSHES_INAROW:10,CACHE_WAIT_MINUTES:30,CACHE_MIN_SECS_ONLINE:30,CACHE_EXPIRY_DAYS:31,CACHE_FLUSHING_INTERVAL:0,OFFLINE_RECEIVER_URL:"http://udm.scorecardresearch.com/offline",OFFLINE_RECEIVER_URL_SECURE:"https://udm.scorecardresearch.com/offline",EVENTS_LIMIT_PER_SECOND:20,EVENTS_LIMIT_PER_DAY:6e3,PAGE_NAME_LABEL:"name",GENERATED_ID_SUFFIX:"-cs72",ANDROID_ID_SUFFIX:"-cs32",SERIAL_NUMBER_SUFFIX:"-cs31",FLAG_INSTRUMENTED_ACTIVITY_IMPLEMENTED:"instrumented_activity",UNKNOWN_VALUE:"unknown",RSA_PUBLIC_KEY:"-----BEGIN PUBLIC KEY-----\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQD0+fCVxGq3Bk24jUKO1PzsiUs3\nvqww6zR4n2e3AweVLUAgsrDRbAWJ/EjZm1WBLBVNMiTLpSAkV6sjOIrUs03xdUEj\nQZJHwOGK+MfzFaZukoo0qAsEMPwQ5posv0JdkBdUGhKchPk6+NYmD6Hb44Lkp7/a\nQnVeWzvfAPQyTJR5wQIDAQAB\n-----END PUBLIC KEY-----",DEFAULT_AUTOUPDATE_INTERVAL_IN_SECONDS:60,MINIMAL_AUTOUPDATE_INTERVAL:6e4,RESTRICTED_URL_LENGTH_LIMIT:2048,URL_LENGTH_LIMIT:4096,EXIT_CODE_KEY:"exitCode",LAST_APPLICATION_ACCUMULATION_TIMESTAMP_KEY:"lastApplicationAccumulationTimestamp",LAST_SESSION_ACCUMULATION_TIMESTAMP_KEY:"lastSessionAccumulationTimestamp",LAST_APPLICATION_SESSION_TIMESTAMP_KEY:"lastApplicationSessionTimestamp",LAST_USER_SESSION_TIMESTAMP_KEY:"lastUserSessionTimestamp",LAST_ACTIVE_USER_SESSION_TIMESTAMP_KEY:"lastActiveUserSessionTimestamp",FOREGROUND_TRANSITION_COUNT_KEY:"foregroundTransitionsCount",TOTAL_FOREGROUND_TIME_KEY:"totalForegroundTime",TOTAL_BACKGROUND_TIME_KEY:"totalBackgroundTime",TOTAL_INACTIVE_TIME_KEY:"totalInactiveTime",ACCUMULATED_FOREGROUND_TIME_KEY:"accumulatedForegroundTime",ACCUMULATED_BACKGROUND_TIME_KEY:"accumulatedBackgroundTime",ACCUMULATED_INACTIVE_TIME_KEY:"accumulatedInactiveTime",ACCUMULATED_APPLICATION_SESSION_TIME_KEY:"accumulatedApplicationSessionTime",ACCUMULATED_ACTIVE_USER_SESSION_TIME_KEY:"accumulatedActiveUserSessionTime",ACCUMULATED_USER_SESSION_TIME_KEY:"accumulatedUserSessionTime",ACTIVE_USER_SESSION_COUNT_KEY:"activeUserSessionCount",LAST_USER_INTERACTION_TIMESTAMP_KEY:"lastUserInteractionTimestamp",USER_INTERACTION_COUNT_KEY:"userInteractionCount",USER_SESSION_COUNT_KEY:"userSessionCount",APPLICATION_SESSION_COUNT_KEY:"applicationSessionCountKey",GENESIS_KEY:"genesis",PREVIOUS_GENESIS_KEY:"previousGenesis",INSTALL_ID_KEY:"installId",FIRST_INSTALL_ID_KEY:"firstInstallId",CURRENT_VERSION_KEY:"currentVersion",PREVIOUS_VERSION_KEY:"previousVersion",RUNS_COUNT_KEY:"runs",COLD_START_COUNT_KEY:"coldStartCount",VID_KEY:"vid",CROSSPUBLISHER_ID_RSA:"crossPublisherId",CROSSPUBLISHER_ID_MD5:"crossPublisherIdHashed",LAST_TRANSMISSION_KEY:"lastTransmission",DEFAULT_START_PAGE_NAME:"start",DEFAULT_FOREGROUND_PAGE_NAME:"foreground",DEFAULT_BACKGROUND_PAGE_NAME:"background",NETWORK_TYPE_LABEL_NAME:"ns_radio",LABELS_ORDER:["c1","c2","ca2","cb2","cc2","cd2","ns_site","ca_ns_site","cb_ns_site","cc_ns_site","cd_ns_site","ns_vsite","ca_ns_vsite","cb_ns_vsite","cc_ns_vsite","cd_ns_vsite","ns_alias","ca_ns_alias","cb_ns_alias","cc_ns_alias","cd_ns_alias","ns_ap_an","ca_ns_ap_an","cb_ns_ap_an","cc_ns_ap_an","cd_ns_ap_an","ns_ap_pn","ns_ap_pv","c12","ca12","cb12","cc12","cd12","ns_ak","ns_ap_hw","name","ns_ap_ni","ns_ap_ec","ns_ap_ev","ns_ap_device","ns_ap_id","ns_ap_csf","ns_ap_bi","ns_ap_pfm","ns_ap_pfv","ns_ap_ver","ca_ns_ap_ver","cb_ns_ap_ver","cc_ns_ap_ver","cd_ns_ap_ver","ns_ap_sv","ns_ap_cv","ns_ap_smv","ns_type","ca_ns_type","cb_ns_type","cc_ns_type","cd_ns_type","ns_radio","ns_nc","cs_partner","cs_xcid","cs_impid","ns_ap_ui","ca_ns_ap_ui","cb_ns_ap_ui","cc_ns_ap_ui","cd_ns_ap_ui","ns_ap_gs","ns_ap_ie","ns_st_sv","ns_st_pv","ns_st_smv","ns_st_it","ns_st_id","ns_st_ec","ns_st_sp","ns_st_sc","ns_st_psq","ns_st_asq","ns_st_sq","ns_st_ppc","ns_st_apc","ns_st_spc","ns_st_cn","ns_st_ev","ns_st_po","ns_st_cl","ns_st_el","ns_st_sl","ns_st_pb","ns_st_hc","ns_st_mp","ca_ns_st_mp","cb_ns_st_mp","cc_ns_st_mp","cd_ns_st_mp","ns_st_mv","ca_ns_st_mv","cb_ns_st_mv","cc_ns_st_mv","cd_ns_st_mv","ns_st_pn","ns_st_tp","ns_st_ad","ns_st_li","ns_st_ci","ns_st_si","ns_st_pt","ns_st_dpt","ns_st_ipt","ns_st_ap","ns_st_dap","ns_st_et","ns_st_det","ns_st_upc","ns_st_dupc","ns_st_iupc","ns_st_upa","ns_st_dupa","ns_st_iupa","ns_st_lpc","ns_st_dlpc","ns_st_lpa","ns_st_dlpa","ns_st_pa","ns_st_ldw","ns_st_ldo","ns_st_ie","ns_ap_jb","ns_ap_et","ns_ap_res","ns_ap_sd","ns_ap_po","ns_ap_ot","ns_ap_c12m","cs_c12u","ca_cs_c12u","cb_cs_c12u","cc_cs_c12u","cd_cs_c12u","ns_ap_install","ns_ap_updated","ns_ap_lastrun","ns_ap_cs","ns_ap_runs","ns_ap_usage","ns_ap_fg","ns_ap_ft","ns_ap_dft","ns_ap_bt","ns_ap_dbt","ns_ap_dit","ns_ap_as","ns_ap_das","ns_ap_it","ns_ap_uc","ns_ap_aus","ns_ap_daus","ns_ap_us","ns_ap_dus","ns_ap_ut","ns_ap_oc","ns_ap_uxc","ns_ap_uxs","ns_ap_lang","ns_ap_ar","ns_ap_miss","ns_ts","ns_ap_cfg","ns_ap_env","ns_st_ca","ns_st_cp","ns_st_er","ca_ns_st_er","cb_ns_st_er","cc_ns_st_er","cd_ns_st_er","ns_st_pe","ns_st_ui","ca_ns_st_ui","cb_ns_st_ui","cc_ns_st_ui","cd_ns_st_ui","ns_st_bc","ns_st_dbc","ns_st_bt","ns_st_dbt","ns_st_bp","ns_st_lt","ns_st_skc","ns_st_dskc","ns_st_ska","ns_st_dska","ns_st_skd","ns_st_skt","ns_st_dskt","ns_st_pc","ns_st_dpc","ns_st_pp","ns_st_br","ns_st_pbr","ns_st_rt","ns_st_prt","ns_st_ub","ns_st_vo","ns_st_pvo","ns_st_ws","ns_st_pws","ns_st_ki","ns_st_rp","ns_st_bn","ns_st_tb","ns_st_an","ns_st_ta","ns_st_pl","ns_st_pr","ns_st_tpr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_tep","ns_st_sr","ns_st_ty","ns_st_ct","ns_st_cs","ns_st_ge","ns_st_st","ns_st_stc","ns_st_ce","ns_st_ia","ns_st_dt","ns_st_ddt","ns_st_tdt","ns_st_tm","ns_st_dtm","ns_st_ttm","ns_st_de","ns_st_pu","ns_st_ti","ns_st_cu","ns_st_fee","ns_st_ft","ns_st_at","ns_st_pat","ns_st_vt","ns_st_pvt","ns_st_tt","ns_st_ptt","ns_st_cdn","ns_st_pcdn","ns_st_ami","ns_st_amt","ns_st_ams","ns_ap_i1","ns_ap_i2","ns_ap_i3","ns_ap_i4","ns_ap_i5","ns_ap_i6","ns_ap_referrer","ns_clid","ns_campaign","ns_source","ns_mchannel","ns_linkname","ns_fee","gclid","utm_campaign","utm_source","utm_medium","utm_term","utm_content","ns_ecommerce","ns_ec_sv","ns_client_id","ns_order_id","ns_ec_cur","ns_orderline_id","ns_orderlines","ns_prod_id","ns_qty","ns_prod_price","ns_prod_grp","ns_brand","ns_shop","ns_category","category","ns_c","ns_search_term","ns_search_result","ns_m_exp","ns_m_chs","c3","ca3","cb3","cc3","cd3","c4","ca4","cb4","cc4","cd4","c5","ca5","cb5","cc5","cd5","c6","ca6","cb6","cc6","cd6","c10","c11","c13","c14","c15","c16","c7","c8","c9","ns_ap_er","ns_st_amc"]},m={START:"start",VIEW:"view",CLOSE:"close",AGGREGATE:"aggregate",HIDDEN:"hidden",KEEPALIVE:"keep-alive"},n={INACTIVE:0,BACKGROUND_UX_ACTIVE:1,FOREGROUND:2},o={INACTIVE:0,APPLICATION:1,USER:2,ACTIVE_USER:3},p={DEFAULT:0,NEVER:1,WIFIONLY:2,PIGGYBACK:3,DISABLED:4,valueOf:function(a){return null==a||"DEFAULT"==a?p.DEFAULT:"NEVER"==a?p.NEVER:"WIFIONLY"==a?p.WIFIONLY:"PIGGYBACK"==a?p.PIGGYBACK:"DISABLED"==a?p.DISABLED:void 0}},q=function(){var b="undefined"!=typeof encodeURIComponent?encodeURIComponent:escape;return function(c){var d,e={};a.extend(this,{removeLabel:function(a){delete e[a]},addLabels:function(a){if(null!=a)for(var b in a)a.hasOwnProperty(b)&&this.setLabel(b,a[b])},setLabel:function(a,b){e[a]=b},getLabel:function(a){return e[a]},getLabels:function(){return e},hasLabel:function(a){return e.hasOwnProperty(a)},retrieveLabelsAsString:function(c){for(var d=[],f=a.extend({},e),g=0,h=c.length;g<h;g++){var i=c[g],j=f[i];null!=j&&""!==j&&(d.push("&",b(i),"=",b(j)),delete f[i])}for(var k in f)if(f.hasOwnProperty(k)){var l=f[k];null!=l&&""!==l&&d.push("&",b(k),"=",b(f[k]))}var m="";return d=d.join(""),m=d.length>0&&"&"==d.charAt(0)?d.substring(1):d},setPixelURL:function(a){d=a},getPixelURL:function(){return d}}),c&&this.setPixelURL(c.getPixelURL())}}(),r=function(){function b(a){return a==m.START||a==m.CLOSE||a==m.VIEW?m.VIEW:m.HIDDEN}function d(b){return a.isNotEmpty(b)?b:c.UNKNOWN_VALUE}var e=function(a,c,e,f){if(q.call(this,a),a&&(null!=e&&this.setPixelURL(e),c!==m.AGGREGATE)){this.setLabel("c1","19"),this.setLabel("ns_ap_an",d(a.getAppName())),this.setLabel("ns_ap_pn",d(h.getPlatformName())),this.setLabel("ns_ap_pv",d(h.getRuntimeVersion())),this.setLabel("c12",a.getVisitorId()),a.generateCrossPublisherId();var g=a.getCrossPublisherId();g&&(this.setLabel("ns_ak",g),a.isCrossPublisherIdChanged()&&this.setLabel("ns_ap_ni","1")),this.setLabel("ns_ap_device",d(h.getDeviceModel())),this.setLabel("ns_ap_ar",d(h.getDeviceArchitecture())),this.setLabel("ns_radio",d(h.getConnectionType())),this.setLabel("ns_type",b(c)),this.setLabel("ns_nc","1"),this.setLabel("ns_ap_pfv",d(h.getPlatformVersion())),this.setLabel("ns_ap_pfm",d(h.getRuntimeName())),this.setLabel("ns_ap_ev",c),this.setLabel("ns_ap_ver",d(a.getAppVersion())),this.setLabel("ns_ap_sd",h.getDisplayResolution()),this.setLabel("ns_ap_res",h.getApplicationResolution()),this.setLabel("ns_ap_lang",h.getLanguage()),this.setLabel("ns_ap_sv",a.getVersion()),this.setLabel("ns_ap_cv",a.getConnectorVersion()),c==m.KEEPALIVE&&this.setLabel("ns_ap_oc",a.getOfflineCache().getEventCount()+"");var i=a.getColdStartId(),j=a.getColdStartCount();this.setLabel("ns_ap_id",i+""),this.setLabel("ns_ap_cs",j+""),this.setLabel("ns_ap_bi",h.getPackageName()),this.setLabel("ns_ap_jb",d(h.getDeviceJailBrokenFlag()))}};return e.processTimingLabels=function(a,b){var c=(b.eventType,b.coldBoot),d=b.resetTimings,e=b.includeTimings;if(d="undefined"==typeof d||d,e="undefined"==typeof e||e,a.update(e),e){var f=a.getForegroundTransitionsCountDelta(),g=a.getForegroundTotalTime(c),h=a.getForegroundTimeDelta(d),i=a.getBackgroundTotalTime(c),j=a.getBackgroundTimeDelta(d),k=a.getInactiveTotalTime(c),n=a.getInactiveTimeDelta(d),o=a.getApplicationSessionTimeDelta(d),p=a.getActiveUserSessionTimeDelta(d),q=a.getUserSessionTimeDelta(d),r=a.getAutoUpdateInterval(),s=a.getApplicationSessionCountDelta(d),t=a.getActiveUserSessionCountDelta(d),u=a.getUserSessionCountDelta(d),v=a.getUserInteractionCount(d);b.labels.ns_ap_fg=f+"",b.labels.ns_ap_ft=g+"",b.labels.ns_ap_dft=h+"",b.labels.ns_ap_bt=i+"",b.labels.ns_ap_dbt=j+"",b.labels.ns_ap_it=k+"",b.labels.ns_ap_dit=n+"",r>=l.MINIMAL_AUTOUPDATE_INTERVAL&&(b.labels.ns_ap_ut=r+""),b.labels.ns_ap_as=s+"",b.labels.ns_ap_das=o+"",t>=0&&(b.labels.ns_ap_aus=t+"",b.labels.ns_ap_daus=p+"",b.labels.ns_ap_uc=v+""),u>=0&&(b.labels.ns_ap_us=u+"",b.labels.ns_ap_dus=q+""),b.labels.ns_ap_usage=b.created-a.getGenesis()+""}b.eventType!=m.AGGREGATE&&(b.labels.ns_ts=b.created+"")},e.prototype=new q,e.newApplicationMeasurement=function(a,b,c,d){var e=a.getMeasurementDispatcher(),f=e.initMeasurementData(b,c,d),g=e.finishMeasurement(f);return g},e}(),s=function(){var b=function(b,c,d){function e(a){return!isNaN(parseInt(a))&&isFinite(a)}function f(a){return!(a.indexOf(",")<0)&&a.indexOf(" ")<0}function g(a,b){return a.indexOf(b)>=0}function h(a,b){for(var c=b,d=i(a),e=0,f=d.length;e<f;e++){var g=d[e];if(g.length>0)if(c.indexOf(g)<0)c+=0==c.length?g+":1":";"+g+":1";else for(var h=c.split(";"),j=0,k=h.length;j<k;j++)if(h[j].indexOf(g)>=0){var l=h[j].split(":"),m=Number(l[1]);m++;var n=l[0]+":"+m,o=c.indexOf(h[j]);c=c.substring(0,o)+n+c.substring(o+h[j].length)}}return c}function i(a){return a.split(",")}r.call(this,b,c,d),a.extend(this,{aggregateLabels:function(a){for(var b in a)if(a.hasOwnProperty(b)){var c=this.getLabel(b),d=a[b];if(null==c)f(d)?this.setLabel(b,h(d,"")):this.setLabel(b,d);else if(e(c)&&e(d))this.setLabel(b,parseInt(c)+parseInt(d)+"");else if(f(d)){var i=h(d,c);this.setLabel(b,i)}else g(c,d)||this.setLabel(b,c+","+d)}},formatLists:function(){var a={},b=this.getLabels();for(var c in b)if(b.hasOwnProperty(c)){var d=b[c];f(d)&&(a[c]=d)}for(var e in a)a.hasOwnProperty(e)&&this.setLabel(e,h(a[e],""))}})};return b.prototype=new r,b}(),t=function(){function b(b){return a.isNotEmpty(b)?b:c.UNKNOWN_VALUE}var d=function(a,c,d,e){r.call(this,a,c,d,e),this.setLabel("ns_ap_gs",a.getFirstInstallId()+""),this.setLabel("ns_ap_install",a.getInstallId()+""),this.setLabel("ns_ap_runs",a.getRunsCount()+""),e&&this.setLabel("ns_ap_csf","1"),this.setLabel("ns_ap_lastrun",a.getPreviousGenesis()+"");var f=a.getExitCode();f>0&&this.setLabel("ns_ap_miss",f.toString());var g=a.getPreviousVersion();g&&g.length>0&&(this.setLabel("ns_ap_updated",g+""),a.getStorage().remove(l.PREVIOUS_VERSION_KEY),a.setPreviousVersion(null)),this.setLabel("ns_ap_jb",b(h.getDeviceJailBrokenFlag()))};return d.prototype=new r,d}(),u=function(){function a(a){function b(a){i++,a.labels.ns_ap_ec=i+""}function c(a){a instanceof s?null==j?(j=a,j.formatLists()):j.aggregateLabels(a.getLabels()):null!=j&&(a.addLabels(j.getLabels()),j=null)}var d=this,e=0,f=[],g=!1,i=0,j=null;d.createInitializationWindow=function(){
e++;var a=!1,b=function(b){a||(a=!0,e--,b&&d.checkDispatch())};return b},d.preDispatch=function(){if(!g){var a=d.createInitializationWindow(),b=function(){g=!1,a(!0)},c=function(){g=!1,a(!1)};g=!0,h.onDataFetch(b,c)}},d.checkDispatch=function(){if(!(e>0)){for(var a=0;a<f.length;++a){var b=f[a],c=d.finishMeasurement(b);d.dispatch(b,c)}f.length=0}},d.queue=function(a){f.push(a),d.preDispatch()},d.dispatch=function(b,c){if(b.eventType!=m.AGGREGATE)if(b.saveToOfflineCache){var d=a.getOfflineCache();d.saveEvent(c)}else{var e=a.getQueue();e.offer(c)}},d.send=function(a,b,c,e){e=!!e||!1;var f=d.initMeasurementData(a,b,c);f.saveToOfflineCache=e,d.queue(f)},d.initMeasurementData=function(c,d,e){var f={created:+new Date,eventType:c,pixelURL:e,coldBoot:!1,resetTimings:void 0,includeTimings:void 0,labels:{}};return b(f),c==m.START?(a.incrementRunsCount(),f.coldBoot=a.handleColdStart(),f.persistentLabels=a.getLabels(),f.eventLabels=d):c===m.AGGREGATE?f.eventLabels=d:(f.resetTimings=!(null!=d&&d.hasOwnProperty("ns_st_ev")&&"hb"==d.ns_st_ev),f.includeTimings=!(null!=d&&d.hasOwnProperty("ns_st_ev")),f.persistentLabels=a.getLabels(),f.eventLabels=d),null!=a.getCurrentActivityName()?f.pageNameLabel=a.getCurrentActivityName():c==m.START?f.pageNameLabel=l.DEFAULT_START_PAGE_NAME:a.getApplicationState()==n.FOREGROUND?f.pageNameLabel=l.DEFAULT_FOREGROUND_PAGE_NAME:f.pageNameLabel=l.DEFAULT_BACKGROUND_PAGE_NAME,r.processTimingLabels(a,f),f},d.finishMeasurement=function(b){var d=null,e=b.eventType,f=b.pixelURL,g=b.coldBoot;return d=e===m.START?new t(a,e,f,g):e===m.AGGREGATE?new s(a,e,f,g):new r(a,e,f,g),d.addLabels(b.labels),d.addLabels(b.persistentLabels),d.addLabels(b.eventLabels),d.hasLabel(l.PAGE_NAME_LABEL)||d.setLabel(l.PAGE_NAME_LABEL,b.pageNameLabel),e!=m.AGGREGATE&&h.processMeasurementLabels(d),c(d),d}}return a}(),v=function(){return function(b,c,d,e){function f(a){200!=a&&(302!=a&&301!=a||b.isHttpRedirectCaching())?b.getOfflineCache().saveEvent(k.retrieveLabelsAsString(j.getMeasurementLabelOrder()),j):b.getKeepAlive().reset(),e()}function g(){var a=i.process(k.getPixelURL());h.httpGet(a,f)}var i=this,j=c,k=d;a.extend(this,{process:function(b){b+=k.retrieveLabelsAsString(j.getMeasurementLabelOrder());var c=a.browserAcceptsLargeURLs()?l.URL_LENGTH_LIMIT:l.RESTRICTED_URL_LENGTH_LIMIT;if(b.length>c&&b.indexOf("&")>0){var d=b.substring(0,c-8).lastIndexOf("&"),e=encodeURIComponent(b.substring(d+1));b=b.substring(0,d)+"&ns_cut="+e}return b.length>c&&(b=b.substring(0,c)),b},send:function(){b.getStorage().set(l.LAST_TRANSMISSION_KEY,+new Date+"");var a=j.getLiveTransmissionMode();if(a==p.NEVER||a==p.DISABLED)b.getOfflineCache().saveEvent(k.retrieveLabelsAsString(j.getMeasurementLabelOrder()),j),e();else if(j.getOfflineTransmissionMode()!=p.NEVER&&b.getOfflineCache().getEventCount()>0){var c=b.getOfflineCache();c.flush(j,g)}else g();return!0}})}}(),w=function(){var b=0,c=1,d=2,e=3,f=function(){var f,g,i,j;a.extend(this,{reset:function(){f=p.DEFAULT,g=p.DEFAULT,i=h.isConnectionSecure(),j=l.LABELS_ORDER},copyFrom:function(a){f=a.getLiveTransmissionMode(),g=a.getOfflineTransmissionMode(),j=a.getMeasurementLabelOrder(),i=a.isSecure()},updateSetting:function(a,f){switch(a){case b:this.allowLiveTransmission(f);break;case c:this.allowOfflineTransmission(f);break;case d:this.setSecure(f);break;case e:this.setMeasurementLabelOrder(f)}},getLiveTransmissionMode:function(){return f},allowLiveTransmission:function(a){null!=a&&(f=a)},getOfflineTransmissionMode:function(){return g},allowOfflineTransmission:function(a){null!=a&&(g=a)},isSecure:function(){return i},setSecure:function(a){i=a},getMeasurementLabelOrder:function(){return j},setMeasurementLabelOrder:function(a){null!=a&&a.length>0&&(j=a)}}),this.reset()};return f.LIVE_TRANSMISSION_MODE=b,f.OFFLINE_TRANSMISSION_MODE=c,f.SECURE_MODE=d,f.MEASUREMENT_LABEL_ORDER=e,f}(),x=function(){var b=1e3,c=864e5,d="q_dcf",e="q_dcc";return function(f){function g(a){return function(b){if(null!=a){var c=new v(f,p,a,b);c.send()}else b()}}function i(a){return function(b){a.flush(p,b)}}function j(a,b){return function(c){p.updateSetting(a,b),c()}}function k(){var a=f.getStorage(),g=+new Date;return g<s?(r=0,s=g,t=0,u=g,a.set(e,t+""),a.set(d,u+"")):(g-s>b&&(r=0,s=g),g-u>c&&(t=0,u=g,a.set(e,t+""),a.set(d,u+""))),r<l.EVENTS_LIMIT_PER_SECOND&&t<l.EVENTS_LIMIT_PER_DAY&&(r++,t++,a.set(e,t+""),!0)}function m(){if(o.length>0)if(x=!0,"undefined"!=typeof ATVPlatformAPI&&ATVPlatformAPI.isCompatible()){var a=o.shift();a(m)}else h.setTimeout(n,0);else x=!1}function n(){if(o.length>0){var a=o.shift();a(m)}else x=!1}var o=[],p=new w,r=0,s=-1,t=0,u=-1,x=!1;a.extend(this,{getDispatchProperties:function(){return p},stop:function(){o.length=0},offer:function(a){if(f.getEnabled())return a instanceof q&&(a=g(a)),!!k()&&(o.push(a),x||x||m(),!0)},loadEventData:function(){var a=f.getStorage();if(a.has(e)&&a.has(d)){var b=Number(a.get(e)),c=Number(a.get(d));+new Date>=c&&(t=b,u=c)}},enqueueCacheFlush:function(){this.offer(i(f.getOfflineCache()))},enqueueSettingChange:function(a,b){this.offer(j(a,b))},isDispatching:function(){return x}}),this.loadEventData()}}(),y=function(){return function(b,c){function d(){f&&(e.sendKeepAlive(),f=h.setTimeout(d,c))}var e=this,f=null,g=c,i=-1,j=!1;a.extend(this,{sendKeepAlive:function(){this.processKeepAlive(!1)},reset:function(a){void 0==a&&(a=c),this.cancel(),i=+new Date+a,g=a,j&&this.start(0)},processKeepAlive:function(c){if(b.isKeepAliveEnabled()){var d=(b.getOfflineCache(),b.getStorage()),e=a.parseLong(d.get(l.LAST_TRANSMISSION_KEY));if(+new Date-e>g-l.KEEPALIVE_INACCURACY_MS){var f=b.getMeasurementDispatcher();c?f.send(m.KEEPALIVE,null,null,!0):f.send(m.KEEPALIVE,{},null,!1),b.getStorage().set(l.LAST_TRANSMISSION_KEY,+new Date+"")}}},start:function(a){if(this.cancel(),j=!0,b.isKeepAliveEnabled()){var c=+new Date;i<c&&(i=c+a),f=h.setTimeout(d,i-c)}},stop:function(){j=!1,this.cancel(),this.processKeepAlive(!0)},cancel:function(){f&&(h.clearTimeout(f),f=null)}})}}(),z=function(){var a="cache_dir";return{getFileList:function(){return h.IO.dir(a)||[]},writeEvent:function(b,c,d){var e=b.getStorage(),f=Number(e.get(c))||0;h.IO.append(a,c,d),f++,e.set(c,f+"")},deleteFile:function(b,c){h.IO.deleteFile(a,c),b.getStorage().remove(c)},readCachedEvents:function(b,c){var d=h.IO.read(a,c);return d?d.split("\n"):[]}}}(),A=function(){return function(b,c){function d(c){var d;d=a.exists(I)&&a.isNotEmpty(I)?I:c.isSecure()?l.OFFLINE_RECEIVER_URL_SECURE:l.OFFLINE_RECEIVER_URL;var e=!0;d.indexOf("?")==-1&&(d+="?",e=!1);var f=b.getCustomerC2();a.isNotEmpty(f)&&(e&&(d+="&"),d+="c2="+f,e=!0);var g="JetportGotAMaskOfThe"+b.getSalt()+"S.D_K-";return g=a.md5(g),a.isNotEmpty(g)&&(e&&(d+="&"),d+="s="+g),d.toLowerCase()}function e(){if(g()&&!J.isEmpty()&&null!=b.getCustomerC2()){if(!(G>=A))return!0;var a=1e3*B*60-(+new Date-H);if(a<=0)return G=0,H=0,!0}return!1}function f(){K=0,null!=F&&(F=null)}function g(){return!!b.getEnabled()&&h.isConnectionAvailable()}function i(){for(var a=m(),b=!1,c=a.length;c>0;c--){var d=u(a[c-1]);b?o(a[c-1],!0):b=v(d)}}function j(a){var c=b.getStorage(),d=0;c.has(a)&&(d=Number(c.get(a)),k(d))}function k(a){if(b.getEnabled()){var c=b.getStorage();c.has(l.CACHE_DROPPED_MEASUREMENTS)&&(a+=Number(c.get(l.CACHE_DROPPED_MEASUREMENTS))),c.set(l.CACHE_DROPPED_MEASUREMENTS,a+"")}}function m(){return null==E&&(E=z.getFileList()),E}function n(a){var d=c+D.getLabelFromEvent(a,"ns_ts");z.writeEvent(b,d,a),null==E&&(E=[]),E.push(d),f()}function o(c,d){if(null!=c){d&&j(c),z.deleteFile(b,c);var e=a.indexOf(c,E);e>=0&&E.splice(e,1)}}function q(){return null!=E&&E.length>0?E[0]:null}function r(){return null!=E&&E.length>0?E[E.length-1]:null}function s(a){var c=b.getStorage(),d=0;return null!=a&&(d=c.has(a)?Number(c.get(a)):z.readCachedEvents(b,a).length),d}function t(a){for(var c=0,d=z.readCachedEvents(b,a),e=!1;c<d.length;c++){var f=Number(D.getLabelFromEvent(d[c],"ns_ts"));if(e=!v(f))break}return e?(k(c),d=d.slice(c,d.length)):(o(a,!0),d=null),d}function u(a){return Number(a.substring(c.length))}function v(a){var b=+new Date,c=b-a,d=24*C*60*60*1e3-c;return d<=0}function w(a,c){var g=b.getStorage();if(e()){var i=null,j=null;if(null==F&&(j=r(),i=t(j),null!=i&&i.length>0)){var k=g.has(l.CACHE_DROPPED_MEASUREMENTS)?g.get(l.CACHE_DROPPED_MEASUREMENTS):"0";F=D.generateXMLRequestString(i,k)}if(null!=F&&F.length>0)return void h.httpPost(d(a),F,function(b){return 200==b?(G++,o(j,!1),f(),H=+new Date,g.remove(l.CACHE_DROPPED_MEASUREMENTS),void h.setTimeout(function(){w(a,c)},0)):void c()})}c()}var x,y,A,B,C,E,F,G,H,I,J=this,K=0;c=c||l.CACHE_FILENAME,a.extend(this,{flush:function(a,c){if(b.getEnabled()){i();var d=1e3*B*60-(+new Date-K);d<=0?(K=0,w(a,c)):c()}},setCacheMaxMeasurements:function(a){x=a},getCacheMaxMeasurements:function(){return x},setCacheMaxBatchFiles:function(a){a<=0||(y=a)},getCacheMaxBatchFiles:function(){return y},setCacheMaxPosts:function(a){A=a},getCacheMaxPosts:function(){return A},setCacheWaitMinutes:function(a){B=a},getCacheWaitMinutes:function(){return B},setCacheMeasurementExpiry:function(a){C=a},getCacheMeasurementExpiry:function(){return C},saveEvent:function(c){if(b.getEnabled()){var d=b.getDispatchProperties();if("string"!=typeof c&&(c=c.retrieveLabelsAsString(d.getMeasurementLabelOrder())),d.getOfflineTransmissionMode()!=p.DISABLED&&null!=b.getCustomerC2()&&a.isNotEmpty(D.getLabelFromEvent(c,"ns_ts"))){var e=r();if(null!=e){var g=s(e);g<this.getCacheMaxBatchFiles()?(c="\n"+c,z.writeEvent(b,e,c),f()):(m().length>=this.getCacheMaxMeasurements()/this.getCacheMaxBatchFiles()&&o(q(),!0),n(c))}else n(c)}}},getEventCount:function(){var a=s(r());return m().length>0&&(a+=(m().length-1)*this.getCacheMaxBatchFiles()),a},isEmpty:function(){return 0==this.getEventCount()},clear:function(){for(var a=m(),c=a.length;c>0;c--)o(a[c-1],!0);b.getStorage().remove(l.CACHE_DROPPED_MEASUREMENTS)},setUrl:function(a){I=a}}),this.setCacheMaxMeasurements(l.CACHE_MAX_SIZE),this.setCacheMaxBatchFiles(l.CACHE_MAX_BATCH_SIZE),this.setCacheMaxPosts(l.CACHE_MAX_FLUSHES_INAROW),this.setCacheWaitMinutes(l.CACHE_WAIT_MINUTES),this.setCacheMeasurementExpiry(l.CACHE_EXPIRY_DAYS),i()}}(),B=function(){return function(b){function c(a){k=a,b.getStorage().set("plannedFlushTime",a+"")}function d(){b.getStorage().has("plannedFlushTime")&&(k=a.parseLong(b.getStorage().get("plannedFlushTime"),-1))}function e(){b.flush(),c(-1),i.scheduleFlush()}function f(){c(b.getCacheFlushingInterval()>0?+new Date+1e3*b.getCacheFlushingInterval():-1),l&&(h.clearTimeout(l),i.scheduleFlush())}function g(){l&&(h.clearTimeout(l),l=null)}var i=this,j=!1,k=-1,l=null;a.extend(i,{start:function(){j=!0,!l&&b.getCacheFlushingInterval()>0&&null!=b.getCustomerC2()&&(d(),i.scheduleFlush())},stop:function(){j=!1,g()},update:function(){var a=b.getCacheFlushingInterval();a>0&&null!=b.getCustomerC2()?!l&&j?(c(-1),i.start()):null!=l&&f():(c(-1),g())},scheduleFlush:function(){k<0&&c(+new Date+1e3*b.getCacheFlushingInterval()),l=h.setTimeout(e,k-+new Date)}})}}(),C=function(){return function(b){function c(){f(),r=-1}function d(){b.getOfflineTransmissionMode()!=p.NEVER&&b.getOfflineTransmissionMode()!=p.DISABLED&&g(!1)}function e(){b.flush(),r=-1,o=null}function f(){o&&(h.clearTimeout(o),o=null)}function g(a){var b=+new Date;n?(f(),(r<b||r<0||!a)&&(r=b+1e3*l.CACHE_MIN_SECS_ONLINE),o=h.setTimeout(e,r-b)):r<0&&(r=b+1e3*l.CACHE_MIN_SECS_ONLINE)}function i(){var a=h.isConnectionAvailable();a!=j&&(j=a,j?d():c()),n&&(q=h.setTimeout(i,m))}var j,k=this,m=1e3,n=!1,o=null,q=null,r=-1;a.extend(k,{start:function(){n=!0,j&&r>0&&g(!0),q=h.setTimeout(i,m)},stop:function(){h.clearTimeout(q),q=null,n=!1,f()}})}}(),D=function(){function b(b){var c=a.md5(h.join("")).toLowerCase();b.splice(n,0,c)}function c(a,b,c){d(b,c),i!=-1&&j>i&&a.push(c,'="',b.substring(i,j),'" ')}function d(a,b){i=j=-1;var c=0;do if(c=a.indexOf(b,c),c>=0){var d=c+b.length;if((0==c||"&"==a.charAt(c-1))&&d<a.length&&"="==a.charAt(d))return i=d+1,j=a.indexOf("&",i),void(j==-1&&(j=a.length));c=d+1}while(c>=0&&c<a.length)}function e(b,c){h=[];for(var d=0,e=b.length;d<e;d++)a.isNotEmpty(b[d])&&f(b[d],c)}function f(b,c){var e=0;if(d(b,"ns_ts"),i!=-1&&j>i){c.push('<event t="',b.substring(i,j),'">');for(var f,g,k=0,n=0;k<b.length;){if(f=b.indexOf("&",k),f==-1&&(f=b.length),f>k&&(g=b.indexOf("=",k),g>k)){var o=!0;if(e!=m)for(var p=0,q=l.length;p<q;p++){var r=1<<p;if(0==(e&r)&&l[p].length==g-k&&a.regionMatches(l[p],0,b,k,l[p].length)){o=!1,e|=r;break}}o&&(n>0&&(h.push("&"),c.push("&")),h.push(b.substring(k,f)),c.push(b.substring(k,f)),n++)}k=f+1}c.push("</event>")}}function g(a,b,d){var e=+new Date+"";a.push('<events t="',e,'" ');for(var f=0,g=k.length;f<g;f++)c(a,b,k[f]);a.push('dropped="',d,'" md5="','">'),n=a.length-1}var h=[],i=-1,j=-1,k=["c12","c1","ns_ap_an","ns_ap_pn","ns_ap_pv","ns_ap_device","ns_ak"],l=["c12","c1","ns_ap_an","ns_ap_pn","ns_ap_pv","ns_ap_device","ns_ts","ns_ak"],m=(1<<l.length)-1,n=-1;return{generateXMLRequestString:function(a,c){var d=['<?xml version="1.0" encoding="UTF-8" ?>'];return g(d,a[0],c),e(a,d),b(d),d.push("</events>"),d.join("")},getLabelFromEvent:function(a,b){return d(a,b),i!=-1&&j>i?a.substring(i,j):null}}}(),E=function(){return function(){function d(){Ka.initializeStorage(),Ka.initializeQueue(),Ka.initializeKeepAliveAlarm(),Ka.initializeOfflineCache(),Ka.initializeCacheFlusher(),Ka.initializeConnectivityChangeReceiver(),R=new u(Ka),P=new w,e()}function e(){ka=a.parseLong(K.get(l.LAST_APPLICATION_ACCUMULATION_TIMESTAMP_KEY),-1),wa=a.parseLong(K.get(l.LAST_SESSION_ACCUMULATION_TIMESTAMP_KEY),-1),ra=a.parseLong(K.get(l.LAST_APPLICATION_SESSION_TIMESTAMP_KEY),-1),sa=a.parseLong(K.get(l.LAST_USER_SESSION_TIMESTAMP_KEY),-1),ta=a.parseLong(K.get(l.LAST_ACTIVE_USER_SESSION_TIMESTAMP_KEY),-1),ba=a.parseInteger(K.get(l.FOREGROUND_TRANSITION_COUNT_KEY)),ga=a.parseLong(K.get(l.ACCUMULATED_FOREGROUND_TIME_KEY)),fa=a.parseLong(K.get(l.ACCUMULATED_BACKGROUND_TIME_KEY)),ha=a.parseLong(K.get(l.ACCUMULATED_INACTIVE_TIME_KEY)),ca=a.parseLong(K.get(l.TOTAL_FOREGROUND_TIME_KEY)),da=a.parseLong(K.get(l.TOTAL_BACKGROUND_TIME_KEY)),ea=a.parseLong(K.get(l.TOTAL_INACTIVE_TIME_KEY)),la=a.parseLong(K.get(l.ACCUMULATED_APPLICATION_SESSION_TIME_KEY)),na=a.parseLong(K.get(l.ACCUMULATED_ACTIVE_USER_SESSION_TIME_KEY)),ma=a.parseLong(K.get(l.ACCUMULATED_USER_SESSION_TIME_KEY)),qa=a.parseInteger(K.get(l.ACTIVE_USER_SESSION_COUNT_KEY),-1),pa=a.parseInteger(K.get(l.USER_SESSION_COUNT_KEY),-1),va=a.parseLong(K.get(l.LAST_USER_INTERACTION_TIMESTAMP_KEY),-1),ua=a.parseInteger(K.get(l.USER_INTERACTION_COUNT_KEY),0),oa=a.parseInteger(K.get(l.APPLICATION_SESSION_COUNT_KEY),0),Ea=K.get(l.EXIT_CODE_KEY)?parseInt(K.get(l.EXIT_CODE_KEY)):0,Y=h.getAppVersion(),ja=a.parseLong(K.get(l.PREVIOUS_GENESIS_KEY),0),ia=a.parseLong(K.get(l.GENESIS_KEY),-1),ia<0?(ia=+new Date,ja=0,ra=ia,oa++):(r()||(la+=+new Date-wa,K.set(l.ACCUMULATED_APPLICATION_SESSION_TIME_KEY,la+"")),ra=ia),X=a.parseLong(K.get(l.FIRST_INSTALL_ID_KEY),-1),X<0?(X=ia,W=ia,Y&&Y!=c.UNKNOWN_VALUE&&K.set(l.CURRENT_VERSION_KEY,Y+""),K.set(l.FIRST_INSTALL_ID_KEY,X+""),K.set(l.INSTALL_ID_KEY,W+"")):Ka.setAppVersion(Y),K.set(l.GENESIS_KEY,ia+""),K.set(l.PREVIOUS_GENESIS_KEY,ja+""),Ka.setExitCode(ia);var b=+new Date;if(ka>=0){var d=b-ka;ha+=d,K.set(l.ACCUMULATED_INACTIVE_TIME_KEY,ha+""),ea+=d,K.set(l.TOTAL_INACTIVE_TIME_KEY,ea+"")}wa=ka=b,K.set(l.LAST_APPLICATION_ACCUMULATION_TIMESTAMP_KEY,ka+""),K.set(l.LAST_SESSION_ACCUMULATION_TIMESTAMP_KEY,wa+""),K.set(l.LAST_APPLICATION_SESSION_TIMESTAMP_KEY,ra+""),K.has(l.RUNS_COUNT_KEY)||K.set(l.RUNS_COUNT_KEY,"0"),T=a.parseInteger(K.get(l.RUNS_COUNT_KEY)),V=a.parseInteger(K.get(l.COLD_START_COUNT_KEY))}function f(a){var b;return K.has(a)?(b=K.get(a),b+""):null}function g(a,b){Ia&&b!=n.INACTIVE&&Ka.isAutoStartEnabled()&&!Ma&&Ka.notify(m.START,Ga)}function i(a){if(Ia)switch(l.LOG_ENABLED&&CSLog.d(Ka,"Leaving application state: "+a),a){case n.INACTIVE:L.start(l.KEEPALIVE_INTERVAL_MS_AFTER_FOREGROUND),O.start(),M.start();break;case n.BACKGROUND_UX_ACTIVE:H();break;case n.FOREGROUND:Ka.setCurrentActivityName(null),H()}}function j(a){if(Ia)switch(l.LOG_ENABLED&&CSLog.d(Ka,"Entering application state: "+a),a){case n.INACTIVE:O.stop(),L.stop(),M.stop(),H();break;case n.BACKGROUND_UX_ACTIVE:La||G();break;case n.FOREGROUND:G(),ba++}}function k(a,b){}function p(a){if(Ia){var b=+new Date;switch(a){case o.ACTIVE_USER:null!=xa&&(h.clearTimeout(xa),xa=null),ta=b;case o.USER:sa=b;case o.APPLICATION:ra=b;break;case o.INACTIVE:r()||(la+=b-wa)}}}function q(a){if(Ia)switch(a){case o.ACTIVE_USER:s(),Ka.scheduleUserInteractionTask();case o.USER:t();case o.APPLICATION:r();break;case o.INACTIVE:}}function r(){var a=+new Date,b=!1;return a-ra>l.SESSION_INACTIVE_PERIOD&&(ja=ia,ia=a,oa++,b=!0),ra=a,b}function s(){var a=+new Date;a-ta>=l.USER_SESSION_INACTIVE_PERIOD&&qa++,ta=a}function t(){var a=+new Date;a-sa>=l.USER_SESSION_INACTIVE_PERIOD&&pa++,sa=a}function v(a){if(Ia){a="undefined"==typeof a||a;var b=+new Date,c=b-ka;switch(Oa){case n.FOREGROUND:ga+=c,ca+=c;break;case n.BACKGROUND_UX_ACTIVE:fa+=c,da+=c;break;case n.INACTIVE:ha+=c,ea+=c}ka=b,a&&(K.set(l.LAST_APPLICATION_ACCUMULATION_TIMESTAMP_KEY,ka+""),K.set(l.FOREGROUND_TRANSITION_COUNT_KEY,ba+""),K.set(l.ACCUMULATED_FOREGROUND_TIME_KEY,ga+""),K.set(l.ACCUMULATED_BACKGROUND_TIME_KEY,fa+""),K.set(l.ACCUMULATED_INACTIVE_TIME_KEY,ha+""),K.set(l.TOTAL_FOREGROUND_TIME_KEY,ca+""),K.set(l.TOTAL_BACKGROUND_TIME_KEY,da+""),K.set(l.TOTAL_INACTIVE_TIME_KEY,ea+""))}}function z(a){if(Ia){a="undefined"==typeof a||a;var b=+new Date,c=b-wa;switch(Pa){case o.ACTIVE_USER:na+=c,ta=b;case o.USER:ma+=c,sa=b;case o.APPLICATION:la+=c,ra=b;break;case o.INACTIVE:}wa=b,a&&(K.set(l.LAST_SESSION_ACCUMULATION_TIMESTAMP_KEY,wa+""),K.set(l.LAST_APPLICATION_SESSION_TIMESTAMP_KEY,ra+""),K.set(l.LAST_USER_SESSION_TIMESTAMP_KEY,sa+""),K.set(l.LAST_ACTIVE_USER_SESSION_TIMESTAMP_KEY,ta+""),K.set(l.ACCUMULATED_APPLICATION_SESSION_TIME_KEY,la+""),K.set(l.ACCUMULATED_ACTIVE_USER_SESSION_TIME_KEY,na+""),K.set(l.ACCUMULATED_USER_SESSION_TIME_KEY,ma+""),K.set(l.ACTIVE_USER_SESSION_COUNT_KEY,qa+""),K.set(l.USER_SESSION_COUNT_KEY,pa+""),K.set(l.LAST_USER_INTERACTION_TIMESTAMP_KEY,va+""),K.set(l.USER_INTERACTION_COUNT_KEY,ua+""),K.set(l.PREVIOUS_GENESIS_KEY,ja+""),K.set(l.GENESIS_KEY,ia+""),K.set(l.APPLICATION_SESSION_COUNT_KEY,oa+""))}}function D(){if(Ia){var a,b=+new Date;a=_>0?n.FOREGROUND:aa>0?n.BACKGROUND_UX_ACTIVE:n.INACTIVE;var c;c=b-va<l.USER_SESSION_INACTIVE_PERIOD?o.ACTIVE_USER:aa>0?o.USER:_>0?o.APPLICATION:o.INACTIVE;var d=Oa,e=Pa;if(a!=d||c!=e){var f=!1,h=!1;d!=a&&(i(Oa),j(a),v(),Oa=a,f=!0),e!=c&&(p(Pa),q(c),z(),Pa=c,h=!0),f&&g(d,Oa),h&&k(e,Pa)}}}function E(b,c){Ia&&(a.exists(b)?(c=a.exists(c)?"-cs"+c:"",za=b+c):null==za&&Ua&&(za=a.md5(h.getVisitorId()+Ka.getSalt()),"function"==typeof h.getVisitorIdSuffix&&null!=h.getVisitorIdSuffix()&&(za=za+"-cs"+h.getVisitorIdSuffix())),K.set(l.VID_KEY,za+""))}function F(){var b=(h.getCrossPublisherId()||"null").split(" "),c=b[0]&&"null"!=b[0]?b[0]:null,d="true"==b[1];if(null==c)return Ba=null,void(Aa=null);Aa||(Ba=K.get(l.CROSSPUBLISHER_ID_MD5),Aa=K.get(l.CROSSPUBLISHER_ID_RSA));var e=null;Aa?"none"==c&&"none"==Aa||!Ta&&"none"==Aa||"none"!=c&&(e=a.md5(c))==Ba||(d?("none"==c?(Ba=null,Aa="none"):(Ba=e,Aa=a.encrypt(c)),K.set(l.CROSSPUBLISHER_ID_RSA,Aa),null==Ba?K.remove(l.CROSSPUBLISHER_ID_MD5):K.set(l.CROSSPUBLISHER_ID_MD5,Ba)):(Sa=!0,Ta&&"none"!=c?(Ba=a.md5(c),Aa=a.encrypt(c)):(Ba=null,Aa="none"),K.set(l.CROSSPUBLISHER_ID_RSA,Aa),null==Ba?K.remove(l.CROSSPUBLISHER_ID_MD5):K.set(l.CROSSPUBLISHER_ID_MD5,Ba))):("none"==c?(Ba=null,Aa="none"):(Ba=a.md5(c),Aa=a.encrypt(c)),K.set(l.CROSSPUBLISHER_ID_RSA,Aa),null==Ba?K.remove(l.CROSSPUBLISHER_ID_MD5):K.set(l.CROSSPUBLISHER_ID_MD5,Ba)),Ta=!1}function G(){Ia&&(H(),S>=l.MINIMAL_AUTOUPDATE_INTERVAL&&(Q=h.setTimeout(function(){Ka.update(),null!=Q&&h.setTimeout(arguments.callee,S)},S)))}function H(){Ia&&null!=Q&&(h.clearTimeout(S),Q=null)}function I(){return!Ua||null==Ca||0===Ca.length||null==ya||0===ya.length}var J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za,Aa,Ba,Ca,Da,Ea,Fa,Ga,Ha,Ia,Ja,Ka=this,La=!0,Ma=!1,Na=!0,Oa=n.INACTIVE,Pa=o.INACTIVE,Qa=!1,Ra=!1,Sa=!1,Ta=!0,Ua=!1,Va=l.CACHE_FLUSHING_INTERVAL;a.extend(Ka,{reset:function(){Ia&&(P.reset(),Oa=n.INACTIVE,Pa=o.INACTIVE,Ma=!1,T=0,U=-1,V=0,X=-1,W=-1,Y=null,Z=null,_=0,aa=0,ca=0,da=0,ea=0,fa=0,ga=0,ha=0,la=0,na=0,ma=0,ia=-1,ja=0,qa=-1,pa=-1,ua=0,va=-1,ka=-1,wa=-1,ra=-1,sa=-1,ta=-1,W=-1,X=-1,Ea=0,Qa=!1,Ra=!1,Ka.disableAutoUpdate(),null!=xa&&(h.clearTimeout(xa),xa=null),null!=L&&L.cancel(),null!=M&&M.stop(),null!=N&&N.stop())},initializeStorage:function(a){K=a||new h.Storage},initializeQueue:function(a){N=a||new x(Ka)},initializeKeepAliveAlarm:function(a){L=a||new y(Ka,l.KEEPALIVE_INTERVAL_MS)},initializeOfflineCache:function(a){J=a||new A(Ka)},initializeCacheFlusher:function(a){M=a||new B(Ka)},initializeConnectivityChangeReceiver:function(a){O=new C(Ka)},loadInitialSettings:function(){var a=f("AppName");null!=a&&Ka.setAppName(a);var b=f("AppVersion");null!=b&&Ka.setAppVersion(b)},restoreVisitorId:function(){Ia&&K.has(l.VID_KEY)&&(za=K.get(l.VID_KEY))},incrementRunsCount:function(){Ia&&(T++,K.set(l.RUNS_COUNT_KEY,T+""))},handleColdStart:function(){return!Ma&&(Ma=!0,V++,K.set(l.COLD_START_COUNT_KEY,V+""),U=+new Date,!0)},scheduleUserInteractionTask:function(){Ia&&(null!=xa&&(h.clearTimeout(xa),xa=null),xa=h.setTimeout(function(){null!=xa&&(h.clearTimeout(xa),xa=null),D()},l.USER_SESSION_INACTIVE_PERIOD))},getOfflineCache:function(){return J},getConnectivityReceiver:function(){return O},getStorage:function(){return K},getQueue:function(){return N},getKeepAlive:function(){return L},getCacheFlusher:function(){return M},getDispatchProperties:function(){return P},onUxActive:function(){Ia&&(I()||(pa<0&&(pa=0),aa++,D()))},onUxInactive:function(){Ia&&(I()||aa>0&&(aa--,D()))},onEnterForeground:function(){Ia&&(I()||(_++,D()))},onExitForeground:function(){Ia&&(I()||_>0&&(_--,D()))},onUserInteraction:function(){Ia&&(I()||(pa<0&&(pa=0),qa<0&&(qa=0),va=+new Date,ua++,Pa!=o.ACTIVE_USER?D():Ka.scheduleUserInteractionTask()))},getApplicationState:function(){return Oa},getSessionState:function(){return Pa},getRunsCount:function(){return T},getInstallId:function(){return W},getFirstInstallId:function(){return X},getColdStartId:function(){return U},getColdStartCount:function(){return V},getPreviousVersion:function(){return Z},setPreviousVersion:function(a){Z=a},getForegroundTransitionsCountDelta:function(a){a="undefined"==typeof a||a;var b=ba;return a&&(ba=0,K.set(l.FOREGROUND_TRANSITION_COUNT_KEY,ba+"")),b},getForegroundTotalTime:function(a){a="undefined"==typeof a||a;var b=ca;return a&&(ca=0,K.set(l.TOTAL_FOREGROUND_TIME_KEY,ca+"")),b},getForegroundTimeDelta:function(a){a="undefined"==typeof a||a;var b=ga;return a&&(ga=0,K.set(l.ACCUMULATED_FOREGROUND_TIME_KEY,ga+"")),b},getBackgroundTotalTime:function(a){a="undefined"==typeof a||a;var b=da;return a&&(da=0,K.set(l.TOTAL_BACKGROUND_TIME_KEY,da+"")),b},getBackgroundTimeDelta:function(a){a="undefined"==typeof a||a;var b=fa;return a&&(fa=0,K.set(l.ACCUMULATED_BACKGROUND_TIME_KEY,fa+"")),b},getInactiveTotalTime:function(a){a="undefined"==typeof a||a;var b=ea;return a&&(ea=0,K.set(l.TOTAL_INACTIVE_TIME_KEY,ea+"")),b},getInactiveTimeDelta:function(a){a="undefined"==typeof a||a;var b=ha;return a&&(ha=0,K.set(l.ACCUMULATED_INACTIVE_TIME_KEY,ha+"")),b},getApplicationSessionTimeDelta:function(a){a="undefined"==typeof a||a;var b=la;return a&&(la=0,K.set(l.ACCUMULATED_APPLICATION_SESSION_TIME_KEY,la+"")),b},getActiveUserSessionTimeDelta:function(a){a="undefined"==typeof a||a;var b=na;return a&&(na=0,K.set(l.ACCUMULATED_ACTIVE_USER_SESSION_TIME_KEY,na+"")),b},getUserSessionTimeDelta:function(a){a="undefined"==typeof a||a;var b=ma;return a&&(ma=0,K.set(l.ACCUMULATED_USER_SESSION_TIME_KEY,ma+"")),b},getAutoUpdateInterval:function(){return S},getApplicationSessionCountDelta:function(a){a="undefined"==typeof a||a;var b=oa;return a&&(oa=0,K.set(l.APPLICATION_SESSION_COUNT_KEY,oa+"")),b},getActiveUserSessionCountDelta:function(a){a="undefined"==typeof a||a;var b=-1;return qa>=0&&(b=qa,a&&(qa=0,K.set(l.ACTIVE_USER_SESSION_COUNT_KEY,qa+""))),b},getUserSessionCountDelta:function(a){a="undefined"==typeof a||a;var b=-1;return pa>=0&&(b=pa,a&&(pa=0,K.set(l.USER_SESSION_COUNT_KEY,pa+""))),b},getUserInteractionCount:function(a){a="undefined"==typeof a||a;var b=ua;return a&&(ua=0,K.set(l.USER_INTERACTION_COUNT_KEY,ua+"")),b},setAppContext:function(){Ua||(h.autoSelect(),d(),Ka.loadInitialSettings(),Ka.restoreVisitorId(),Ua=!0)},setEnabled:function(a){Ia&&null!=a&&!a&&(Ia=!1,M.stop(),O.stop(),L.stop())},getEnabled:function(){return Ia},getAppContext:function(){return{}},getCurrentActivityName:function(){return $},setCurrentActivityName:function(a){$=a},setPixelURL:function(a){if(Ia){if(null==a||0===a.length)return null;Qa=!0;var b=a.indexOf("?");if(b>=0){if(b<a.length-1){for(var c=a.substring(b+1).split("&"),d=0,e=c.length;d<e;d++){var f=c[d].split("=");2==f.length?Ka.setLabel(f[0],f[1]):1==f.length&&Ka.setLabel(l.PAGE_NAME_LABEL,f[0])}a=a.substring(0,b+1)}}else a+="?";return ya=a}},isKeepAliveEnabled:function(){return Ha},setKeepAliveEnabled:function(a){a&&(Ha=a)},getPixelURL:function(){return ya},getCrossPublisherId:function(){return Aa},isCrossPublisherIdChanged:function(){return h.isCrossPublisherIdChanged()||Sa},getVisitorId:function(){return null==za&&E(),za},setVisitorId:E,generateCrossPublisherId:F,setSalt:function(a){return null==a||0===a.length?Ka:(Ca=a,Ka)},getSalt:function(){return null==Ca&&(Ca=""),Ca},setAppName:function(a){Ia&&(Da=a)},getAppName:function(){return null!=Da&&0!==Da.length||Ka.setAppName(h.getAppName()),Da},setAppVersion:function(b){if(K)if(b&&b!=c.UNKNOWN_VALUE){K.has(l.PREVIOUS_VERSION_KEY)&&(Z=K.get(l.PREVIOUS_VERSION_KEY)+"");var d;K.has(l.CURRENT_VERSION_KEY)&&(d=K.get(l.CURRENT_VERSION_KEY)+""),d&&d!==b?(Z=d,K.set(l.PREVIOUS_VERSION_KEY,Z+""),W=ia,K.set(l.INSTALL_ID_KEY,W+"")):W=a.parseLong(K.get(l.INSTALL_ID_KEY),-1),K.set(l.CURRENT_VERSION_KEY,b+"")}else W=a.parseLong(K.get(l.INSTALL_ID_KEY),-1);Y=b},getAppVersion:function(){return Y},getVersion:function(){return l.CORE_VERSION},getConnectorVersion:function(){return b},getGenesis:function(){return ia},getPreviousGenesis:function(){return ja},setExitCode:function(a){K.set(l.EXIT_CODE_KEY,a.toString(10))},getExitCode:function(){return Ea},getLabels:function(){return Fa},setLabels:function(a){if(Ia)for(var b in a)a.hasOwnProperty(b)&&Ka.setLabel(b,a[b])},getLabel:function(a){return Fa[a]},setLabel:function(a,b){if(Ia)return a&&!b?void delete Fa[a]:void(Fa[a]=b)},setAutoStartLabels:function(b){Ia&&null!=b&&a.extend(Ga,b)},getAutoStartLabel:function(a){return Ga[a]},getAutoStartLabels:function(){return Ga},setAutoStartLabel:function(a,b){Ia&&(Ga[a]=b)},getCustomerC2:function(){return Fa.c2},setCustomerC2:function(a){if(Ia&&null!=a&&0!==a.length){var b=P.isSecure()?l.CENSUS_URL_SECURE:l.CENSUS_URL;Ka.setPixelURL(b),Qa=!1,Ka.setLabel("c2",a)}},getLiveTransmissionMode:function(){return P.getLiveTransmissionMode()},allowLiveTransmission:function(a){Ia&&P.getLiveTransmissionMode()!=a&&(P.allowLiveTransmission(a),null!=N&&N.enqueueSettingChange(w.LIVE_TRANSMISSION_MODE,a))},getOfflineTransmissionMode:function(){return P.getOfflineTransmissionMode()},allowOfflineTransmission:function(a){Ia&&P.getOfflineTransmissionMode()!=a&&(P.allowOfflineTransmission(a),null!=N&&N.enqueueSettingChange(w.OFFLINE_TRANSMISSION_MODE,a))},setSecure:function(a){Ia&&(this.getCustomerC2()||(Ra=!0,P.isSecure()!=a&&(P.setSecure(a),null!=N&&N.enqueueSettingChange(w.SECURE_MODE,Boolean.valueOf(a)))))},setSecureInternal:function(a){if(!Ra&&(P.setSecure(!!a),null!=N&&N.enqueueSettingChange(w.SECURE_MODE,!!a),Ka.getCustomerC2()&&!Qa)){var b=P.isSecure()?l.CENSUS_URL_SECURE:l.CENSUS_URL;Ka.setPixelURL(b),Qa=!1}},setAutoStartEnabled:function(a){Ia&&(Na=a)},isAutoStartEnabled:function(){return Na},isSecure:function(){return P.isSecure()},setCacheMaxMeasurements:function(a){null!=J&&J.setCacheMaxMeasurements(a)},getCacheMaxMeasurements:function(){return null!=J?J.getCacheMaxMeasurements():l.CACHE_MAX_SIZE},setCacheMaxBatchFiles:function(a){null!=J&&J.setCacheMaxBatchFiles(a)},getCacheMaxBatchFiles:function(){return null!=J?J.getCacheMaxBatchFiles():l.CACHE_MAX_BATCH_SIZE},setCacheMaxFlushesInARow:function(a){null!=J&&J.setCacheMaxPosts(a)},getCacheMaxFlushesInARow:function(){return null!=J?J.getCacheMaxPosts():l.CACHE_MAX_FLUSHES_INAROW},setCacheMinutesToRetry:function(a){null!=J&&J.setCacheWaitMinutes(a)},getCacheMinutesToRetry:function(){return null!=J?J.getCacheWaitMinutes():l.CACHE_WAIT_MINUTES},setCacheMeasurementExpiry:function(a){null!=J&&J.setCacheMeasurementExpiry(a)},getCacheMeasurementExpiry:function(){return null!=J?J.getCacheMeasurementExpiry():l.CACHE_EXPIRY_DAYS},getCacheFlushingInterval:function(){return Va},setCacheFlushingInterval:function(a){Ia&&Va!=a&&(Va=a,null!=M&&M.update())},getMeasurementLabelOrder:function(){return P.getMeasurementLabelOrder()},setMeasurementLabelOrder:function(a){Ia&&a!=P.getMeasurementLabelOrder()&&(P.setMeasurementLabelOrder(a),N.enqueueSettingChange(w.MEASUREMENT_LABEL_ORDER,a))},flush:function(){null!=N&&N.enqueueCacheFlush()},update:function(a){Ia&&(a="undefined"==typeof a||a,v(a),z(a))},enableAutoUpdate:function(a,b){Ia&&(H(),a<l.DEFAULT_AUTOUPDATE_INTERVAL_IN_SECONDS&&(a=l.DEFAULT_AUTOUPDATE_INTERVAL_IN_SECONDS),La=b,S=1e3*a,Oa==n.FOREGROUND?G():Oa!=n.BACKGROUND_UX_ACTIVE||La||G())},disableAutoUpdate:function(){Ia&&(H(),La=!0,S=-1)},isAutoUpdateEnabled:function(){return S>0},notify:function(a,b){Ia&&(I()||(Ma||a==m.START||R.send(m.START,{},Qa?ya:null),a==m.CLOSE?(Ka.setExitCode(0),Ka.update(!0)):R.send(a,b,Qa?ya:null)))},setOfflineURL:function(a){Ia&&J.setUrl(a)},getPlatformAPI:function(){return h},setPlatformAPI:function(a){h.setPlatformAPI(a)},getMeasurementDispatcher:function(){return R},clearInternalData:function(){K&&K.clear()},cacheHttpRedirects:function(a){Ja=a},isHttpRedirectCaching:function(){return Ja}}),Ha=!0,P=new w,Fa={},Ga={},Ia=!0,Ja=!0,Ka.reset()}}(),F=new E,G=function(){return{TransmissionMode:p,exports:{c:function(){return F},am:r,et:m},getCore:function(){return F},setAppContext:function(a){F.setAppContext(a)},setEnabled:function(a){F.setEnabled(a)},getEnabled:function(){return F.getEnabled()},onUxActive:function(){F.onUxActive()},onUxInactive:function(){F.onUxInactive()},onEnterForeground:function(){F.onEnterForeground()},onExitForeground:function(){F.onExitForeground()},onUserInteraction:function(){F.onUserInteraction()},update:function(){F.update()},enableAutoUpdate:function(a,b){F.enableAutoUpdate(a||l.DEFAULT_AUTOUPDATE_INTERVAL_IN_SECONDS,void 0===b||b)},disableAutoUpdate:function(){F.disableAutoUpdate()},isAutoUpdateEnabled:function(){return F.isAutoUpdateEnabled()},start:function(a){F.notify(m.START,a||{})},view:function(a){F.notify(m.VIEW,a||{})},hidden:function(a){F.notify(m.HIDDEN,a||{})},close:function(a){F.notify(m.CLOSE,a)},aggregate:function(a){F.notify(m.AGGREGATE,a)},getPixelURL:function(){return F.getPixelURL()},setPixelURL:function(a){F.setPixelURL(a)},getCustomerC2:function(){return F.getCustomerC2()},setCustomerC2:function(a){F.setCustomerC2(a)},getAppName:function(){return F.getAppName()},setAppName:function(a){F.setAppName(a)},getAppVersion:function(){return F.getAppVersion()},setAppVersion:function(a){F.setAppVersion(a)},getGenesis:function(){return F.getGenesis()},getVisitorID:function(){return F.getVisitorId()},setVisitorId:function(a,b){F.setVisitorId(a,b)},getCrossPublisherId:function(){return F.getCrossPublisherId()},getOfflineTransmissionMode:function(){return F.getOfflineTransmissionMode()},allowOfflineTransmission:function(a){F.allowOfflineTransmission(a)},getLiveTransmissionMode:function(){return F.getLiveTransmissionMode()},allowLiveTransmission:function(a){F.allowLiveTransmission(a)},getPublisherSecret:function(){
return F.getSalt()},setPublisherSecret:function(a){F.setSalt(a)},flushCache:function(){F.flush()},clearOfflineCache:function(){F.getOfflineCache().clear()},setLabel:function(a,b){F.setLabel(a,b)},getLabel:function(a){return F.getLabel(a)},setLabels:function(a){F.setLabels(a)},getLabels:function(){return F.getLabels()},setAutoStartLabels:function(a){F.setAutoStartLabels(a)},getAutoStartLabel:function(a){return F.getAutoStartLabel(a)},getAutoStartLabels:function(){return F.getAutoStartLabels()},setAutoStartLabel:function(a,b){F.setAutoStartLabel(a,b)},isKeepAliveEnabled:function(){return F.isKeepAliveEnabled()},setKeepAliveEnabled:function(a){F.setKeepAliveEnabled(a)},setCacheMaxMeasurements:function(a){F.setCacheMaxMeasurements(a)},getCacheMaxMeasurements:function(){return F.getCacheMaxMeasurements()},setCacheMaxBatchFiles:function(a){F.setCacheMaxBatchFiles(a)},getCacheMaxBatchFiles:function(){return F.getCacheMaxBatchFiles()},setCacheMaxFlushesInARow:function(a){F.setCacheMaxFlushesInARow(a)},getCacheMaxFlushesInARow:function(){return F.getCacheMaxFlushesInARow()},setCacheMinutesToRetry:function(a){F.setCacheMinutesToRetry(a)},getCacheMinutesToRetry:function(){return F.getCacheMinutesToRetry()},setCacheMeasurementExpiry:function(a){F.setCacheMeasurementExpiry(a)},getCacheMeasurementExpiry:function(){return F.getCacheMeasurementExpiry()},getCacheFlushingInterval:function(){return F.getCacheFlushingInterval()},setCacheFlushingInterval:function(a){F.setCacheFlushingInterval(a)},setSecure:function(a){F.setSecure(a)},isSecure:function(){return F.isSecure()},getMeasurementLabelOrder:function(){return F.getMeasurementLabelOrder()},setMeasurementLabelOrder:function(a){F.setMeasurementLabelOrder(a)},setAutoStartEnabled:function(a){F.setAutoStartEnabled(a)},isAutoStartEnabled:function(){return F.isAutoStartEnabled()},getVersion:function(){return F.getVersion()},getConnectorVersion:function(){return F.getConnectorVersion()},getPlatformAPI:function(){return F.getPlatformAPI()},setPlatformAPI:function(a){F.setPlatformAPI(a)},setOfflineURL:function(a){F.setOfflineURL(a)},clearInternalData:function(){F.clearInternalData()},cacheHttpRedirects:function(a){F.cacheHttpRedirects(a)}}}();!function(){if("windows"==cordova.platformId){var a=ComScore.cordova.ComScoreCordovaNativeSystemInfo,b=ComScore.cordova.ComScoreNativeNetworkInfo,c=ComScore.cordova.ComScoreCordovaNativeIds,d=ComScore.cordova.ComScoreCordovaScreenInfo;cordova.commandProxy.add("ComScore",{getSystemInfo:function(b,c,d){var e={model:a.getDeviceName(),os:a.getOperatingSystem(),systemVersion:a.getOperatingSystemVersion(),lang:a.getLanguage(),packageName:a.getPackageName(),arch:a.getDeviceArchitecture(),ashwid:a.getASHWID()};b(e)},networkInfo:function(a,c,d){var e={isConnected:b.hasInternetAccess(),connType:b.getCannonicalConnectionType()};a(e)},loadDeviceIds:function(a,b,d){var e=c.loadIds();a(e)},getScreenSize:function(a,b,c){var e=d.getScale(),f={scale:e!=-1?e:null,width:screen.width,height:screen.height,innerWidth:window.innerWidth,innerHeight:window.innerHeight};a(f)}})}}();var H=function(){function b(a,b){var c=5,d=function(){c--,0==c&&a()};f(d,b),g(d,b),h(d,b),l(d,b),m(d,b)}function f(a,b){cordova.exec(function(b){o=b,a()},function(a){b()},"ComScore","loadDeviceIds",[""])}function g(a,b){cordova.exec(function(b){p=b,a()},function(a){b()},"ComScore","getScreenSize",[""])}function h(a,b){cordova.exec(function(b){q=b,a()},function(){b()},"ComScore","networkInfo",[""])}function l(a,b){cordova.exec(function(b){r=b.isRoot,a()},function(){b()},"ComScore","isJailBroken",[""])}function m(a,b){cordova.exec(function(b){s=b,n(),a()},function(){b()},"ComScore","getSystemInfo",[""])}function n(){ns_.comScore.getCore().setSecureInternal(H.isConnectionSecure())}var o=null,p=null,q=null,r=null,s=null;return{PLATFORM:"cordova",httpGet:function(){return a.exists(Image)?e.apply(this,arguments):i.apply(this,arguments)},httpPost:j,Storage:d,IO:k,onDataFetch:function(a,c){b(a,c)},getCrossPublisherId:function(){if(a.isEmpty(o)||a.isEmpty(o.crossPublisherID))return null;var b=o.crossPublisherID;return b+=a.isEmpty(o.alwaysSend)?" false":" "+o.alwaysSend},getAppName:function(){return c.UNKNOWN_VALUE},getAppVersion:function(a){return c.UNKNOWN_VALUE},getVisitorId:function(){return a.isEmpty(o)||a.isEmpty(o.visitorID)||a.isEmpty(o.suffix)?+new Date+~~(1e3*Math.random()):o.visitorID},getVisitorIdSuffix:function(){return a.isEmpty(o)||a.isEmpty(o.visitorID)||a.isEmpty(o.suffix)?"72":o.suffix},getDeviceModel:function(){return a.isEmpty(s)||a.isEmpty(s.model)?c.UNKNOWN_VALUE:s.model},getPlatformVersion:function(){return cordova.version},getPlatformName:function(){return a.isEmpty(s)||a.isEmpty(s.os)?c.UNKNOWN_VALUE:s.os.toLowerCase()},getRuntimeName:function(){return this.PLATFORM},getRuntimeVersion:function(){return a.isEmpty(s)||a.isEmpty(s.systemVersion)?c.UNKNOWN_VALUE:s.systemVersion},getDisplayResolution:function(){if(a.isEmpty(p))return c.UNKNOWN_RESOLUTION;if(!p.width||!p.height)return c.UNKNOWN_RESOLUTION;var b=p.width,d=p.height;return p.scale&&(b=Math.round(b*p.scale),d=Math.round(d*p.scale)),b+"x"+d},getApplicationResolution:function(){if(a.isEmpty(p))return c.UNKNOWN_RESOLUTION;if(!p.innerWidth||!p.innerHeight)return c.UNKNOWN_RESOLUTION;var b=p.innerWidth,d=p.innerHeight;return p.scale&&(b=Math.round(b*p.scale),d=Math.round(d*p.scale)),b+"x"+d},getLanguage:function(){return a.isEmpty(s)||a.isEmpty(s.lang)?c.UNKNOWN_VALUE:s.lang},getPackageName:function(){return a.isEmpty(s)||a.isEmpty(s.packageName)?c.UNKNOWN_VALUE:s.packageName},isConnectionAvailable:function(){return!(!a.isEmpty(q)&&!a.isEmpty(q.isConnected))||q.isConnected},getConnectionType:function(){return a.isEmpty(q)||a.isEmpty(q.connType)||"none"==q.connType?c.UNKNOWN_VALUE:q.connType},isCompatible:function(){return!0},getDeviceJailBrokenFlag:function(){return null!==r?r?"1":"0":c.UNKNOWN_VALUE},getDeviceArchitecture:function(){return a.isEmpty(s)||a.isEmpty(s.arch)?c.UNKNOWN_VALUE:s.arch},processMeasurementLabels:function(b){if("ios"===cordova.platformId){var d=b.getLabel("c12").split("-");if(2!==d.length)return;var e=d[0].toUpperCase()+"-"+d[1];b.setLabel("c12",e)}if("windows"===cordova.platformId){var f=c.UNKNOWN_VALUE;a.isEmpty(s)||a.isEmpty(s.ashwid)||(f=s.ashwid),b.setLabel("ns_ap_hw",f)}},isConnectionSecure:function(){if("ios"!=cordova.platformId)return!1;if(a.isEmpty(s)||a.isEmpty(s.systemVersion))return!1;var b=parseInt(s.systemVersion.split(".")[0]);return b>=9}}}();return function(a){document.addEventListener("pause",function(){a.comScore.onExitForeground()},!1),document.addEventListener("resume",function(){a.comScore.onEnterForeground()},!1)}(ns_),a.extend(h,H),G}(),module.exports=ns_;